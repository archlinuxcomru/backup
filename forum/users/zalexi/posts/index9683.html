


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/users/zalexi/posts/?page=18 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 08:06:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        zalexi Сообщения
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/topics/index.html" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../../index.html">Форум</a></li>
    <li class=""><a href="../../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../../index.html">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-22147"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22147/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>sleepycat</strong><br/>Не надо мне читать, мне надо выдергивать из ленты нужные (подходящие под шаблон) торренты и закачивать, без моего участи в процессе.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-22145"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22145/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>rnqlover</strong><br/>Мне просто надо работать с RSS, а кто будет собирать и как - всё равно. На винде именно utorrent прекрасно работал с RSS, думал что и тут тот же функционал остался, но увы.<br/><strong>Gineaser</strong><br/>Торрент-клиент, умеющий работать с RSS, сам выбирает и скачивает торренты с RSS-ленты трекера (например, Лостфильма) по указанному пользователем шаблону. Очень удобно качать сериалы, т.к. новые серии автоматически добавляются в закачку.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-22144"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22144/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>RiD</strong><br/>Подскажи, пожалуйста, как ставил и как настраивал.<br/>Запуск через <strong>&ldquo;sudo /etc/rc.d/rtorrentd start&rdquo;</strong> - не идет, а если запустить в терминале "<strong>sudo screen -d -m -S rtorrent rtorrent"</strong> (взял из <strong>/etc/rc.d/rtorrentd</strong>), то вроде как запускается <em>rtorrent</em>, и <strong>sudo screen -r</strong> выдаёт окно <em>rtorrenta</em> и надписи внизу:<br/><div class="code"><pre>(13:47:44) Using 'epoll' based polling.
(13:47:44) Could not read resource file: ~/.rtorrent.rc</pre></div>web всё те же надписи выдаёт, что нет связи с rtorrent и проверьте порты scgi.<br/><br/><strong>bobart</strong><br/>Благодарю, уже читал.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-22138"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22138/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>rnqlover</strong><br/>Поставил utserver, запустил. Но как работать с RSS? Получается очень урезаный функционал. Таких програм и родных под Линукс много. Мне нужна именно возможность работы с RSS.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-22136"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22136/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>2rnqlover</strong><br/>utorrent-server такой же легкий и быстрый как rtorrent? Насколько стабилен, ведь он еще альфа? Я на арч с dwm только из-за минимализма, быстроты и легкости переходил.<br/><strong>2Gineaser</strong><br/>Пробовал Deluge. Отказался из-за невозможности нормально работать с RSS.<br/>Лучше всего по функционалу был ktorrent, но после перехода на Arch+dwm - не вижу смысла грузить кучу библиотек и запускать в фоне ненужные процессы.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-22133"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/22133/index.html">#</a>
            10 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            Хочу перейти на rtorrent. Не получается запустить. Установку и настройку поизводил по статье: <a href="http://habrahabr.ru/post/120167/">http://habrahabr.ru/post/120167/</a>. Вроде и руки не особо кривые, и с головой дружу, и даже на Убунте  в свое время поставил <strong>rtorrent</strong> (только с <strong>lighttpd</strong>). Но в этом случає не получается запустить rtorrent.<br/>Согласно статье можно поставить ВМЕСТЕ <strong>rtorrent-color</strong> и <strong>libtorrent-extended</strong>. Но <strong>rtorrent-color</strong> у меня во время сборки выдал ошибку, взамен ему поставил простой <strong>rtorrent</strong>, который, в свою очередь, вступил в конфликт с <strong>libtorrent-extended</strong>, который пришлось удалить. В итоге, у меня стоит только <strong>rtorrent</strong> с основного репозитория. По ходу вопрос: Какой лучше ставить <strong>rtorrent</strong>, расчитывая его круглосуточное использование и управление через web-интерфейс (<strong>rutorrent</strong>)?<br/>Вот мои конфиги, выложенные по порядку исправления, согласно статье <a href="http://habrahabr.ru/post/120167/">http://habrahabr.ru/post/120167/</a> (пользователь = &ldquo;z&rdquo;, система = &ldquo;notebook&rdquo;):<br/><strong>/etc/php/php-fpm.conf</strong><br/><div class="code"><pre>;;;;;;;;;;;;;;;;;;;;;
; FPM Configuration ;
;;;;;;;;;;;;;;;;;;;;;
... вырезал всё, что не раскомментировано ...
;;;;;;;;;;;;;;;;;;
; Global Options ;
;;;;;;;;;;;;;;;;;;
[global]
; Pid file
; Note: the default prefix is /var
; Default Value: none
pid = run/php-fpm/php-fpm.pid
;;;;;;;;;;;;;;;;;;;;
; Pool Definitions ;
;;;;;;;;;;;;;;;;;;;;
; Start a new pool named 'www'.
; the variable $pool can we used in any directive and will be replaced by the
; pool name ('www' here)
[www]
; Unix user/group of processes
; Note: The user is mandatory. If the group is not set, the default user's group
;       will be used.
user = http
group = http
; The address on which to accept FastCGI requests.
; Valid syntaxes are:
;   'ip.add.re.ss:port'    - to listen on a TCP socket to a specific address on
;                            a specific port;
;   'port'                 - to listen on a TCP socket to all addresses on a
;                            specific port;
;   '/path/to/unix/socket' - to listen on a unix socket.
; Note: This value is mandatory.
listen = 127.0.0.1:9000
;listen = /var/run/php-fpm/php-fpm.sock
; Set permissions for unix socket, if one is used. In Linux, read/write
; permissions must be set in order to allow connections from a web server. Many
; BSD-derived systems allow connections regardless of permissions.
; Default Values: user and group are set as the running user
;                 mode is set to 0666
listen.owner = http
listen.group = http
listen.mode = 0660
; Choose how the process manager will control the number of child processes.
; Possible Values:
;   static  - a fixed number (pm.max_children) of child processes;
;   dynamic - the number of child processes are set dynamically based on the
;             following directives. With this process management, there will be
;             always at least 1 children.
;             pm.max_children      - the maximum number of children that can
;                                    be alive at the same time.
;             pm.start_servers     - the number of children created on startup.
;             pm.min_spare_servers - the minimum number of children in 'idle'
;                                    state (waiting to process). If the number
;                                    of 'idle' processes is less than this
;                                    number then some children will be created.
;             pm.max_spare_servers - the maximum number of children in 'idle'
;                                    state (waiting to process). If the number
;                                    of 'idle' processes is greater than this
;                                    number then some children will be killed.
;  ondemand - no children are created at startup. Children will be forked when
;             new requests will connect. The following parameter are used:
;             pm.max_children           - the maximum number of children that
;                                         can be alive at the same time.
;             pm.process_idle_timeout   - The number of seconds after which
;                                         an idle process will be killed.
; Note: This value is mandatory.
pm = static
; The number of child processes to be created when pm is set to 'static' and the
; maximum number of child processes when pm is set to 'dynamic' or 'ondemand'.
; This value sets the limit on the number of simultaneous requests that will be
; served. Equivalent to the ApacheMaxClients directive with mpm_prefork.
; Equivalent to the PHP_FCGI_CHILDREN environment variable in the original PHP
; CGI. The below defaults are based on a server without much resources. Don't
; forget to tweak pm.* to fit your needs.
; Note: Used when pm is set to 'static', 'dynamic' or 'ondemand'
; Note: This value is mandatory.
pm.max_children = 2
; The number of child processes created on startup.
; Note: Used only when pm is set to 'dynamic'
; Default Value: min_spare_servers + (max_spare_servers - min_spare_servers) / 2
pm.start_servers = 2
; The desired minimum number of idle server processes.
; Note: Used only when pm is set to 'dynamic'
; Note: Mandatory when pm is set to 'dynamic'
pm.min_spare_servers = 1
; The desired maximum number of idle server processes.
; Note: Used only when pm is set to 'dynamic'
; Note: Mandatory when pm is set to 'dynamic'
pm.max_spare_servers = 3</pre></div><strong>/etc/nginx/conf/nginx.conf</strong><br/><div class="code"><pre>#
# #user http;
# worker_processes  2;
#
# #error_log  logs/error.log;
# error_log  /var/log/nginx/error.log;
# #error_log  logs/error.log  notice;
# #error_log  logs/error.log  info;
#
# #pid        logs/nginx.pid;
# pid        /var/run/nginx.pid;
#
# events {
#     worker_connections  1024;
#     use epoll;
# }
#
#
# http {
#     include       mime.types;
#     default_type  application/octet-stream;
#
#     #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
#     #                  '$status $body_bytes_sent "$http_referer" '
#     #                  '"$http_user_agent" "$http_x_forwarded_for"';
#
#     #access_log  logs/access.log  main;
#
#     sendfile        on;
#     #tcp_nopush     on;
#
#     #keepalive_timeout  0;
#     keepalive_timeout  65;
#
#     #gzip  on;
#
#     server {
#         listen       80;
#         server_name  localhost;
#
#         #charset koi8-r;
#
#         #access_log  logs/host.access.log  main;
#
#         location / {
#             root   html;
#             index  index.html index.htm;
#         }
#
#         #error_page  404              /404.html;
#
#         # redirect server error pages to the static page /50x.html
#         #
#         error_page   500 502 503 504  /50x.html;
#         location = /50x.html {
#             root   html;
#         }
#
#         # proxy the PHP scripts to Apache listening on 127.0.0.1:80
#         #
#         #location ~ \.php$ {
#         #    proxy_pass   <a href="http://127.0.0.1/">http://127.0.0.1</a>;
#         #}
#
#         # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
#         #
#         #location ~ \.php$ {
#         #    root           html;
#         #    fastcgi_pass   127.0.0.1:9000;
#         #    fastcgi_index  index.php;
#         #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
#         #    include        fastcgi_params;
#         #}
#
#         # deny access to .htaccess files, if Apache's document root
#         # concurs with nginx's one
#         #
#         #location ~ /\.ht {
#         #    deny  all;
#         #}
#     }
#
#
#     # another virtual host using mix of IP-, name-, and port-based configuration
#     #
#     #server {
#     #    listen       8000;
#     #    listen       somename:8080;
#     #    server_name  somename  alias  another.alias;
#
#     #    location / {
#     #        root   html;
#     #        index  index.html index.htm;
#     #    }
#     #}
#
#
#     # HTTPS server
#     #
#     #server {
#     #    listen       443;
#     #    server_name  localhost;
#
#     #    ssl                  on;
#     #    ssl_certificate      cert.pem;
#     #    ssl_certificate_key  cert.key;
#
#     #    ssl_session_timeout  5m;
#
#     #    ssl_protocols  SSLv2 SSLv3 TLSv1;
#     #    ssl_ciphers  HIGH:!aNULL:!MD5;
#     #    ssl_prefer_server_ciphers   on;
#
#     #    location / {
#     #        root   html;
#     #        index  index.html index.htm;
#     #    }
#     #}
#
# }
worker_processes 2;
error_log  /var/log/nginx/error.log;
pid        /var/run/nginx.pid;
events {
	worker_connections  1024;
	use epoll;
}
http {
	include		/etc/nginx/conf/mime.types;
	default_type	application/octet-stream;
	upstream backend {
		server 127.0.0.1:9000;
	}
	upstream backendrtorrent {
		server unix:/home/z/.rtorrent.sock;
	}
	sendfile		on;
	keepalive_timeout	65;
	include /etc/nginx/conf/sites-enabled/*;
	include /etc/nginx/conf/conf.d/*;
}</pre></div><strong>/etc/nginx/conf/sites-available/rutorrent.notebook</strong><br/><blockquote>server {<br/>	listen 80;<br/>	server_name localhost;<br/><br/>	access_log	/srv/http/nginx/rutorrent.notebook/logs/access.log;<br/>	error_log	/srv/http/nginx/rutorrent.notebook/logs/errors.log;<br/><br/>	location / {<br/>		root /srv/http/nginx/rutorrent.notebook/htdocs;<br/>		index index.php index.html index.htm;<br/>	}<br/><br/>	location /RPC2 {<br/>		include /etc/nginx/conf/scgi_params;<br/>		scgi_pass backendrtorrent;<br/>	}<br/><br/>	location ~ /\.ht {<br/>		deny all;<br/>        }<br/><br/>	location ~* \.(jpg|jpeg|gif|bmp|ico|png|css|js|swf)$ {<br/>		root /srv/http/nginx/rutorrent.notebook/htdocs;<br/>		access_log off;<br/>		expires 30d;<br/>	}<br/><br/>	location ~ .php$ {<br/>		fastcgi_split_path_info ^(.+\.php)(.*)$;<br/>		fastcgi_pass	backend;<br/>		fastcgi_index	index.php;<br/>		fastcgi_param	SCRIPT_FILENAME	/srv/http/nginx/rutorrent.notebook/htdocs$fastcgi_script_name;<br/>		include fastcgi_params;<br/>		fastcgi_param	QUERY_STRING	$query_string;<br/>		fastcgi_param	REQUEST_METHOD	$request_method;<br/>		fastcgi_param	CONTENT_TYPE	$content_type;<br/>		fastcgi_param	CONTENT_LENGTH	$content_length;<br/>		fastcgi_intercept_errors	on;<br/>		fastcgi_ignore_client_abort	off;<br/>		fastcgi_connect_timeout		60;<br/>		fastcgi_send_timeout		180;<br/>		fastcgi_read_timeout		180;<br/>		fastcgi_buffer_size		128k;<br/>		fastcgi_buffers			4	256k;<br/>		fastcgi_busy_buffers_size	256k;<br/>		fastcgi_temp_file_write_size	256k;<br/>	}<br/>}</blockquote>Каталоги <strong>/srv/http/nginx/rutorrent.notebook/logs</strong> и <strong>/srv/http/nginx/rutorrent.notebook/htdocs</strong> - существуют.<br/><strong>/etc/hosts</strong><br/><blockquote>#<br/># /etc/hosts: static lookup table for host names<br/>#<br/><br/>#&lt;ip-address&gt;	&lt;hostname.domain.org&gt;	&lt;hostname&gt;<br/>127.0.0.1	localhost.localdomain	localhost notebook rutorrent.notebook<br/>::1		localhost.localdomain	localhost<br/><br/># End of file<br/></blockquote><strong>~/.rtorrent.rc</strong><br/><blockquote>scgi_local = /home/z/.rtorrent.sock<br/>scgi_port = 127.0.0.1:9000<br/><br/>max_memory_usage = 268435456<br/><br/>system.file_allocate.set = yes<br/><br/>#done_fg_color = 2<br/><br/>#done_bg_color = 0<br/><br/>#active_fg_color = 4<br/><br/>#active_bg_color = 0<br/><br/>#максимальная скорость загрузки<br/>download_rate = 250<br/><br/>#максимальная скорость отдачи. 0 - не ограничена<br/>upload_rate = 0<br/><br/>#каталог для сохранения закачек или откуда буду сидироваться торренты.<br/>directory = /home/z/Torrents<br/><br/>#каталог куда будет сохраняться состояние торрентов. Здесь, в этом примере, они сохраняются в папку session<br/>session = /home/torrent/session<br/>#session = /home/z/Torrents/.session<br/><br/>#rtorrent каждые 5 секунд проверяет этот каталог на новые *.torrent файлы и если они есть то ставит их на закачку<br/>schedule = watch_directory,5,60,load_start=/home/torrent/torrents/*.torrent<br/><br/>#номер порта (или нескольких портов) который открывает клиент для обмена данными<br/>port_range = 6881-6881<br/><br/>#случайный выбор порта для обмена данными. В данном случае он отключён<br/>port_random = no<br/><br/>#проверять хэш торрента после закачки<br/>check_hash = yes<br/><br/>#использовать udp<br/>use_udp_trackers = yes<br/><br/>#сохранять сессию<br/>session_save = yes<br/><br/>encryption = allow_incoming,try_outgoing,enable_retry,prefer_plaintext<br/><br/>dht = auto<br/><br/>dht_port = 6881<br/><br/>peer_exchange = yes<br/><br/>#минимальное число пиров на торрент<br/>min_peers = 1<br/><br/>#максимальное число пиров на торрент<br/>max_peers = 2000<br/><br/>#делает читадельным лог (вызывается по L)<br/>handshake_log = yes<br/><br/># Принудительно устанавливает кодировку UTF-8 для xmlrpc.<br/># Рекомендуется для устранения проблем при использовании в<br/># наименованиях торрентов символов кириллицы. Актуально для<br/># GUI, работающих через xmlrpc.<br/>encoding_list = UTF-8<br/><br/>#<br/>#scgi_port = localhost:5000<br/></blockquote><strong>/etc/rc.d/rtorrentd</strong><br/><blockquote>#!/usr/bin/env bash<br/><br/>. /etc/rc.conf<br/>. /etc/rc.d/functions<br/><br/>rtorrent_user=&ldquo;z&rdquo;<br/>rtorrent_socket=&ldquo;/home/z/.rtorrent.sock&rdquo;<br/><br/>case &ldquo;$1&rdquo; in<br/>	start)<br/>		stat_busy &ldquo;Starting rtorrent&rdquo;<br/>		if ; then<br/>			rm $rtorrent_socket<br/>		fi<br/>		su $rtorrent_user -c &lsquo;LANG=uk_UA.UTF-8 screen -d -m -S rtorrent rtorrent&rsquo; &amp;&gt; /dev/null<br/>		if ; then<br/>			stat_fail<br/>		else<br/>			while <br/>			do<br/>				printf &ldquo;%10s \r&rdquo; waiting<br/>			done<br/>			chmod 666 $rtorrent_socket<br/>			add_daemon rtorrent<br/>			stat_done<br/>		fi<br/>	;;<br/>	stop)<br/>		stat_busy &ldquo;Stopping rtorrent&rdquo;<br/>		killall -w -s 2 /usr/bin/rtorrent &amp;&gt; /dev/null<br/>		if ; then<br/>			rm $rtorrent_socket<br/>		fi<br/>		if ; then<br/>			stat_fail<br/>		else<br/>			rm_daemon rtorrent<br/>			stat_done<br/>		fi<br/>	;;<br/>	restart)<br/>		$0 stop<br/>		sleep 1<br/>		$0 start<br/>	;;<br/>	*)<br/>		echo &ldquo;usage: $0 {start|stop|restart}&rdquo;<br/>esac<br/>exit 0</blockquote><strong><u>Запуск rtorrent.</u></strong><br/><blockquote>sudo /etc/rc.d/rtorrentd start<br/>Пароль: <br/>:: Starting rtorrent<br/>waiting                   <br/></blockquote><blockquote>sudo screen -r<br/>There is no screen to be resumed.<br/></blockquote>Web-интерфейс пишет:<br/><blockquote>Нет связи с rTorrent. Проверьте, запущен ли он. Проверьте, что параметры $scgi_port и $scgi_host в файле config.php совпадают со значением переменной scgi_port в файле конфигурации rTorrent.</blockquote><strong>/srv/http/nginx/rutorrent.notebook/htdocs/conf/config.php</strong><br/><blockquote>&lt;?php<br/>	// configuration parameters<br/><br/>	// for snoopy client<br/>	@define('HTTP_USER_AGENT', &lsquo;Mozilla/5.0 (Windows; U; Windows NT 5.1; pl; rv:1.9) Gecko/2008052906 Firefox/3.0&rsquo;, true);<br/>	@define('HTTP_TIME_OUT', 30, true);	// in seconds<br/>	@define('HTTP_USE_GZIP', true, true);<br/>	$httpIP = null;				// IP string. Or null for any.<br/><br/>	@define('RPC_TIME_OUT', 5, true);	// in seconds<br/><br/>	@define('LOG_RPC_CALLS', false, true);<br/>	@define('LOG_RPC_FAULTS', true, true);<br/><br/>	// for php<br/>	@define('PHP_USE_GZIP', false, true);<br/>	@define('PHP_GZIP_LEVEL', 2, true);<br/><br/>	$do_diagnostic = true;<br/>	$log_file = &lsquo;/tmp/errors.log&rsquo;;		// path to log file (comment or leave blank to disable logging)<br/><br/>	$saveUploadedTorrents = true;		// Save uploaded torrents to profile/torrents directory or not<br/>	$overwriteUploadedTorrents = false;     // Overwrite existing uploaded torrents in profile/torrents directory or make unique name<br/><br/>	$topDirectory = &lsquo;/&rsquo;;			// Upper available directory. Absolute path with trail slash.<br/>	$forbidUserSettings = false;<br/><br/>	$scgi_port = 127.0.0.1:9000;<br/>	$scgi_host = &ldquo;unix:///home/z/.rtorrent.sock&rdquo;;<br/><br/>	// For web-&gt;rtorrent link through unix domain socket<br/>	// (scgi_local in rtorrent conf file), change variables<br/>	// above to something like this:<br/>	//<br/>	// $scgi_port = 0;<br/>	// $scgi_host = &ldquo;unix:///tmp/rpc.socket&rdquo;;<br/><br/>	$XMLRPCMountPoint = &ldquo;/RPC2&rdquo;;		// DO NOT DELETE THIS LINE!!! DO NOT COMMENT THIS LINE!!!<br/><br/>	$pathToExternals = array(<br/>		&ldquo;php&rdquo; 	=&gt; &lsquo;',			// Something like /usr/bin/php. If empty, will be found in PATH.<br/>		&ldquo;curl&rdquo;	=&gt; &rsquo;/usr/bin/curl',			// Something like /usr/bin/curl. If empty, will be found in PATH.<br/>		&ldquo;gzip&rdquo;	=&gt; &lsquo;',			// Something like /usr/bin/gzip. If empty, will be found in PATH.<br/>		&ldquo;id&rdquo;	=&gt; &rsquo;',			// Something like /usr/bin/id. If empty, will be found in PATH.<br/>		&ldquo;stat&rdquo;	=&gt; &lsquo;/usr/bin/stat&rsquo;,			// Something like /usr/bin/stat. If empty, will be found in PATH.<br/>	);<br/><br/>	$localhosts = array( 			// list of local interfaces<br/>		&ldquo;127.0.0.1&rdquo;,<br/>		&ldquo;localhost&rdquo;,<br/>	);<br/><br/>	$profilePath = &lsquo;../share&rsquo;;		// Path to user profiles<br/>	$profileMask = 0777;			// Mask for files and directory creation in user profiles.<br/>						// Both Webserver and rtorrent users must have read-write access to it.<br/>						// For example, if Webserver and rtorrent users are in the same group then the value may be 0770.<br/><br/>?&gt;<br/></blockquote>Вопросы:<br/>1. Что у меня неправильно в конфигах?<br/>2. Как сделать запуск от юзера, а не от рута?<br/>3. Может лучше поставить <strong>lighttpd</strong> вместо <strong>nginx</strong>?
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-23244"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/23244/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>работает в особых действиях</blockquote>Работает, я знаю. Вот как сделать, чтобы имя создаваемого файла md5 было &ldquo;старый_файл.md5&rdquo; и файл создавался в той же директории, где и проверяемый?
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-23242"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/23242/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            Пробовал. Не работает.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-23240"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/23240/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>2 Leonardo19</strong><br/>Благодарю, но не помогло. Похожий вариант у меня есть<br/><div class="code"><pre>zenity --info --title="Check md5 for %n" --text="$(md5sum %f)" | zenity --progress --percentage="40" --auto-kill --auto-close --title="Checksum utility" --text="Calculating md5sum for %n"</pre></div>Скрипт от Наутилуса записывает суммы в текстовый файл, и даже есть возможность выбирать файл или папку считать. Потом другим скриптом можно проверить на совпадение. Это актуально, так как много копирую на разные жесткие диски, были случаи, когда по размеру вроде как сходится файл, но оказывался поврежденным.<br/>Нашел еще интересный вариант, но только в командной строке:<br/><div class="code"><pre>find . -type f -exec md5sum '{}' \; &gt; ~/md5sums </pre></div>а эта команда для проверки:<br/><div class="code"><pre>md5sum -c ~/md5sums</pre></div>Вот прикрутить бы эти две команды к Тунару.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-23238"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/23238/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            Как можно приспособить скрипты от Nautilus к Thunar?<br/>Пробовал просто копировать скрипты в папку <em>~/.config/Thunar/scripts</em><br/>Потом прописал в &ldquo;Особых действиях&rdquo; (<em>к примеру, вычисление и запись MD5 в файл вида &ldquo;старый_файл.md5&rdquo;)</em>:<br/><blockquote>Команда: /home/z/.config/Thunar/scripts/Security/Mkmd5 %N</blockquote>Но скрипт не сработал.<br/>Вот код скрипта:<br/><div class="code"><pre>#!/bin/bash
#########################################################
#							#
# This are NScripts v3.5				#
#							#
# Licensed under the GNU GENERAL PUBLIC LICENSE 3	#
#							#
# Copyright 2007 - 2008 Christopher Bratusek		#
#							#
#########################################################
echo $NAUTILUS_SCRIPT_SELECTED_URIS &gt; ~/.config/Thunar/temp_mkmd5_list
filesamount=$(wc -l ~/.config/Thunar/temp_mkmd5_list | awk '{print $1}')
step=$(($((100))/$(($filesamount))))
for file in $(cat ~/.config/Thunar/temp_mkmd5_list); do
if [[ -d "$file" ]]; then
exit
fi
percent=$(($(($percent))+$(($step))))
file_name=$(echo $file | sed -e 's/file:\/\///g' -e 's/\%20/\ /g')
filename=$(echo $file | sed -e 's/.*\///g' -e 's/\%20/\ /g')
(md5sum "$file_name" &gt; "$filename.md5") | zenity --progress --percentage $percent --auto-close
if [[ -a $filename.md5 ]]; then
	echo -e "\n========================================================" &gt;&gt; ~/.config/Thunar/mkmd5_result
	echo "MD5-Sum for $filename successfully created" &gt;&gt; ~/.config/Thunar/mkmd5_result;
else	echo -e "\n========================================================" &gt;&gt; ~/.config/Thunar/mkmd5_result
	echo "MD5-Sum for $filename not created" &gt;&gt; ~/.config/Thunar/mkmd5_result;
fi
done
zenity --text-info --title "Result" --width640 --height=480 --filename=$HOME/.config/Thunar/mkmd5_result
rm -f ~/.config/Thunar/temp_mkmd5_list ~/.config/Thunar/mkmd5_result</pre></div>При чём в Наутилусе скрипт работет!
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index5c43.html?page=17" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    <li class="disabled">
                        <span>...</span>
                    </li>
                
            
                
                    
                        <li>
                            <a href="index0b08.html?page=9">9</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1448.html?page=10">10</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1c8b.html?page=11">11</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexce37.html?page=12">12</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index8c93.html?page=13">13</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexa7f1.html?page=14">14</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index5760.html?page=15">15</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index42a7.html?page=16">16</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index5c43.html?page=17">17</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index9683.html?page=18">18 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index7537.html?page=19">19</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index7537.html?page=19" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/users/zalexi/posts/?page=18 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 08:06:23 GMT -->
</html>
