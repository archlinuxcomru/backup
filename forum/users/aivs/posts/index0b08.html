


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/users/aivs/posts/?page=9 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 11:47:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        aivs Сообщения
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/topics/index.html" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../../index.html">Форум</a></li>
    <li class=""><a href="../../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../../index.html">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-39002"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/39002/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            И точно также нужно удалить например вторую найденную строку, Как ???
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-39001"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/39001/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Вот так смог изменить нужную строку<br/><div class="code"><pre>sed -e '/^#/d' /etc/resolv.conf | sed -e '1s/nameserver.*/nameserver 123.123/'</pre></div><br/>Но в файл таким образом не записать
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-39000"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/39000/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Пытаюсь парсить /etc/resolv.conf, также нужно заменить <br/>nameserver 123.123.123.123 на nameserver 321.321.321.321<br/><br/>Вот написал<br/><div class="code"><pre> sed -e 's/^[^#]*nameserver.*/nameserver 123.123.123.123/' /etc/resolv.conf</pre></div>Но этот скрипт заменяет все строки, а мне нужно только первую,<br/><br/>Печать определенной строки нашел как делать:<br/># печать строки 52 <br/>sed -n &lsquo;52p&rsquo; # способ 1 <br/>sed &lsquo;52!d&rsquo; # способ 2 <br/>sed &lsquo;52q;d&rsquo; # способ 3,<br/>Но как это в мой скрипт засунуть непонял.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38976"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38976/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Появилась задача настраивать сеть через гуёвое приложение, ни gtk ни qt не знаю, нагуглил gtkdialog, на нем и написал.<br/><br/><strong>Требуется пакет gtkdialog !!</strong><br/><img src="https://dl.dropbox.com/u/25895838/archnetcfg.jpg"></img><br/><br/>Как работает программа:<br/>Если вы перешли на новый вид оформления настроек сети в /etc/rc.conf, то программа вам подойдет.<br/>Программа парсит rc.conf на наличие строк<br/><br/><ul><li>address=<br/>netmask=<br/>gateway=<br/><br/>Комментарии обходит, найдя строки, показывает их значения.<br/>Параметры записываются в rc.conf (используется sudo, в консоли спросит пароль).<br/>Если нажали &ldquo;Автоматически&rdquo;, то после нажатия Сохранить, в rc.conf параметры сотрутся (это требуется для dhcp настройки).<br/><br/>При заполнении полей DNS, программа перезаписывает /etc/resolv.conf, если вы очистили все поля, и у вас выбран режим статической настройки, то resolv.conf не изменится (защита от случаяного стирания). Когда вы выбираете Автоматическую (DHCP) настройку, файл resolv.conf вообще не трогается, т.к. после перезапуска сети, он все равно перезапишется.<br/><br/><strong>После нажатия на кнопку &ldquo;Сохранить&rdquo; все параметры записываются в rc.conf и resolv.conf и перезапускается сеть (/etc/rc.d/network restart)!!!</strong><br/><br/>Вот сам скрипт:<br/><br/><div class="code"><pre>#!/bin/bash
#archnetcfg by aivs from archlinux.org.ru
export MAIN_DIALOG='
&lt;window title="Сетевые настройки" resizable="false"&gt;
&lt;vbox&gt;
 &lt;radiobutton active="false"&gt;
  &lt;label&gt;Автоматическая настройка&lt;/label&gt;
  &lt;variable&gt;RADIOBUTTON2&lt;/variable&gt;
  &lt;action&gt;Disable:IP&lt;/action&gt;
  &lt;action&gt;Disable:NETMASK&lt;/action&gt;
  &lt;action&gt;Disable:GATEWAY&lt;/action&gt;
  &lt;action&gt;Disable:DNS1&lt;/action&gt;
  &lt;action&gt;Disable:DNS2&lt;/action&gt;
  &lt;action&gt;Disable:DNS3&lt;/action&gt;
 &lt;/radiobutton&gt;
 
 &lt;radiobutton active="true"&gt;
  &lt;label&gt;Ручная настройка&lt;/label&gt;
  &lt;variable&gt;RADIOBUTTON1&lt;/variable&gt;
  &lt;action&gt;Enable:IP&lt;/action&gt;
  &lt;action&gt;Enable:NETMASK&lt;/action&gt;
  &lt;action&gt;Enable:GATEWAY&lt;/action&gt;
  &lt;action&gt;Enable:DNS1&lt;/action&gt; 
  &lt;action&gt;Enable:DNS2&lt;/action&gt;
  &lt;action&gt;Enable:DNS3&lt;/action&gt;
 &lt;/radiobutton&gt;
 
 
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;IP адрес&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -n "/^[^#]*address=/ ! d; s/.*=//p" /etc/rc.conf&lt;/input&gt;
  &lt;variable&gt;IP&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;Маска сети&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -n "/^[^#]*netmask=/ ! d; s/.*=//p" /etc/rc.conf&lt;/input&gt;
  &lt;variable&gt;NETMASK&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;Шлюз&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -n "/^[^#]*gateway=/ ! d; s/.*=//p" /etc/rc.conf&lt;/input&gt;
  &lt;variable&gt;GATEWAY&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;DNS1&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -e '/^#/d' /etc/resolv.conf | sed -n '1p'| sed -e "s/nameserver //g"&lt;/input&gt;
  &lt;variable&gt;DNS1&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;DNS2&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -e '/^#/d' /etc/resolv.conf | sed -n '2p'| sed -e "s/nameserver //g"&lt;/input&gt;
  &lt;variable&gt;DNS2&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 &lt;hbox&gt;
 &lt;text&gt;
  &lt;label&gt;DNS3&lt;/label&gt;
 &lt;/text&gt;
 &lt;entry&gt;
  &lt;input&gt;sed -e '/^#/d' /etc/resolv.conf | sed -n '3p'| sed -e "s/nameserver //g"&lt;/input&gt;
  &lt;variable&gt;DNS3&lt;/variable&gt;
 &lt;/entry&gt;
 &lt;/hbox&gt;
 &lt;hbox&gt;
  &lt;button&gt;
  &lt;label&gt;Сохранить&lt;/label&gt;
  &lt;action&gt; [ "$RADIOBUTTON2" = "true" ] &amp;&amp;  sudo sed -i 's/^[^#]*address=.*/address=/' /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON2" = "true" ] &amp;&amp;  sudo sed -i 's/^[^#]*netmask=.*/netmask=/' /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON2" = "true" ] &amp;&amp;  sudo sed -i 's/^[^#]*gateway=.*/gateway=/' /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON2" = "true" ] &amp;&amp;  sudo /etc/rc.d/network restart &amp;&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  sudo sed -i "s/^[^#]*address=.*/address=$IP/" /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  sudo sed -i "s/^[^#]*netmask=.*/netmask=$NETMASK/" /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  sudo sed -i "s/^[^#]*gateway=.*/gateway=$GATEWAY/" /etc/rc.conf&lt;/action&gt;
  &lt;action&gt; [ -n "$DNS1" ] || [ -n "$DNS2" ] || [ -n "$DNS3" ] &amp;&amp; echo "#Generated by archnetcfg.sh" | sudo tee /etc/resolv.conf&lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -n "$DNS1" ] &amp;&amp; echo "nameserver $DNS1" | sudo tee -a /etc/resolv.conf &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -z "$DNS1" ] &amp;&amp; : &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -n "$DNS2" ] &amp;&amp; echo "nameserver $DNS2" | sudo tee -a /etc/resolv.conf &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -z "$DNS2" ] &amp;&amp; : &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -n "$DNS3" ] &amp;&amp; echo "nameserver $DNS3" | sudo tee -a /etc/resolv.conf &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  [ -z "$DNS3" ] &amp;&amp; : &lt;/action&gt;
  &lt;action&gt; [ "$RADIOBUTTON1" = "true" ] &amp;&amp;  sudo /etc/rc.d/network restart &amp;&lt;/action&gt;
  &lt;action type="exit"&gt;OK&lt;/action&gt;
  &lt;/button&gt;
  &lt;button cancel&gt;
  &lt;label&gt;Отменить&lt;/label&gt;
  &lt;/button&gt;
 &lt;/hbox&gt;
&lt;/vbox&gt;
&lt;/window&gt;
'
gtkdialog --program=MAIN_DIALOG</pre></div></li></ul>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38998"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38998/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Спасибо большое, в разработках выложил скрипт с gtk интерфейсом для настройки сети, завтра добавлю dns!!
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38997"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38997/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            вместо экранирование можно с строгие кавычки брать &lsquo; &rsquo; ?<br/>И у меня проблема был, что я точку не поставил перед звездочкой, что она значит ?<br/>С переменной работает<br/><div class="code"><pre>sudo sed -i "s/^[^#]*address=.*/address=$IP/" /etc/rc.conf</pre></div>Вот думаю конечный вариант, комментарии пропускаем, а паттерн берем из переменной.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38995"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38995/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Это понял, а может ли sed найти строку и заменить ее на образец, думал как то так:<br/><div class="code"><pre>sudo sed -i '/s/address=*/address=192.168.1.101/' /etc/rc.conf</pre></div>но эффект совершенно не тот, что я ожидал.<br/><br/>Нужно найти строку начинающуюся с address=* и заменить ее на address=192.168.1.101 в файле.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38992"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38992/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Если можно прокомментировать, учу sed
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-38990"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/38990/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Написал на sed скриптик, который из /etc/rc.conf извлекает ip адрес:<br/><div class="code"><pre>sed -e '/^#/d' /etc/rc.conf | sed -n '/address=/p' | sed -e 's/address=//g'</pre></div>1) sed -e &lsquo;/^#/d&rsquo; /etc/rc.conf # Удаляем строки-комментарии<br/>2) sed -n &lsquo;/address=/p&rsquo;        # Ищем строку со словом address=<br/>3) sed -e 's/address=//g      # Удаляем address=, все что за ним оставляем, т.е. либо ничего, либо ip адрес<br/><br/>Вопрос такой, можно ли сделать тоже самое, но без каналов, в один заход для sed ???
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-39006"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">aivs</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/39006/index.html">#</a>
            11 лет назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    62
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    261
                </a>
            </div>
            <div>
                Участник с: 31 октября 2006
            </div>
            
        </td>
        <td class="post-content">
            Требуется написать Gui программу для настройки сети.<br/>Суть проста, человек вводит данные, нажимает кнопку сохранить, и это сохраняется в /etc/rc.conf<br/>На qt накидал формочку, но как написать программу не знаю. Опыта программирования на qt нет.<br/><img src="https://dl.dropbox.com/u/25895838/netcfg.jpg"></img><br/>Если кто поможет с программирование, буду рад!<br/><br/>По сути код всей программы закладывается в кнопку сохранить, которая берет данные из полей и записывает их в /etc/rc.conf в нужное место
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="indexfdfa.html?page=8" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    <li class="disabled">
                        <span>...</span>
                    </li>
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexc575.html?page=6">6</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index235c.html?page=7">7</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdfa.html?page=8">8</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index0b08.html?page=9">9 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1448.html?page=10">10</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1c8b.html?page=11">11</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexce37.html?page=12">12</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index8c93.html?page=13">13</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexa7f1.html?page=14">14</a>
                        </li>
                    
                
            
                
                    <li class="disabled">
                        <span>...</span>
                    </li>
                
            
                
                    
                        <li>
                            <a href="index19d2.html?page=26">26</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index2459.html?page=27">27</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index1448.html?page=10" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'746bd35ffa8f15fe',m:'M9kaaKaVQZzGEO5NXBU3tnkvf_ayQkFc9l7obfaHufk-1662515763-0-ASABYuazynFu/Bx6TsYKDL/lfPNR6Nol5B3rpms/QDLa9Lx2Os1g4aKUDTwWuUflj+/Sb9ZZ/MWTLZZa6ljwaHspb/HwzRCyZ8xa+HUNDRt3Zc+rstG97nvg4KLisX4XaAgN4hAKend0WArxcGLIBaU=',s:[0x235c267d42,0xa162e4074b],u:'/cdn-cgi/challenge-platform/h/b'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='../../../../cdn-cgi/challenge-platform/h/b/scripts/alpha/invisible5615.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>

<!-- Mirrored from archlinux.org.ru/forum/users/aivs/posts/?page=9 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 11:47:14 GMT -->
</html>
