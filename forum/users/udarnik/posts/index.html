


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/users/udarnik/posts/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 06:30:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        udarnik Сообщения
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/topics/index.html" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../../index.html">Форум</a></li>
    <li class=""><a href="../../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../../index.html">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-184428"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/184428/index.html">#</a>
            5 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Помог совет с LOR:<br /><blockquote>Числа для «ручных» режимов ЖК мониторов лучше вычислять с помощью программки cvt с параметром -r</blockquote><br />вычисленное с параметром -r значение:<br /><pre><code>% cvt -r 2560 1440
# 2560x1440 59.95 Hz (CVT 3.69M9-R) hsync: 88.79 kHz; pclk: 241.50 MHz
Modeline &quot;2560x1440R&quot;  241.50  2560 2608 2640 2720  1440 1443 1448 1481 +hsync -vsync</code></pre>было съедено xrandr на вход, разрешение выставилось.<br /><br />Теперь думаю, как это автоматизировать для wayland и xorg при загрузке
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-184426"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/184426/index.html">#</a>
            5 лет, 5 месяцев назад
            
                (отредактировано
                
                    5 лет, 5 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Установка в xorg-конфиге секции monitor приводит к незагрузке xorg. Проблема в том, что wayland ведет себя аналогично, пропадает разрешение WQHD. Откат ядра решает проблему. На обычном ядре все ломается при переходе 4.8 -&gt; 4.9.<br />Проблема явно не на уровне xorg<br /><br />вывод xrandr до обновления ядра:<br /><pre><code>% cat ~/problem/n_xrandr.log
Screen 0: minimum 320 x 200, current 2560 x 1440, maximum 8192 x 8192
VGA-1 disconnected (normal left inverted right x axis y axis)
HDMI-1 disconnected (normal left inverted right x axis y axis)
HDMI-2 connected primary 2560x1440+0+0 (normal left inverted right x axis y axis) 597mm x 336mm
   2560x1440     59.95*+
   1920x1080     60.00    60.00    50.00    59.94
   1600x1200     60.00
   1680x1050     59.88
   1280x1024     75.02    60.02
   1920x540      60.05
   1280x800      59.91
   1152x864      75.00
   1280x720      60.00    50.00    59.94
   1024x768      75.08    60.00
   800x600       75.00    60.32
   720x576       50.00
   720x480       60.00    59.94
   640x480       75.00    60.00    59.94
   720x400       70.08
DP-1 disconnected (normal left inverted right x axis y axis)
HDMI-3 disconnected (normal left inverted right x axis y axis)</code></pre><br />после обновления:<br /><pre><code>% xrandr
Screen 0: minimum 320 x 200, current 1920 x 1080, maximum 8192 x 8192
VGA-1 disconnected (normal left inverted right x axis y axis)
HDMI-1 disconnected (normal left inverted right x axis y axis)
HDMI-2 connected primary 1920x1080+0+0 (normal left inverted right x axis y axis) 597mm x 336mm
   1920x1080     60.00*   60.00    50.00    59.94
   1600x1200     60.00
   1680x1050     59.88
   1280x1024     75.02    60.02
   1920x540      60.05
   1280x800      59.91
   1152x864      75.00
   1280x720      60.00    50.00    59.94
   1024x768      75.03    60.00
   800x600       75.00    60.32
   720x576       50.00
   720x480       60.00    59.94
   640x480       75.00    60.00    59.94
   720x400       70.08
DP-1 disconnected (normal left inverted right x axis y axis)
HDMI-3 disconnected (normal left inverted right x axis y axis)</code></pre><br />Результат попытки выставить правильное разрешение:<br /><pre><code>% xrandr --output HDMI-2 --mode &quot;2560x1440&quot; --verbose
crtc 0:    2560x1440  59.96 +0+0 &quot;HDMI-2&quot;
xrandr: Configure crtc 0 failed
crtc 0: disable
crtc 1: disable
crtc 2: disable
screen 0: revert
crtc 0: revert
crtc 1: revert
crtc 2: revert</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-184413"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/184413/index.html">#</a>
            5 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>Дано:</strong><br />PC: Dell XPS 2720<br /><pre><code>$ lspci | grep VGA
00:02.0 VGA compatible controller: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller (rev 06)
01:00.0 VGA compatible controller: NVIDIA Corporation GK107M [GeForce GT 750M] (rev a1)</code></pre><pre><code># dmidecode -t processor | grep -i version
	Version: Intel(R) Core(TM) i7-4770S CPU @ 3.10GHz</code></pre><pre><code>$ uname -a
Linux dell27 4.4.52-1-lts #1 SMP Sun Feb 26 19:45:38 CET 2017 x86_64 GNU/Linux</code></pre><pre><code># gnome-shell --version
GNOME Shell 3.22.3</code></pre><br />В указанной выше конфигурации все отлично работает, проблем нет.<br /><br /><strong>Проблема:</strong><br />При обновлении на ядро linux-lts-4.9.13-1 при загрузке компьютера на этапе KMS выставляется разрешение FullHD, после загрузки xorg xrandr и конфигурация дисплея gnome отображает FullHD как максимальное доступное разрешение экрана. Попытка выставить разрешение вручную через xrandr ни к чему не приводит (разрешение появляется в списке, но переключение на него не происходит, картинка остается в FullHD).<br />Также система ведет себе на новых не-lts ядрах, точно не выяснял с какого именно началась поломка.<br />Пробовал выгрузить EDID и вручную загружать файл с ним при загрузке, ничего не дало, хотя файл подгружается, судя по dmesg. Ниже расшифровка EDID:<br /><br /><pre><code># parse-edid &lt; /usr/lib/firmware/edid/edid.bin
Checksum Correct

Section &quot;Monitor&quot;
	Identifier &quot;XPS 2720&quot;
	ModelName &quot;XPS 2720&quot;
	VendorName &quot;DEL&quot;
	# Monitor Manufactured week 1 of 2012
	# EDID version 1.3
	# Digital Display
	DisplaySize 600 340
	Gamma 2.20
	Option &quot;DPMS&quot; &quot;true&quot;
	Horizsync 30-90
	VertRefresh 56-76
	# Maximum pixel clock is 90MHz
	#Not giving standard mode: 1280x800, 60Hz
	#Not giving standard mode: 1680x1050, 60Hz
	#Not giving standard mode: 1152x864, 75Hz
	#Not giving standard mode: 1600x1200, 60Hz
	#Not giving standard mode: 1280x1024, 60Hz

	#Extension block found. Parsing...
	Modeline 	&quot;Mode 10&quot; 148.50 1920 2008 2052 2200 1080 1082 1087 1125 +hsync +vsync
	Modeline 	&quot;Mode 0&quot; 241.50 2560 2608 2640 2720 1440 1443 1448 1481 +hsync +vsync
	Modeline 	&quot;Mode 1&quot; 148.500 1920 2008 2052 2200 1080 1084 1089 1125 +hsync +vsync
	Modeline 	&quot;Mode 2&quot; 74.250 1280 1390 1420 1650 720 725 730 750 +hsync +vsync
	Modeline 	&quot;Mode 3&quot; 27.027 720 736 798 858 480 489 495 525 -hsync -vsync
	Modeline 	&quot;Mode 4&quot; 27.027 720 736 798 858 480 489 495 525 -hsync -vsync
	Modeline 	&quot;Mode 5&quot; 25.200 640 656 752 800 480 490 492 525 -hsync -vsync
	Modeline 	&quot;Mode 6&quot; 27.000 720 732 796 864 576 581 586 625 -hsync -vsync
	Modeline 	&quot;Mode 7&quot; 27.000 720 732 796 864 576 581 586 625 -hsync -vsync
	Modeline 	&quot;Mode 8&quot; 74.250 1280 1720 1760 1980 720 725 730 750 +hsync +vsync
	Modeline 	&quot;Mode 9&quot; 148.500 1920 2448 2492 2640 1080 1084 1089 1125 +hsync +vsync
	Modeline 	&quot;Mode 11&quot; 74.25 1920 2008 2052 2200 540 542 547 562 +hsync +vsync
	Modeline 	&quot;Mode 12&quot; 74.25 1280 1390 1430 1650 720 725 730 750 +hsync +vsync
	Modeline 	&quot;Mode 13&quot; 27.00 720 736 798 858 480 489 495 525 -hsync -vsync
	Option &quot;PreferredMode&quot; &quot;Mode 10&quot;
EndSection</code></pre><br />cvt:<br /><pre><code>cvt 2560 1440
# 2560x1440 59.96 Hz (CVT 3.69M9) hsync: 89.52 kHz; pclk: 312.25 MHz
Modeline &quot;2560x1440_60.00&quot;  312.25  2560 2752 3024 3488  1440 1443 1448 1493 -hsync +vsync</code></pre><br /><strong>Вопрос:</strong><br />Что делать, куда копать? :) Надеюсь на помощь сообщества.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-175186"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/175186/index.html">#</a>
            5 лет, 11 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Gnome + полноэкранная tilda в качестве терминала на f2, привык намертво уже, маловероятно что скоро сменю. Нравится, что настройки практически не требует, весь необходимый десктопный функционал из коробки, развертывание требует минимума телодвижений.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-167618"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/167618/index.html">#</a>
            6 лет, 4 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>Введение в проблему:</strong><br />С некоторых пор, уже не помню с каких, из gnome-shell убрали поддержку xdg-menu категорий по кнопке &quot;Показать приложения&gt;все&quot; (Show Applications&gt;all). Сама по себе поддержка осталась, например можно получить автоматические категории с помощью стандартного расширения Applications Menu, которое замещает кнопку &quot;Обзор&quot; раскрывающимся списком, в котором приложения рассортированы по xdg-категориям, в соответствии с записями в desktop-файлах. Но в списке всех приложений по-прежнему останется свалка.<br />Это не доставляет особых неудобств из-за удобного поиска и возможности вынести избранные приложения в отдельную панель, для быстрого доступа, но заставляет грустить по тем временам, когда программы сразу после установки автоматически аккуратно группировались по категориям.<br /><br /><strong>Работа над решением:</strong><br />Когда я первый раз столкнулся с этой ситуацией, я стал искать решение, пытался понять зачем поломали и что с этим теперь делать, так как, например, мои родственники в возрасте предпочитают пользоваться именно этим меню для поиска приложений.<br />В процессе выяснения я установил, что можно решить проблему создав записи о категориях, и распределив вручную приложения через редактирование гномовского &quot;реестра&quot;. Такое дружелюбие серьезно пошатнуло мою веру в человечество, но я стал искать дальше, в надежде найти удобный инструмент. На тот момент на роль удобного инструмента смог пригодиться только shell-скрипт <a href="https://aur.archlinux.org/packages/gnome-catgen-git">aur/gnome-catgen</a>. Он работает следующим образом:<br /><br /><blockquote>This will create (if it doesn&#39;t already exist) and open (with the editor set by $EDITOR, or vi if nothing is set) the .category file in ~/.local/share/applications-categories for the provided category name. In this file, you can now add one application&#39;s &#39;.desktop&#39; filename per line. After all the desired applications have been added, you can then run: gnome-catgen -s to apply your configuration.</blockquote><br />То-есть, приводит всю процедуру разделения по категориям к простой процедуре записи списка desktop-файлов в файл ~/.local/share/applications-categories/имя_категории.category и последующего запуска gnome-catgen -s. И все бы хорошо, но вручную набивать файл category для gnome-catgen не в ходило в мои планы, благо я изначально всего лишь хотел вернуть xdg-menu.<br />Поэтому я написал для себя еще один скрипт, который &quot;автоматизирует автоматизатор&quot; и &quot;упрощает упрощатор&quot; gnome-catgen. Этим скриптом я и хотел бы поделиться, возможно кому-то он окажется полезен.<br /><br /><strong>Автоматизатор автоматизатора gnomenu.sh</strong><br />Скрипт требует для своей работы gnome-catgen, лежащий где-либо на пути, его можно получить, например, установив из aur; запускается от пользователя, для которого генерируются категории. Далее идет сам скрипт, я постарался сделать его более-менее читаемым, насколько позволяет мой скилл в bash и кривое знание английского, поправки приветствуются, хотелось бы набраться ума разума от сообщества:<br /><br /><pre><code>
#!/usr/bin/env bash
##
## name:    gnomenu.sh
## version: 0.0.1
##
## usage:
## gnomenu.sh OPTION [LANG]
## options:
##   -i create gnome-menu categories.
##      option requires an argument,
##      example:
##          en  - for english
##          sys - for system locale
##   -u delete gnome-menu categories
##   -h print this message
##

SysCategoryDir=/usr/share/desktop-directories
LocalCategoryDir=~/.local/share/applications-categories
SysAppDir=/usr/share/applications
LocalAppDir=~/.local/share/applications

USAGE() {
	echo
	awk &#39;/^## usage:$/,/^##$/&#39; $0 | sed &#39;s/^##//;s/^ //;/^$/d&#39;
	echo
}

GET_NAME_ENG() {
	if [[ `echo &quot;$1&quot; | grep X-GNOME` ]];then
		echo &quot;$(grep &#39;^Name=&#39; ${1}.directory | cut -d= -f2 )&quot;
	elif [[ `echo &quot;$1&quot; | grep System` ]];then
		echo &quot;System&quot;
	else
		echo &quot;$(echo &quot;$1&quot; | sed &#39;s/\.desktop$//&#39;)&quot;
	fi
}

GET_NAME_LOCAL() {
	if [[ -z $2 ]]||[[ &quot;$2&quot; == &quot;en&quot; ]];then
		local NameLocal=$(GET_NAME_ENG $1)
	else
		local NameLocal=&quot;$(grep -P &quot;^Name\[$2\]=&quot; ${1}.directory | cut -d= -f2 )&quot;
	fi

	if [[ &quot;$NameLocal&quot; ]];then
		echo &quot;$NameLocal&quot;
	else
		echo $(GET_NAME_ENG $1)
	fi
}

UNINSTALL() {
	echo &quot;Removing gnome-menu categories...&quot;
	gnome-catgen -x
	rm -rf $LocalCategoryDir
	exit $?
}

INSTALL() {
	echo &quot;Using $LocalLang language...&quot;

	mkdir -p $LocalCategoryDir
	mkdir -p $LocalAppDir

	for CategoryFile in $(ls -1 | sed &#39;s/\.directory$//&#39;| grep -v &quot;X-GNOME-Menu-Applications\|X-GNOME-Other\|xfce&quot;); do
		CategoryNameEng=$(GET_NAME_ENG $CategoryFile)
		CategoryNameLocal=$(GET_NAME_LOCAL $CategoryFile $LocalLang)

		touch &quot;$LocalCategoryDir/${CategoryNameLocal}.category&quot;

		grep -iH &quot;\&lt;$CategoryNameEng\&gt;&quot; $SysAppDir/*.desktop |\
			grep &quot;desktop:Categories=&quot; |\
			cut -d: -f1 |\
			xargs -I{} basename {} &gt;&gt; &quot;$LocalCategoryDir/${CategoryNameLocal}.category&quot;
		grep -iH &quot;\&lt;$CategoryNameEng\&gt;&quot; $LocalAppDir/*.desktop |\
			grep &quot;Categories=&quot; |\
			cut -d: -f1 |\
			xargs -I{} basename {} &gt;&gt; &quot;$LocalCategoryDir/${CategoryNameLocal}.category&quot;
	done

	CategoryOtherLocal=$(GET_NAME_LOCAL X-GNOME-Other $LocalLang)
	gnome-catgen -r | tr &#39; &#39; &#39;\n&#39; &gt;&gt; &quot;$LocalCategoryDir/${CategoryOtherLocal}.category&quot;

	gnome-catgen -s
	exit $?
}

while getopts &quot;i:uh&quot; opt; do
	case $opt in
	u)
		uninstall=1
		;;
	i)
		if [[ $(echo $OPTARG | grep -P &quot;\-?[uh]\b&quot;) ]];then
			echo &quot;$0: option requires an argument -- i&quot;
			USAGE
			exit 1
		fi
		if [[ $OPTARG == sys ]];then
			LocalLang=$(echo $LANG | cut -d_ -f1)
		else
			LocalLang=$OPTARG
		fi
		install=1
		;;
	h)
		USAGE
		exit 0
		;;
	?)
		USAGE
		exit 1
	esac
done

if [[ $install ]]&amp;&amp;[[ $uninstall ]];then
	echo &quot;$0: you can not use -i and -u actions together&quot;
	USAGE
	exit 1
	elif [[ $install ]];then
	cd $SysCategoryDir &amp;&amp; INSTALL
	elif [[ $uninstall ]];then
	UNINSTALL
	else
	echo &quot;$0: you must choose an action&quot;
	USAGE
	exit 1
fi
</code></pre><br />Использование скрипта сводится к указанию опции -i с аргументом в виде языка, это влияет на то, на каком языке будут созданы категории, пример того что именно ждет скрипт можно посмотреть в desktop-файлах, можно указать в качестве аргумента &quot;sys&quot;, тогда будет сделана попытка использовать системную переменную $LANG. В документации xdg сказано, что параметр локализации берется из LC_MESSAGES, но там содержится что-то вида &quot;ru_RU.utf-8&quot;, а в файлах directory присутствует только общий &quot;[ru]&quot;, поэтому в нехорошем стиле пришлось закостылить для &quot;sys&quot; вот такую гадость:<br /><pre><code>echo $LANG | cut -d_ -f1</code></pre>Чтобы обойти несчастья, которые она могла породить скрипт работает таким образом, что в случае получения негодного аргумента для &quot;-i&quot; сработает выбор стандартного англоязычного варианта.<br />Вернуть все в дефолтное гномовское состояние можно вызовом скрипта с аргументом gnomenu.sh -u, <strong>будте внимательны(!)</strong>, если сами создавали категории в g(d)conf или category-файлы для gnome-catgen, скрипт выполняет gnome-catgen -x и удаляет всю папку с категориями.<br />Надеюсь, что опус окажется кому-то полезным, ну и жду критики в том числе английского, если не затруднит:)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-143535"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/143535/index.html">#</a>
            7 лет, 10 месяцев назад
            
                (отредактировано
                
                    7 лет, 10 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Сделал дополнительную проверку, загрузил live-образ ubuntu 14.10, она вообще не нашла устройств HDMI, звука в XBox также нет. Загрузка в UEFI или Legacy роли не играет. Без загрузки ОС, при работе в BIOS звука нет (это важно).<br />Если запустить XBox при загруженном Linux звука в XBox нет, но если после этого перезагрузиться в Windows, звук в XBox появляется.<br /><br />Как устроена эта кухня мне не ясно, вижу что оба HDMI устройства playback. В спецификациях и на корпусе устройства, ясное дело, один из портов помечен как IN, да и работает именно так как ожидается с загруженной ОС Microsoft.<br /><img src="http://cdn1.expertreviews.co.uk/sites/expertreviews/files/images/dir_398/er_photo_199360.jpg?itok=tMicxS9-">
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-143531"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/143531/index.html">#</a>
            7 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Ок, исправляюсь:<br /><pre><code>% cat /proc/asound/pcm
00-03: HDMI 0 : HDMI 0 : playback 1
00-07: HDMI 1 : HDMI 1 : playback 1
01-00: ALC3661 Analog : ALC3661 Analog : playback 1 : capture 1</code></pre><strong>default.pa</strong><br /><pre><code>#!/usr/bin/pulseaudio -nF
#
# This file is part of PulseAudio.
#
# PulseAudio is free software; you can redistribute it and/or modify it
# under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# PulseAudio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with PulseAudio; if not, write to the Free Software Foundation,
# Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.

# This startup script is used only if PulseAudio is started per-user
# (i.e. not in system mode)

.nofail

### Load something into the sample cache
#load-sample-lazy x11-bell /usr/share/sounds/gtk-events/activate.wav
#load-sample-lazy pulse-hotplug /usr/share/sounds/startup3.wav
#load-sample-lazy pulse-coldplug /usr/share/sounds/startup3.wav
#load-sample-lazy pulse-access /usr/share/sounds/generic.wav

.fail

### Automatically restore the volume of streams and devices
load-module module-device-restore
load-module module-stream-restore
load-module module-card-restore

### Automatically augment property information from .desktop files
### stored in /usr/share/application
load-module module-augment-properties

### Should be after module-*-restore but before module-*-detect
load-module module-switch-on-port-available

### Load audio drivers statically
### (it&#39;s probably better to not load these drivers manually, but instead
### use module-udev-detect -- see below -- for doing this automatically)
#load-module module-alsa-sink
#load-module module-alsa-source device=hw:1,0
#load-module module-oss device=&quot;/dev/dsp&quot; sink_name=output source_name=input
#load-module module-oss-mmap device=&quot;/dev/dsp&quot; sink_name=output source_name=input
#load-module module-null-sink
#load-module module-pipe-sink

### Automatically load driver modules depending on the hardware available
.ifexists module-udev-detect.so
load-module module-udev-detect
.else
### Use the static hardware detection module (for systems that lack udev support)
load-module module-detect
.endif

### Automatically connect sink and source if JACK server is present
.ifexists module-jackdbus-detect.so
.nofail
load-module module-jackdbus-detect channels=2
.fail
.endif

### Automatically load driver modules for Bluetooth hardware
.ifexists module-bluetooth-policy.so
load-module module-bluetooth-policy
.endif

.ifexists module-bluetooth-discover.so
load-module module-bluetooth-discover
.endif

### Load several protocols
.ifexists module-esound-protocol-unix.so
load-module module-esound-protocol-unix
.endif
load-module module-native-protocol-unix

### Network access (may be configured with paprefs, so leave this commented
### here if you plan to use paprefs)
#load-module module-esound-protocol-tcp
#load-module module-native-protocol-tcp
#load-module module-zeroconf-publish

### Load the RTP receiver module (also configured via paprefs, see above)
#load-module module-rtp-recv

### Load the RTP sender module (also configured via paprefs, see above)
#load-module module-null-sink sink_name=rtp format=s16be channels=2 rate=44100 sink_properties=&quot;device.description=&#39;RTP Multicast Sink&#39;&quot;
#load-module module-rtp-send source=rtp.monitor

### Load additional modules from GConf settings. This can be configured with the paprefs tool.
### Please keep in mind that the modules configured by paprefs might conflict with manually
### loaded modules.
.ifexists module-gconf.so
.nofail
load-module module-gconf
.fail
.endif

### Automatically restore the default sink/source when changed by the user
### during runtime
### NOTE: This should be loaded as early as possible so that subsequent modules
### that look up the default sink/source get the right value
load-module module-default-device-restore

### Automatically move streams to the default sink if the sink they are
### connected to dies, similar for sources
load-module module-rescue-streams

### Make sure we always have a sink around, even if it is a null sink.
load-module module-always-sink

### Honour intended role device property
load-module module-intended-roles

### Automatically suspend sinks/sources that become idle for too long
load-module module-suspend-on-idle

### If autoexit on idle is enabled we want to make sure we only quit
### when no local session needs us anymore.
.ifexists module-console-kit.so
load-module module-console-kit
.endif
.ifexists module-systemd-login.so
load-module module-systemd-login
.endif

### Enable positioned event sounds
load-module module-position-event-sounds

### Cork music/video streams when a phone stream is active
#load-module module-role-cork

### Modules to allow autoloading of filters (such as echo cancellation)
### on demand. module-filter-heuristics tries to determine what filters
### make sense, and module-filter-apply does the heavy-lifting of
### loading modules and rerouting streams.
load-module module-filter-heuristics
load-module module-filter-apply

# X11 modules should not be started from default.pa so that one daemon
# can be shared by multiple sessions.

### Load X11 bell module
#load-module module-x11-bell sample=bell-windowing-system

### Register ourselves in the X11 session manager
#load-module module-x11-xsmp

### Publish connection data in the X11 root window
#.ifexists module-x11-publish.so
#.nofail
#load-module module-x11-publish
#.fail
#.endif

### Make some devices default
#set-default-sink output
#set-default-source input

### Load the integrated PulseAudio equalizer and D-Bus module
load-module module-equalizer-sink
load-module module-dbus-protocol</code></pre><strong>client.conf</strong><br /><pre><code># This file is part of PulseAudio.
#
# PulseAudio is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# PulseAudio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with PulseAudio; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
# USA.

## Configuration file for PulseAudio clients. See pulse-client.conf(5) for
## more information. Default values are commented out.  Use either ; or # for
## commenting.

; default-sink =
; default-source =
; default-server =
; default-dbus-server =

; autospawn = yes
; daemon-binary = /usr/bin/pulseaudio
; extra-arguments = --log-target=syslog

; cookie-file =

; enable-shm = yes
; shm-size-bytes = 0 # setting this 0 will use the system-default, usually 64 MiB

; auto-connect-localhost = no
; auto-connect-display = no</code></pre><strong>daemon.conf</strong><br /><pre><code># This file is part of PulseAudio.
#
# PulseAudio is free software; you can redistribute it and/or modify
# it under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# PulseAudio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with PulseAudio; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307
# USA.

## Configuration file for the PulseAudio daemon. See pulse-daemon.conf(5) for
## more information. Default values are commented out.  Use either ; or # for
## commenting.

; daemonize = no
; fail = yes
; allow-module-loading = yes
; allow-exit = yes
; use-pid-file = yes
; system-instance = no
; local-server-type = user
; enable-shm = yes
; shm-size-bytes = 0 # setting this 0 will use the system-default, usually 64 MiB
; lock-memory = no
; cpu-limit = no

; high-priority = yes
; nice-level = -11

; realtime-scheduling = yes
; realtime-priority = 5

exit-idle-time=0
; exit-idle-time = 20
; scache-idle-time = 20

; dl-search-path = (depends on architecture)

; load-default-script-file = yes
; default-script-file = /etc/pulse/default.pa

; log-target = auto
; log-level = notice
; log-meta = no
; log-time = no
; log-backtrace = 0

; resample-method = speex-float-1
; enable-remixing = yes
; enable-lfe-remixing = no

; flat-volumes = yes

; rlimit-fsize = -1
; rlimit-data = -1
; rlimit-stack = -1
; rlimit-core = -1
; rlimit-as = -1
; rlimit-rss = -1
; rlimit-nproc = -1
; rlimit-nofile = 256
; rlimit-memlock = -1
; rlimit-locks = -1
; rlimit-sigpending = -1
; rlimit-msgqueue = -1
; rlimit-nice = 31
; rlimit-rtprio = 9
; rlimit-rttime = 1000000

; default-sample-format = s16le
; default-sample-rate = 44100
; alternate-sample-rate = 48000
; default-sample-channels = 2
; default-channel-map = front-left,front-right

; default-fragments = 4
; default-fragment-size-msec = 25

; enable-deferred-volume = yes
; deferred-volume-safety-margin-usec = 8000
; deferred-volume-extra-delay-usec = 0</code></pre><strong>system.pa</strong><br /><pre><code>#!/usr/bin/pulseaudio -nF
#
# This file is part of PulseAudio.
#
# PulseAudio is free software; you can redistribute it and/or modify it
# under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# PulseAudio is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with PulseAudio; if not, write to the Free Software Foundation,
# Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.

# This startup script is used only if PulseAudio is started in system
# mode.

### Automatically load driver modules depending on the hardware available
.ifexists module-udev-detect.so
load-module module-udev-detect
.else
### Use the static hardware detection module (for systems that lack udev/hal support)
load-module module-detect
.endif

### Load several protocols
.ifexists module-esound-protocol-unix.so
load-module module-esound-protocol-unix
.endif
load-module module-native-protocol-unix

### Automatically restore the volume of streams and devices
load-module module-stream-restore
load-module module-device-restore

### Automatically restore the default sink/source when changed by the user
### during runtime
### NOTE: This should be loaded as early as possible so that subsequent modules
### that look up the default sink/source get the right value
load-module module-default-device-restore

### Automatically move streams to the default sink if the sink they are
### connected to dies, similar for sources
load-module module-rescue-streams

### Make sure we always have a sink around, even if it is a null sink.
load-module module-always-sink

### Automatically suspend sinks/sources that become idle for too long
load-module module-suspend-on-idle

### Enable positioned event sounds
load-module module-position-event-sounds</code></pre><br /><blockquote><em>Natrio</em><br>И самое главное, надо выяснить, с каким из этих трёх устройств связан вывод звука в динамики, а с каким – этот ваш ваш HDMI-in.</blockquote>Подскажите как это можно выяснить? Судя по выводу aplay hdmi заведует Intel. Из мультимедийныйх карт в ПК также присутствует, работающая через optimus, карта nvidia 750, но, опятьже, по выводу aplay я предполагаю, что она HDMI не заведует.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-143507"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/143507/index.html">#</a>
            7 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>Дано:</strong><br />1) Моноблок Dell XPS 2720 с HDMI-IN и HDMI-OUT разъемами<br />2) ОС Archlinux:<br /><pre><code>% uname -a
Linux dell27 3.17.1-1-ARCH #1 SMP PREEMPT Wed Oct 15 15:04:35 CEST 2014 x86_64 GNU/Linux</code></pre>3) ОС MS Windows версии 7 (для проверки звука)<br />4) MS XBox 360<br /><br /><strong>Проверен и работает звук через встроенные динамики моноблока:</strong><br />1) Звук в Archlinux, десктоп с Gnome 3 и Pulseaudio<br /><pre><code>% aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: HDMI [HDA Intel HDMI], device 3: HDMI 0 [HDMI 0]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 0: HDMI [HDA Intel HDMI], device 7: HDMI 1 [HDMI 1]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: PCH [HDA Intel PCH], device 0: ALC3661 Analog [ALC3661 Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0</code></pre><pre><code>% lspci -nn | grep -i audio
00:03.0 Audio device [0403]: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller [8086:0c0c] (rev 06)
00:1b.0 Audio device [0403]: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller [8086:8c20] (rev 04)</code></pre><pre><code># sudo lshw -c multimedia
  *-multimedia:0
       description: Audio device
       product: Xeon E3-1200 v3/4th Gen Core Processor HD Audio Controller
       vendor: Intel Corporation
       physical id: 3
       bus info: pci@0000:00:03.0
       version: 06
       width: 64 bits
       clock: 33MHz
       capabilities: pm msi pciexpress bus_master cap_list
       configuration: driver=snd_hda_intel latency=0
       resources: irq:37 memory:ecb14000-ecb17fff
  *-multimedia:1
       description: Audio device
       product: 8 Series/C220 Series Chipset High Definition Audio Controller
       vendor: Intel Corporation
       physical id: 1b
       bus info: pci@0000:00:1b.0
       version: 04
       width: 64 bits
       clock: 33MHz
       capabilities: pm msi pciexpress bus_master cap_list
       configuration: driver=snd_hda_intel latency=0
       resources: irq:38 memory:ecb10000-ecb13fff
  *-usb
       description: Video
       product: Integrated_Webcam_FHD
       vendor: CN0GDRYD724873ANG08BA00
       physical id: 8
       bus info: usb@2:1.8
       version: 33.15
       capabilities: usb-2.00
       configuration: driver=uvcvideo maxpower=500mA speed=480Mbit/s</code></pre>Основное устройство вывода звука: pulseaudio<br />2) Звук в Windows версии 7<br />3) Звук от XBox, подключенного по HDMI-IN, при условии что загружена ОС Windows 7<br /><br /><strong>Не работает:</strong><br />Звук от XBox, подключенного по HDMI-IN, при условии что загружена ОС Archlinux (через динамики продолжает идти звук от PC).<br /><br />Хотелось бы разобраться в ситуации, но в плане устройства alsa, pulse и правил их настройки я крайне слаб. Пробовал запретить загрузку модулей snd...hdmi, толку никакого. В ~/.asoundrc выставлял устройство по-умолчанию, также без результата. Нужны помощь в решении и советы с какого конца взяться за проблему, заранее благодарен.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-141193"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/141193/index.html">#</a>
            8 лет назад
            
                (отредактировано
                
                    8 лет назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>jim945</em><br>Семерки нет для 32 биток. Писали уже. Хотя шестерку еще долго обещают поддерживать</blockquote>Прошу прощения, не написал свое мнение по-этому вопросу сразу, действительно мое упущение.<br />К сожалению в постах автора отсутствует четкое обоснование почему необходима 32-bit only ОС, в свою очередь его же комментарий:<br /><blockquote><em>improovizator</em><br><strong>RedHat</strong>, начиная с 7-ой версии, больше не выпускается под 32-битные архитектуры, была идея поставить 6.5 и обновиться, но это опять же лишний геморрой, который можно испробовать на одной машине, но не на ста.</blockquote>вызывает подозрение, что нет четкого понимания по этому вопросу. Единственным реальным ограничителем в плане архитектуры является неподдержка ее процессорами десктопов и серверов. Из относительно современных CPU только с некоторыми Atom, если мне память не изменяет память, такая ситуация.<br /><br />1) Если именно &quot;атомные&quot; рабочие места являются ограничителем и есть жесткое ограничение от руководства по единовременным тратам - вопросов нет, но даже в этом случае лучше Debian. По поводу замены icewaesel на firefox:<br />a) Это не проблема<br />b) В 99.9% случаев это не нужно, iceweasel поддерживаемый браузер, с фиксами безопасности от вполне себе серьезного поставщика.<br /><br />2) Если рабочие места &quot;атомные&quot;, но ограничения по бюджету не слишком жесткие имеет смысл собрать ферму VDI на KVM, при наличии тонких клиентов (бывших рабочих станций) стоимость внедрения может оказаться раза в 3 дешевле простой замены десктопов на что-то с x86_64, при этом резко упрощается обслуживание, повышается надежность.<br /><br />3) Если рабочие станции поддерживают x86_64, но ограничителем являются внутренние предубеждения:<br />a) У нас всего по 1-2 гигабайта ОЗУ, нам не нужна x86_64 - ошибка, с моей точки зрения, стоимость обслуживания арча на 100+ машинах перекроет покупку памяти, не говоря уж о том, что ее можно и не покупать, Linux великолепно заведется и на 1-2 при запросах: &quot;браузер-офис&quot;, можете потестировать.<br />b) На 64 ОС будут проблемы с проприетарными 32 битными приложениями - также ошибка в 99% случаев, ядро 64 не отменяет в современных ОС поддержку 32-приложений.<br /><br />Я бы посчитал стоимость поддержки решения, а также задумался о том, что будет делать работодатель, когда вам захочется от него уйти, проблема поиска человека с навыками работы с Арчем, и готового переварить все возможные самодельные или не очень системы автоматизации, которые вам захочется внедрить может оказаться значительно более финансово и трудозатратным делом, чем даже внедрение oVirt-VDI. Я не знаю всей ситуации, я просто предлагаю постараться учитывать все эти моменты, если они учтены, и вы обо всем подумали, то выбор сделан :)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-141189"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">udarnik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/141189/index.html">#</a>
            8 лет назад
            
                (отредактировано
                
                    8 лет назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/60/17/60177e02a672bf198e73b355bec44b26.png" alt="udarnik avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    46
                </a>
            </div>
            <div>
                Участник с: 30 ноября 2012
            </div>
            
        </td>
        <td class="post-content">
            Посмотрите все-таки в сторону centos, основные плюсы:<br />1) свежая версия (7) вышла недавно, пакетная база не успела устареть, значит пользовательский софт не придется сразу пересобирать.<br />2) работающая из коробки связь с интересными и удобными инфраструктурными серверами RH (IPA, Spacewalk), фронтенд с вебмордой, хорошо если придется обучать новичка.<br />3) действующие в России курсы и сертификации, значит проще будет искать специалистов.<br />4) возможность использовать одну платформу и пакетную базу для серверов и рабочих станций, что существенно упрощает обслуживание даже активно растущей инфраструктуры.<br /><br />Короче, если речь идет хотябы о 50+ инсталляций, я бы шел по пути унификации. Арч великолепный дистрибутив, но он хорош для домашних машин или разовых инсталляций под задачу, разворачивать и обслуживать на нем полноценную рабочую инфраструктуру может оказаться просто неудобно. RH (ну и centos как дочерний) позволяют сейчас построить решение практически под любую стандартную задачу, от простого офиса, до крупной серверной инсталляции с использованием широкого спектра ПО (включая проприетарное, на которое бизнес по какой-то роковой ошибке неровно дышит xD)<br /><br />Для офиса можно построить что-то в этом роде:<br />IPA - общая аутентификация и политики доступа<br />Кластеризованный NFS, можно на RH cluster suite<br />Jenkins - автоматизация сборки ПО<br />Spacewalk - деплой машин, поддержка жизненного цикла ПО, управление конфигурациями<br />+ вики для ведения документации
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="index2679.html?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index4658.html?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/users/udarnik/posts/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 06:30:19 GMT -->
</html>
