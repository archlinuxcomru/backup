


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Voronov.S.V Сообщения
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-171320"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171320/">#</a>
            6 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>mfhunruh</em><br>Имеется проблема на ноутбуке и на стике с полным зависанием системы из-за видеокарты Intel HD Graphics.</blockquote>Слушай, опиши подробней как это происходит и как выглядит, а то похоже это и моя проблема, а я голову ломал что за чертовщина происходит периодически.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171316"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171316/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            хахаха :\ мистер шутник!) Одно дело на панели громоздить информацию, реальной пользы от которой делать крутые скриншоты как я и говорил. Это все максимализм. Отображать скорость загрузки, температуру двух мостов, двух видюх, проца, желательно всех ядер, а как же :), корпуса, уличную температуру, температуру тела, подмышкой или чуть ниже (что тоже важно, когда кто-то в интернете не прав, дабы не перегреть кресло), еще отобразить время в нескольких часовых поясах, погоду на месяц вперед, что еще?)<br />Мне это не надо. Мне нужно время потому что я на него смотрю каждые 10 минут, объем свободной памяти не нужен, уберу скоро в триггер, как налюбуюсь, с процом аналогично. Нравятся панели с мельтешащими мигающими всеми цветами радуги датчиками, как на панели у звукарей - твое дело :). Я лишь выразил свое мнение и не пытаюсь оспорить чужое, кому как привычнее и информативней)). И в этот раз напишешь что мол смысл спорить никто никому не докажет?) Только я как бы и не начинал это, как, собственно, и в прошлый раз. Это вкусовщина, я лишь попытался показать что может быть по-другому, дабы кто-нибудь задумался в реальной пользе всех этих датчиков.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171310"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171310/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            говорит же не установлен exstention для базы <pre><code>permission denied to create extension &quot;pg_trgm&quot;</code></pre>Тебе нужно<br />1. создать базу<br />2. создать пользователя<br />3. сменить владельца базы на пользователя<br />4. дать alter role to create db,<br />5. дать grant all privileges on database<br />6. затем тебе нужно добавить экстеншен для <strong>созданной базы</strong>. <pre><code>CREATE EXTENSION IF NOT EXISTS &quot;pg_trgm&quot;;</code></pre>Обрати внимание что <strong>нужно добавлять экстеншен именно созданной базе</strong>, потому как по-умолчанию добавляется в template1.<br />А вообще логи внимательнее читай :)<br /><br />А еще советую ставить <a href="https://about.gitlab.com/downloads/">Omnibus</a> и не только я советую. В доке особенно на это сделан упор:<br /><blockquote>Since an installation from source is a lot of work and error prone <strong>we strongly recommend the fast and reliable Omnibus package installation (deb/rpm).</strong> One reason the Omnibus package is more reliable is its use of Runit to restart any of the GitLab processes in case one crashes. On heavily used GitLab instances the <strong>memory usage of the Sidekiq background worker will grow over time.</strong> Omnibus packages solve this by letting the Sidekiq terminate gracefully if it uses too much memory. After this termination Runit will detect Sidekiq is not running and will start it. Since installations <strong>from source don’t have Runit, Sidekiq can’t be terminated and its memory usage will grow over time.</strong></blockquote>Если ставишь под не deb/rpm систему, под тот же арч - есть тут в соседней ветке обсуждение утилиток для конвертации в бинарники арча, либо что еще больше советую разворачивать гитлаб в Docker. Это изи, тебе надо будет выполнить всего одну команду, и поправить пару строчек в docker-compose.yml. Если тебе нужно использовать внешнюю базу данных - это тоже не проблема. В доке все есть, в разделе Database для Omnibus пакетов. Единственное что нужно будет учесть - это опять же создание вручную пользователя и добавление экстеншена.<br />И да, если ты вручную будешь в Omnibus сборке менять базу на внешнюю, то, возможно, тебе пригодится знать следующее (я с этим столкнулся).<br />Для того чтобы поправить конфиг тебе нужно будет интерактивно зайти в контейнер, как-то так:<br /><pre><code>docker-compose run --rm gitlab /bin/bash -l</code></pre>Далее по манулу ты будешь изменять gitlab.rb и после того как внесешь изменения потребуется переконфигурировать гитлаб командой <strong>gitlab-ctl reconfigure</strong>, но столкнешься с тем что пересборка заткнется на моменте <strong>ruby_block[supervise_redis_sleep]</strong>. Для того чтобы пройти переконфигурацию предварительно запусти сервис <pre><code>/opt/gitlab/embedded/bin/runsvdir-start &amp;</code></pre>Как-то так. Может мой опыт будет полезен ;)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171308"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171308/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <strong>scorpid</strong><br />1. Скорее всего что-то не установлено из того что запускается у меня в автозапуске через exec.<br />2. Потому что у меня переделанная раскладка, русская <a href="http://klavogonki.ru/u/#/402002/journal/568a5dd47bf62d22528b4568">модифицированный diktor</a>, английская <a href="http://klavogonki.ru/u/#/402002/journal/568a789d7bf62d6c708b4568">модифицированная qwerty</a><br />3. Нет, работает это не только для автозагрузки, там внизу есть соответствующие правила для приложений. Сначала пишется правило, потом над окнами, попадающими под эти правила совершаются действия. Советую почитать документацию на офф. сайте, там достаточно коротко и понятно все. Если пропишешь правило для firefox он будет уходить на веб. Нужно прописать класс окна, который можно посмотреть через утилиту xprop. Все есть в доке.<br />Зачем смотреть на сеть?) Если она пропадет я это сразу замечу и без панели. Избыточная информация. Мне проще нажать mod+enter, напечатать mtr ya.ru к примеру чтобы проверить что с сетью. Если же мне надо отследить трафик то я запущу iftop. А постоянно видеть на панели дергающиеся цифры лично мне как-то без необходимости, но ничего не мешает написать скрипт, который добавит на панель что угодно, если так надо.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171284"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171284/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            Ну зачем? Ну ставьте Debian или {,k,x,l,ed}ubuntu или что-нибудь на базе fedora и пр... Выбирайте графические интерфейсами и получайте систему с графическим  окружением. Вся установка арча сводится к нескольким командам. Зачем ставить арч если &quot;неосиливать&quot; даже этапа установки. Не понятно :\
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171252"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171252/">#</a>
            6 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <strong>Quark_p</strong><br />удали пост, стыдно :)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171238"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171238/">#</a>
            6 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            Постарайся объективно ответить: зачем?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171211"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171211/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <a href="https://i.imgur.com/dYc0Q3M.png">http://i.imgur.com/dYc0Q3M.png</a>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171210"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171210/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Aivar</em><br>Вот чем у меня &quot;загажен&quot; мой статусбар:</blockquote>Да, да, самое первое что надо сделать это осознать избыточность) Я сам был таким, когда сидел лет 5 назад на awesome, у меня вся панель кишила разными <strong>избыточными</strong> данными, которые ну <strong>реальной</strong> практической пользы в себе не несут. Вся панель плотнечком была загажена разными датчиками чего-то, выглядели круто, но реальной пользы для меня не представляло. Up/Down speed, плеер, уведомления, название активного акта, датчики температуры, свободное место на каждом смонтированном устройстве и прочие такие вещи - избыточные данные.<br />Смотри, взять допустим твою температуру на которую ты сделал упор. Сделай вывод как триггер, выводи только если она выше какого-то значения. Зачем тебе 99% времени смотреть на то что температура тебя устраивает. Так же свободное место, которое если так точно надо посмотреть, проще вызвать терминал во float и написать df -h. Информация о треке, ну серьезно, зачем тебе это видеть, ну хочешь посмотреть название трека текущего, сделал popup нотифи, да повесь на сочетание, либо повесь само окно с клиентом в режим scratchpad да и вызывай когда тебе это надо.<br />Помню на авесоме писал свой виджет для того чтобы у меня календарь открывался по нажатию на часы в трее. Столько времени убил чтобы это выглядело круто и достойно, но зачем. Проще терминал вызвать, да написать cal, чтобы посмотреть календарь, если уж понадобилось раз в неделю).
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-171189"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Voronov.S.V/">
                <span class="post-username">Voronov.S.V</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/171189/">#</a>
            6 лет, 2 месяца назад
            
                (отредактировано
                
                    6 лет, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/86/64/8664c739f19e33b5fbda769a69394e1f.png" alt="Voronov.S.V avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Voronov.S.V/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Voronov.S.V/posts/">
                    31
                </a>
            </div>
            <div>
                Участник с: 21 июня 2016
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>danil</em><br><blockquote><em>Voronov.S.V</em><br><a href="https://github.com/Engine-X/i3wm/tree/work/">https://github.com/Engine-X/i3wm/tree/work/</a></blockquote>...</blockquote><br />Да, косяк с памятью я до этого <a href="https://github.com/Engine-X/i3wm/commit/9e048e36f484d4a21f7e5071834d8cc6da737c93">заметил</a>, забыл смержить с другой ветки.<br />С <strong>/proc/stat</strong> поправлю, спасибо за наводку.<br /><br />p.s. Получилось как-то так. Со слипом мне вариант не нравится, потому как он концептуально блокирующий на время указанное в слипе.<br /><pre><code>
#!/bin/bash
#
# Cpu Usage
#
# user      nice  system  idle      iowait  irq   softirq   steal   guest   guest_nice
# $2        $3    $4      $5        $6      $7    $8        $9      $10     $11
# 10257396  43821 3221028 130740590 24937   0     137500    0       0       0

LAST_STAT=/tmp/last_cpu_stat
CURRENT_STAT=/proc/stat

[[ ! -f &quot;${LAST_STAT}&quot; ]] &amp;&amp; &lt; ${CURRENT_STAT} tee ${LAST_STAT}

{ cat ${LAST_STAT} &amp;&amp; &lt; ${CURRENT_STAT} tee $LAST_STAT; } | awk &#39;/^cpu / {usr=$2-usr; sys=$4-sys; idle=$5-idle; iow=$6-iow} END {total=usr+sys+idle+iow; printf &quot;%.1f%&quot;, (total-idle)*100/total}&#39;
</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747b224d4d439d49',m:'zxBTbQIPqOF8J4V8HgC2e74CNfiQfWCJswDACNUlagg-1662676287-0-AbpkXrKG9UEr7oAR5hgIfXIjPpXxg+QJHptIOsjbxketHxYyAo6kVvdZvO5vCColuFKsNgFaAUA9/OHyEmaJF9Z8OuHRLs1kWX/vFsHQ6SNxOfGmjUHNTX4SCrZpeiupXrToky5piFwxb37QIcon5nSx9uI/0kjVjOZfKSnXGLCw',s:[0xee5fc00f00,0xf3116cbd68],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
