


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        kam1kaze Сообщения
    </title>
    <link rel="shortcut icon" href="https://archlinuxcomru.github.io/backup/src/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://archlinuxcomru.github.io/backup/src/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-84998"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kam1kaze/">
                <span class="post-username">kam1kaze</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/84998/">#</a>
            13 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kam1kaze/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kam1kaze/posts/">
                    2
                </a>
            </div>
            <div>
                Участник с: 09 декабря 2008
            </div>
            
        </td>
        <td class="post-content">
            Почитай эту ветку, там автор выложил отконфигурированную версию libid3tag.<br/><br/> <a href="http://darksoft.borda.ru/?1-1-0-00000093-000-0-0-1229526023">http://darksoft.borda.ru/?1-1-0-0000009 &#8230; 1229526023</a> 
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-84996"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kam1kaze/">
                <span class="post-username">kam1kaze</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/84996/">#</a>
            13 лет, 9 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kam1kaze/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kam1kaze/posts/">
                    2
                </a>
            </div>
            <div>
                Участник с: 09 декабря 2008
            </div>
            
        </td>
        <td class="post-content">
            Захотелось добавить RCC патч к стандартному пакету libid3tag. Но появилась очень странная проблема при сборке пакета.<br/>Все стадии проходят на ура, но как только пытаюсь выполнить make процесс застряет на<br/><div class="code"><pre>/bin/sh ./libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -DHAVE_LIBRCC    -Wall -pipe  -march=x86-64 -mtune=generic -O2 -MT version.lo -MD -MP -MF .deps/version.Tpo -c -o version.lo version.c</pre></div>И при этом вижу кучу процессов через <strong>ps</strong><br/> <div class="code"><pre> /bin/sh ./libtool --no-reexec 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool --no-reexec 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool --no-reexec 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool --no-reexec 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool --no-reexec 
 ps aux 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool --no-reexec 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool --no-reexec 
 /bin/sh ./libtool 
 /bin/sed s%^.*/%% 
 /bin/sh ./libtool</pre></div>Процессы плодятся с очень большой скоростью, и система просто уходит в ступор. <br/><br/>PKGBUILD с которого собираю:<br/><div class="code"><pre>pkgname=libid3tag
pkgver=0.15.1b
pkgrel=2
pkgdesc="library for id3 tagging"
url="http://www.underbit.com/products/mad/"
arch=('i686' 'x86_64')
depends=('zlib' 'librcc')
source=(ftp://ftp.mars.org/pub/mpeg/$pkgname-$pkgver.tar.gz
<a href="https://kent.dl.sourceforge.net/sourceforge/rusxmms/libid3tag-csa1.tar.bz2">http://kent.dl.sourceforge.net/sourceforge/rusxmms/libid3tag-csa1.tar.bz2</a>
id3tag.pc)
url="http://www.underbit.com/products/mad/"
md5sums=('e5808ad997ba32c498803822078748c3'
'1d4492bb508a7b560c8b39d4c27b89fd'
'cd5ea001dc24505040b781ad1de9ddf2')
build() {
cd $startdir/src/$pkgname-$pkgver
# Patching
patch -Np1 -i ../$pkgname/$pkgname-$pkgver-ds-rcc.patch
automake
aclocal
autoconf
./configure --prefix=/usr
make || return 1
make DESTDIR=$startdir/pkg install
install -D -m644 $startdir/src/id3tag.pc $startdir/pkg/usr/lib/pkgconfig/id3tag.pc
find $startdir/pkg -name '*.la' -exec rm {} \;
}</pre></div><br/>Полный вывод консоли при сборке:<br/><div class="code"><pre>makepkg -c -f
==&gt; Сборка пакета: libid3tag 0.15.1b-2 x86_64 (Пнд Дек 8 23:46:15 EET 2008)
==&gt; Проверяю необходимые для запуска зависимости...
==&gt; Проверяю необходимые для сборки зависимости...
==&gt; Получение исходных файлов...
-&gt; Обнаружен libid3tag-0.15.1b.tar.gz в директории сборки
-&gt; Обнаружен libid3tag-csa1.tar.bz2 в директории сборки
-&gt; Обнаружен id3tag.pc в директории сборки
==&gt; Проверка исходных файлов с помощью md5sums...
libid3tag-0.15.1b.tar.gz ... Завершено
libid3tag-csa1.tar.bz2 ... Завершено
id3tag.pc ... Завершено
==&gt; Распаковка исходных файлов...
-&gt; bsdtar -x -f libid3tag-0.15.1b.tar.gz
-&gt; bsdtar -x -f libid3tag-csa1.tar.bz2
==&gt; Вхожу в fakeroot окружение...
==&gt; Запускается build()...
patching file configure.ac
patching file latin1.c
patching file Makefile.am
patching file rccpatch.c
patching file rccpatch.h
patching file tag.c
patching file ucs4.c
configure.ac:64: warning: AC_CACHE_VAL(lt_prog_compiler_static_works, ...): suspicious cache-id, must contain _cv_ to be cached
../../lib/autoconf/general.m4:1974: AC_CACHE_VAL is expanded from...
../../lib/autoconf/general.m4:1994: AC_CACHE_CHECK is expanded from...
aclocal.m4:601: AC_LIBTOOL_LINKER_OPTION is expanded from...
aclocal.m4:2452: _LT_AC_LANG_C_CONFIG is expanded from...
aclocal.m4:2451: AC_LIBTOOL_LANG_C_CONFIG is expanded from...
aclocal.m4:87: AC_LIBTOOL_SETUP is expanded from...
aclocal.m4:67: _AC_PROG_LIBTOOL is expanded from...
aclocal.m4:32: AC_PROG_LIBTOOL is expanded from...
configure.ac:64: the top level
configure.ac:64: warning: AC_CACHE_VAL(lt_prog_compiler_pic_works, ...): suspicious cache-id, must contain _cv_ to be cached
aclocal.m4:558: AC_LIBTOOL_COMPILER_OPTION is expanded from...
aclocal.m4:4494: AC_LIBTOOL_PROG_COMPILER_PIC is expanded from...
configure.ac:64: warning: AC_CACHE_VAL(lt_prog_compiler_pic_works_CXX, ...): suspicious cache-id, must contain _cv_ to be cached
aclocal.m4:2593: _LT_AC_LANG_CXX_CONFIG is expanded from...
aclocal.m4:2592: AC_LIBTOOL_LANG_CXX_CONFIG is expanded from...
aclocal.m4:1622: _LT_AC_TAGCONFIG is expanded from...
configure.ac:64: warning: AC_CACHE_VAL(lt_prog_compiler_pic_works_F77, ...): suspicious cache-id, must contain _cv_ to be cached
aclocal.m4:3619: _LT_AC_LANG_F77_CONFIG is expanded from...
aclocal.m4:3618: AC_LIBTOOL_LANG_F77_CONFIG is expanded from...
configure.ac:64: warning: AC_CACHE_VAL(lt_prog_compiler_pic_works_GCJ, ...): suspicious cache-id, must contain _cv_ to be cached
aclocal.m4:3719: _LT_AC_LANG_GCJ_CONFIG is expanded from...
aclocal.m4:3718: AC_LIBTOOL_LANG_GCJ_CONFIG is expanded from...
configure.ac:29: version mismatch. This is Automake 1.10.2,
configure.ac:29: but the definition used by this AM_INIT_AUTOMAKE
configure.ac:29: comes from Automake 1.8.2. You should recreate
configure.ac:29: aclocal.m4 with aclocal and run automake again.
Makefile.am: required file `./NEWS' not found
Makefile.am: required file `./AUTHORS' not found
Makefile.am: required file `./ChangeLog' not found
checking for a BSD-compatible install... /bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for fgrep... /bin/grep -F
checking for ld used by gcc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
checking the name lister (/usr/bin/nm -B) interface... BSD nm
checking whether ln -s works... yes
checking the maximum length of command line arguments... 1572864
checking whether the shell understands some XSI constructs... yes
checking whether the shell understands "+="... yes
checking for /usr/bin/ld option to reload object files... -r
checking for objdump... objdump
checking how to recognize dependent libraries... pass_all
checking for ar... ar
checking for strip... strip
checking for ranlib... ranlib
checking command to parse /usr/bin/nm -B output from gcc object... ok
checking how to run the C preprocessor... gcc -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for dlfcn.h... yes
checking for objdir... .libs
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC -DPIC
checking if gcc PIC flag -fPIC -DPIC works... yes
checking if gcc static flag -static works... yes
checking if gcc supports -c -o file.o... yes
checking if gcc supports -c -o file.o... (cached) yes
checking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... yes
checking for ANSI C header files... (cached) yes
checking assert.h usability... yes
checking assert.h presence... yes
checking for assert.h... yes
checking for unistd.h... (cached) yes
checking zlib.h usability... yes
checking zlib.h presence... yes
checking for zlib.h... yes
checking for an ANSI C-conforming const... yes
checking for inline... inline
checking for ftruncate... yes
checking for compress2 in -lz... yes
checking for rccInit in -lrcc... yes
checking librcc.h usability... yes
checking librcc.h presence... yes
checking for librcc.h... yes
checking whether to enable profiling... no
checking whether to enable debugging... default
configure: creating ./config.status
config.status: creating Makefile
config.status: WARNING: 'Makefile.in' seems to ignore the --datarootdir setting
config.status: creating msvc++/Makefile
config.status: WARNING: 'msvc++/Makefile.in' seems to ignore the --datarootdir setting
config.status: creating libid3tag.list
config.status: creating config.h
config.status: executing depfiles commands
config.status: executing libtool commands
cd . &amp;&amp; /bin/sh /var/abs/local/libid3tag/src/libid3tag-0.15.1b/missing --run automake-1.10 --foreign
cd . &amp;&amp; /bin/sh ./config.status Makefile depfiles
config.status: creating Makefile
config.status: executing depfiles commands
cd . &amp;&amp; \
gperf -tCcTonD -K id -N id3_frametype_lookup -s -3 -k '*' \
frametype.gperf | \
sed -e 's/\(struct id3_frametype\);/\1/' | \
sed -e '/\$''Id: /s/\$//g' &gt;frametype.c
cd . &amp;&amp; \
gperf -tCcTonD -K id -N id3_compat_lookup -s -3 -k '*' \
compat.gperf | \
sed -e 's/\(struct id3_compat\);/\1/' | \
sed -e '/\$''Id: /s/\$//g' &gt;compat.c
cd . &amp;&amp; \
sed -n -f genre.dat.sed genre.dat.in | \
sed -e '/\$''Id: /s/\$//g' &gt;genre.dat
cd . &amp;&amp; /bin/sh /var/abs/local/libid3tag/src/libid3tag-0.15.1b/missing --run autoheader
rm -f stamp-h1
touch config.h.in
cd . &amp;&amp; /bin/sh ./config.status config.h
config.status: creating config.h
make all-recursive
make[1]: Entering directory `/var/abs/local/libid3tag/src/libid3tag-0.15.1b'
make[2]: Entering directory `/var/abs/local/libid3tag/src/libid3tag-0.15.1b'
/bin/sh ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -DHAVE_LIBRCC -Wall -pipe -march=x86-64 -mtune=generic -O2 -MT version.lo -MD -MP -MF .deps/version.Tpo -c -o version.lo version.c
^Cmake[2]: *** [version.lo] Прерывание
make[1]: *** [all-recursive] Прерывание
make: *** [all] Прерывание
==&gt; ОШИбКА: Aborted by user! Exiting...</pre></div><br/>Насколько я понимаю проблема с libtools<br/><br/><ul><li>host-triplet:     x86_64-unknown-linux-gnu <br/>       shell:            /bin/sh <br/>       compiler:         gcc <br/>       compiler flags:           -march=x86-64 -mtune=generic -O2 -pipe <br/>       linker:           /usr/bin/ld -m elf_x86_64 (gnu? yes) <br/>       libtool:          (GNU libtool) 2.2.6 <br/>       automake:         automake (GNU automake) 1.10.2 <br/>       autoconf:         autoconf (GNU Autoconf) 2.63<br/><br/>з.ы. Проблема с патчем никак не связана, так как все повторяется даже если его закоментить.</li></ul>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    



</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747c40fe8c889d99',m:'cj8Zg_GmqJ1553KGRny0M6Qg4UPMZQgv6WKxq_T8Drg-1662688025-0-AXCIoMtBOZy5Jrk9zui1CGilRkkGaPjRpbu/GkQsGs1vqfcHsezDLr3vOkei6qK9izwtCbpSN7zJSuOWgDPO84/0fWOkJ+F9PlvOmIZwQBQ9HCNkhb5SC7QkZI06riXqOB9V62l1SPwYu7wcgps2aSA=',s:[0x0ddd3ee11c,0x7aae55755b],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
