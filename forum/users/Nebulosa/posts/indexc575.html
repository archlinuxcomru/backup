


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/users/Nebulosa/posts/?page=6 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 05:45:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Nebulosa Сообщения
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../../feeds/topics/index.html" title="Последние темы на форуме" >

    
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../../index.html">Форум</a></li>
    <li class=""><a href="../../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../../index.html">Начало</a> <span class="divider">/</span></li>
    
    
        <li>Сообщения</li>
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    <div class="posts">
        
            




<table class="table table-bordered post post-row
       "
       id="post-245051"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/245051/index.html">#</a>
            1 год, 3 месяца назад
            
                (отредактировано
                
                    1 год, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>anode</em><br>ну или какое вы хотите сжатие для ядра. gzip - не самый плохой выбор, ну будет образ ядра чуть больше, да и ладно.</blockquote>Ура! Помогло!<br /><br />Вернул все настройки в makepkg и mkinitcpio, прописал архиватор gzip - на виртуалке собралось.<br /><br />Теперь нужно проверить на самом VPS и заодно из спортивного интереса посмотреть какой из архиваторов будет максимально эффективный и влезет в лимит.<br /><br />Теперь, когда уже нужно вносить изменения уже в config приходится костылять в основной скрипт и PKGBUILD. <a href="http://termbin.com/blzf">http://termbin.com/blzf</a> - тут скрипт autobuild, если кому интересно, пока так, но нужно будет прописать более универсально на будущее..
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-245001"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/245001/index.html">#</a>
            1 год, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>anode</em><br>Корпорации, батенька. Они теперь свой zstd в любую дырку без вазелина пнуть будут.<br /><br />На скрине вашем написано четко: в строке 134 файла linux-5.12.2/arch/x86/boot/compressed/Makefile при выполнении сжатия ядра не хватает памяти. Выше в строках есть gzip, bzip2 и т.д., вероятно в конфиге, которій вы используете задано использовать zstd: General setup -&gt; Kernel compression mode -&gt; Задайте, что вам надо.</blockquote>Спасибо, уже кое-что. Попробую, отпишусь.<br /><br />Написал также о проблеме в англоязычный форум, где обсуждается ck-ядро, надеюсь автор сборки заметит проблему..
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-244917"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/244917/index.html">#</a>
            1 год, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>nafanja</em><br>не хватает памяти, используй другой архиватор для сжатия пакета.<br />выбор же большой</blockquote>Поставил PKGEXT=&#39;pkg.tar.xz&#39; в /etc/makekpg.conf не помогло, ровно такая же ошибка слово в слово... видимо не в этом дело.<br /><br /><blockquote><em>vs220</em><br><blockquote><em>Nebulosa</em><br>не смог найти</blockquote>doc<br /><a href="https://facebook.github.io/zstd/zstd_manual.html">https://facebook.github.io/zstd/zstd_manual.html</a><br />не читал и не ос&#8230;</blockquote><br />Я тут уже был, тут описание кода архиватора и их функций, не поможет.<br /><br />Посмотрел zstd --help и добавил в Makefile: zstd -1 - не помогло..<br /><br />Может сборка ядра в принципе не идёт на 512Мб?..
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-244911"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/244911/index.html">#</a>
            1 год, 3 месяца назад
            
                (отредактировано
                
                    1 год, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            Есть VPS c параметрами 1 CPU, 512МБ, 5ГБ, Archlinux. Хочу приспособить его для сборки ядра ck для другой машины, благо VPS работает круглосуточно.<br /><br />Поставил <a href="https://aur.archlinux.org/packages/linux-ck-autobuild">https://aur.archlinux.org/packages/linux-ck-autobuild</a> с некоторыми оговорками запускается, компилирует, собирает пакет, но вываливается в ошибку:<br /><br /><pre><code>zstd: error 11 : Allocation error : not enough memory</code></pre><br />Попробовал сделать отдельную виртуальную машину, параметры те же самые, ошибка повторяется до тех пор пока не будет 1Гб RAM. При этом сами исходники/компилированные модули занимают 2-2,1Гб поэтому 5Гб SSD итого вполне хватает.<br /><br /><a href="https://ibb.co/8DPdBZS"><img src="https://i.ibb.co/8DPdBZS/photo5242735908598428351.jpg"></a><br /><br />Какие есть варианты настройки zstd - я так понимаю, что это архиватор скомпилированного в пакет?<br /><br />Wiki смотрел, ничего полезного не смог найти..
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-244909"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/244909/index.html">#</a>
            1 год, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <a href="https://www.linux.org.ru/forum/talks/16305853">https://www.linux.org.ru/forum/talks/16305853</a><br /><br />Соответсвенно <a href="https://ubuntu.name/">https://ubuntu.name</a>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-244893"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/244893/index.html">#</a>
            1 год, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            Попробовал скрипт автоустановки на виртуалке, всё работает. Но нашёл нюанс..<br /><br />Здесь написано <a href="https://wiki.archlinux.org/title/Installation_guide">https://wiki.archlinux.org/title/Installation_guide</a> что минимально RAM должно быть 512мб. Но как показала практика минимум теперь 1 Гб, иначе никак не монтировалась корневая система.<br /><br />Раньше вроде размер образа был меньше.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-243114"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/243114/index.html">#</a>
            1 год, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>gard</em><br>Я как-то писал скрипт для бэкапов с lvm-снапшотов. Прямо нагорячую, каждую ночь. Раз в месяц - полный бэкап, раз в день - инкрементный. Если нужно - могу скрипт скинуть (хоть я в том месте уже не работаю, но доступ так и остался).</blockquote>Как пример, конечно давайте, наверняка кому-то понадобится!<br /><br />А как именно организация хранения файлов - немного не то.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-243094"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/243094/index.html">#</a>
            1 год, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>AZJIO</em><br>Задача не сложная, для себя сделал бы. делаешь перечисление файлов в источнике с относительными путями, далее проверяешь каждый файл, существует ли он в папке назначения, и если да, то копирование происходит с прибавлением даты в имя, а если файла не существует, то копирование как есть. Задача слишком проста. Ранее я писал уже <a href="https://azjio.ucoz.ru/load/vsjo_dlja_autoit3/skompilirovannye_skripty/synchronization/4-1-0-58">программу синхронизации</a> для Windows, но по своему, под свои задачи, синхронизация сборников программ, там не подразумевается копия и добавление с датой, там выбираешь критерии дата, размер, путь и их комбинации.</blockquote>Не спорю, что задача простая, но написал тему, чтобы для себя понять вдруг какие есть технологии или готовые красивые программы, аля Time Machine в Mac, но даже и это не совсем то, что мне нужно.<br /><br /><blockquote><em>indeviral</em><br>да это вообще не задача, достаточно флага -b у cp и всё, там пару опции для сохранения копий читайте man cp.</blockquote>Внезапно! Стало быть, буду писать скрипт. Сейчас дочитаю статью по rsync - довольно просто и толково написано, может быть почерпну идеи для скрипта (Спасибо за ссылку!)<br /><br /><blockquote><em>indeviral</em><br>у вас есть архивы/директории со всеми файлами при копировании одной в другую, у вас останется одна в которой будут все файлы, некоторые с пометкой изменен&#8230; я не знаю как до вас донести просто поверьте на слово, что метка удалён внутри бэкапа противоречит здравому смыслу))</blockquote>Согласен, возможно метка будет лишняя, но как-то нужно это отделять.. посмотрим. Может сделаю папку lost+found %)<br /><blockquote><em>anode</em><br>Git?</blockquote>Да, тоже над этим думал, но не владею материалом никак, надо тоже погружаться. А самое главное как в папку сгружать копии старых файлов, не понимаю. Версионность точно будет, это понимаю, но боюсь слишком сложно будет для объяснения другим как этим пользоваться.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-243081"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/243081/index.html">#</a>
            1 год, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>nafanja</em><br>ну я сейчас юзаю btrfs, которая лучшим образом тебе подойдет, да и многим подойдет, при условии что <u>не менее 50% всегда свобдно</u>!!!</blockquote>С удовольствием, только данный &quot;живой&quot; бекап будет выложен в облако, и там уже нет власти какая FS используется. С данными файлами работает 7-10 человек.<br /><br /><blockquote><em>vasek</em><br>Вообще не понимаю смысл всего этого - зачем нужно 12 backup??? - чего то видимо до меня не доходит.</blockquote>Самый простой вариант - берём и копируем всю папку, благо 10-12 ГБ всего. Проблема поиска нужного файла (и нужно версии файла) проявилась когда таких бекапов стало 50 %)<br /><br /><blockquote><em>vasek</em><br>У меня база даже больше - в одной только директории ArchLinux <strong>~/Документы</strong> около 40тыс файлов и 4тыс директорий &#8230; это не считая других постоянных (не изменных) документов, расположенных на другом разделе.<br />Периодически делаю rsync на другой раздел<br /><pre><code>rsync -av -P ~/Документы --delete /run/media/vasek/Date_ArchLinux/Backup</code></pre>Делается очень быстро, зато имеется полная актуальная копия этой директории.</blockquote> У меня rsync недавно сообщил о 520 тыс. файлов в бекапе %)<br />Проблема не получить бекап актуальной папки, а посмотреть как файл выглядел месяц или два назад. Или его восстановить, в случае если кто-то его удалил случайно.<br /><br /><blockquote><em>vasek</em><br>Главная проблема в поиске нужного документа/темы в этой базе, которые понадобяться - приходится использовать разные утилиты.</blockquote>Ну вот эту проблему и хочу решить. Структура вложенных папок не меняется, скажем наступает новый месяц - создаётся подпапка  04_Апрель и уже её наполняем текущими файлами. Т.е. ты изначально знаешь где должен находиться файл, в какой из подпапок, но тебе иногда нужно посмотреть как он менялся в течении года, по срезу за месяц.<br /><blockquote><em>kurych</em><br>Основная идея и примеры скриптов, ее реализующих, для организации инкрементальных бекапов <a href="http://www.mikerubel.org/computers/rsync_snapshots/">здесь</a>.<br />Там же можно найти ссылки на готовые реализации бекапов.</blockquote>Спасибо, посмотрю обязательно! Но насколько я понимаю, инкрементальные бекапы, хранятся в своём внутреннем формате (и архивах) и если ты не знаешь когда именно файл был изменен ты не сможешь быстро получить доступ к файлу напрямую.<br /><blockquote><em>indeviral</em><br>Ну для всякого. Посмотреть как оно было там год назад))<br />Ну для не меняющихся постоянно данных, наверно дело бесполезное&#8230;</blockquote>Да, здесь смысл не в том, чтобы хранить базу пакетов программ/фильмов которые практически никогда не изменяются, а нужна версионность файлов, хотя бы помесячно.<br /><br /><blockquote><em>indeviral</em><br>т.е. берём разархивируем все архивы в одну папку при этом указываем сохранять копии.<br />про удалённые файлы непонятно, это же бэкап он как бы и сделан чтобы не было таких файлов))</blockquote>Именно! Никогда не делал эту задачу раньше, подскажите какой программой или командой это делать? Всё что раньше пользовал - если версии файлов различаются - две опции - перезаписать поверх и ничего не переносить. Нужна опция сохранить копию старого файла рядом с текущей версией.<br /><br />Удаленные файлы - это задача со звёздочкой, но точно поможет если кто-то в январе удалил папку, а узнал ты об этом только через полгода, поэтому в идеале такие файлы тоже перенести в мастер-копию, он же - бекап за Декабрь.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
            




<table class="table table-bordered post post-row
       "
       id="post-243041"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../index.html">
                <span class="post-username">Nebulosa</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../../post/243041/index.html">#</a>
            1 год, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4a/9b/4a9bd66c7a2a170b1585f3b56cdb48de.png" alt="Nebulosa avatar" />
    
</div>

            <div>
                Темы:
                <a href="../topics/index.html">
                    10
                </a>
            </div>
            <div>
                Сообщения:
                <a href="index.html">
                    830
                </a>
            </div>
            <div>
                Участник с: 05 марта 2009
            </div>
            
        </td>
        <td class="post-content">
            Призываю в тред мастеров организации архивов! :)<br /><br />Дано: Есть папка с файлами, на 99% excel, ppt, docx, jpg. Внутри много папок, файлов (порядка 20-25 тыс). Всего 11-15 Гб. Файлы в основном добавляются, старые файлы почти не меняются. Каждый месяц создаётся полный бекап данной папки, сохраняется на отдельный диск. Получается 12 полных бэкапов за год, пару лет уже накопилось.<br /><br />Что нужно: сделать некую мастер-копию за год. Т.е. берём архив за декабрь и сливаем её с копиями за разные месяцы. Те файлы которые не менялись, не перезаписываются. Те файлы, которые различаются копируются в ту же папку но к имени файла добавляем дату файла. Удалённые файлы, которых нет в мастер-копии, также копируются, но с пометкой _deleted в названии файла.<br /><br />Затем данную мастер-копию закидываем в облако и открываем доступ на чтение. Важно чтобы файлы были не архивированные, сразу рабочие. 12 папок архивов неудобны тем, что когда ищешь когда именно изменился какой-либо файл, приходится в каждой месячной копии проходить по вложенным папкам весь путь с непонятным результатом. Собственно поэтому и появилась идея мастер-копии, хотя бы по году. Ну и плюс экономия места на диске - вместо 120 Гб, 13-14Гб на год.<br />Вопрос: какие существуют программы, механики хранений архивов, для похожего результата?<br /><br />Также есть идея написать Bash-скрипт, не особо сложно должно быть, но наверняка есть какие-то готовые и более функциональные решения.<br /><br />Подскажите, пожалуйста, а как вы организуете архивы? Даже если у вас какая-то другая система, тоже будет интересно, может быть почерпну что-то новое!
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

        
    </div>
    <div>&nbsp;</div>
    
        <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="indexaf4d.html?page=5" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="indexc575.html?page=6">6 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index235c.html?page=7">7</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdfa.html?page=8">8</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index0b08.html?page=9">9</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1448.html?page=10">10</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index1c8b.html?page=11">11</a>
                        </li>
                    
                
            
                
                    <li class="disabled">
                        <span>...</span>
                    </li>
                
            
                
                    
                        <li>
                            <a href="indexb9f4.html?page=82">82</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index6aff.html?page=83">83</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index235c.html?page=7" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

    


        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/users/Nebulosa/posts/?page=6 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 05:45:33 GMT -->
</html>
