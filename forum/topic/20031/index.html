


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        mbim-proxy кушает CPU на 100%
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/9/">Новичкам в Arch Linux</a> <span class="divider">/</span></li>
            
        
        
            <li>mbim-proxy кушает CPU на 100%</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>mbim-proxy кушает CPU на 100%</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-231956"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Attention_Deficit/">
                <span class="post-username">Attention_Deficit</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/231956/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/c2/2b/c22b1a725d68eb5c31f04776ef61794a.png" alt="Attention_Deficit avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Attention_Deficit/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Attention_Deficit/posts/">
                    13
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2018
            </div>
            
        </td>
        <td class="post-content">
            Может кто-то сталкивался с проблемой?<br />ноутбук LIFEBOOK S935.<br />В ноутбуке есть слот для sim карты. Использую фичу 3G модема, но довольно редко, в основном когда нужно работать вне офиса или далеко от дома. Каждый раз после перезагрузки процесс mbim-proxу загружает одно ядро процессора на 100%.<br />Собственно, что такое mbim-proxy, понятно это библиотека для работы модуля (<a href="https://www.freedesktop.org/wiki/Software/libmbim/">https://www.freedesktop.org/wiki/Software/libmbim/</a>). Как сделать так, чтобы сей процесс не топил во всю.<br />Сейчас вопрос решается килянием процесса через bashtop. Хотелось бы адекватного решения.
            
                
                    <div class="post-signature">
                        Mind your head
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-231964"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/231964/">#</a>
            2 года, 2 месяца назад
            
                (отредактировано
                
                    2 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            На вскидку виду два пути, но нужно проверять и читать:<br />1. Используя AT команды для данного модема, перевести его в другой режим, в котором не функционирует данная фича или, если возможно, просто отключить данную фичу.<br />2. Выяснить какой модуль необходим для работы данной фичи и запретить его загрузку. .... предположу, что это модуль  cdc_mbim<br /><br /><strong>PS</strong> - интересно, что посоветоваои на форуме manjaro
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-231972"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Attention_Deficit/">
                <span class="post-username">Attention_Deficit</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/231972/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/c2/2b/c22b1a725d68eb5c31f04776ef61794a.png" alt="Attention_Deficit avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Attention_Deficit/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Attention_Deficit/posts/">
                    13
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2018
            </div>
            
        </td>
        <td class="post-content">
            AUR предлагает альтернативные пакеты. Но они не собираются по разным причинам, судя по датам они заброшены. При этом, они просят пакет mbim с зависимостями удалить. Гуглы мне толком ничего не дали. Искал по форумам, увидел, что да, таки есть такая проблема.<br />Что характерно,  mbim-proxy   /usr/lib/mbim-proxy не всегда юзает под 100%. Я включаю ноут, смотрю на процесс он 0%, работаю и внезапно начинается шум кулера и я понимаю, что что-то толкает модуль модема. Хотя в гноме в гуях я вижу что фича отключена. Т.е. чтобы она работала ее надо енейбл.<br />Отключить службу как таковую, не вариант, есть редкие случаи когда таки нужно работать, например по пути на работу или обратно. Разве что написать скрипт, который будет килять или запусать процесс. Но костыльные методы, имхо, это плохо.<br />Форум manjaro молчит как рыба об лёд.
            
                
                    <div class="post-signature">
                        Mind your head
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-231973"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/231973/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <strong>Attention_Deficit</strong>, предложено два варианта, дерзай ... и, главное, готовое решение никто тебе не выложит - предложат только пути решения, а дальше нужно будет много читать, как это сделать.<br /><br /><strong>PS</strong> - и информации все-таки нужно предоставлять побольше.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232014"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232014/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            to <strong>Attention_Deficit</strong><br />Уже давно не занимался USB 3G модемом в части подключения/отключения разных фич, решил вспомнить, а заодно и проверить кое что другое для себя … пишу подробнее - может тебе и пригодится.<br />Мой модем -  huawei MegaFon M21-4 (E3531)<br />1. Смотрим в каком режиме он подключен<br /><strong>AT^SETPORT?</strong><br />^SETPORT:FF;1,2,16<br />где, 1 - режим модем, 2 - порт управления, 16 - NDIS-сетевая карта<br />2. Смотрим вывод lsusb<br /><pre><code>|__ Port 1: Dev 8, If 0, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008
    |__ Port 1: Dev 8, If 1, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008
    |__ Port 1: Dev 8, If 2, Class=Vendor Specific Class, Driver=huawei_cdc_ncm, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008</code></pre>и видим, что NDIS-сетевая карта использует модуль (Driver) huawei_cdc_ncm … и можно предположить, что если выгрузить этот модуль, то NDIS работать не будет.<br />3. Проверим, выгрузим модуль  huawei_cdc_ncm<br /><strong>sudo modprobe -r huawei_cdc_ncm</strong><br />и смотрим вывод lsusb<br /><pre><code>|__ Port 1: Dev 8, If 0, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008
    |__ Port 1: Dev 8, If 1, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008
    |__ Port 1: Dev 8, If 2, Class=Vendor Specific Class, Driver=, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/008</code></pre>Модуля не видно, а значит NDIS работать не должен (проверять не буду).<br />4. А сейчас попробуем изменить рабочую конфигурацию модема, - отключим NDIS, оставим один режим, только модем<br /><strong>AT^SETPORT=&quot;FF;1,2&quot;</strong><br />Проверим<br /><strong>AT^SETPORT?</strong><br />^SETPORT:FF;1,2<br />Ну и смотрим вывод lsusb<br /><pre><code>|__ Port 1: Dev 9, If 0, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/009
    |__ Port 1: Dev 9, If 1, Class=Vendor Specific Class, Driver=option, 480M
        ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
        /sys/bus/usb/devices/2-1  /dev/bus/usb/002/009</code></pre>И видим, что режим NDIS исчез … и, имхо, это наиболее подходящий вариант.<br /><br />Конечно, нужно знать конкретно используемый USB 3G modem и AT-команды к нему. В принципе, используя AT-команды всегда можно посмотреть возможные режимы работы модема, в том числе и посмотреть есть ли режимы, в которых отключен mbim-proxy … а потому и писал выше, что для решения проблемы нужно много читать и знать … не все так просто.<br /><br /><strong>PS</strong> - кстати, используя AT-команды можно многое узнать о своем модеме, например, IMEI девайса,  версию железа, прошивки, изменить PIN … и многое другое.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232015"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Attention_Deficit/">
                <span class="post-username">Attention_Deficit</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232015/">#</a>
            2 года, 2 месяца назад
            
                (отредактировано
                
                    2 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/c2/2b/c22b1a725d68eb5c31f04776ef61794a.png" alt="Attention_Deficit avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Attention_Deficit/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Attention_Deficit/posts/">
                    13
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2018
            </div>
            
        </td>
        <td class="post-content">
            Спасибо за небезразличие и участие. Редкость в наше время.<br />У меня модем Sierra Wireless, Inc. EM8805.<br />Функционал AT так понимаю это для usb <strong>huawei</strong> модема.<br />Заметил одну закономерность. После того как я выключу, т.е. полностью павероффну, и после включаю ноут, процесс не шалит. Я могу в гуях увидеть, прописанные мною, параметры подключения Kiyvstar3G и всё работает без запредельной нагрузки на ядро.<br />Но стоит мне захлопнуть крышку ноута, а потом разбудить ось, в гуях не работает функция коннекта и моих наименований коннекта нет. Судя по всему, модуль пытается безуспешно загрузить конфиг. Тут возможно, либо некорректно в спящий режим впадает, либо с правами на конфиг загвоздка.<br /><br />Сам mbim в терминале имеет две функции mbimcli и mbim-network, нужно покурить мануалы по этим командам, благо маны там есть. Или на крайний случай запустить в вербоуз режиме, посмотреть логи.<br /><blockquote>Крансоглазие наше всьо.</blockquote>
            
                
                    <div class="post-signature">
                        Mind your head
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232018"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232018/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Attention_Deficit</em><br>Но стоит мне захлопнуть крышку ноута, а потом разбудить ось, в гуях не работает функция коннекта и моих наименований коннекта нет.</blockquote>Как правило основной причиной ошибок в этом случае явлется модуль, если проблема в модуле, то это можно отловить ... и если действительно виноват модуль, то можно попробовать перед уходом в suspend выгрузить модуль, а  при выходе из suspend загрузить его, возможно придется, наверное, поднимать снова и сеть, здесь я ничего сказать не могу, практически с этой фичей  mbim-proxy не знаком.<br />Вообщем по идее нужно отловить виновника и делать с ним соответсвующие действия при уходе/выходе в/из suspend. Как можно отловить, описывал не однократно в блогах.<br /><br /><blockquote><em>Attention_Deficit</em><br>У меня встроенный модем Sierra Wireless, Inc. EM8805.<br />Функционал AT так понимаю это для usb huawei модема.</blockquote>Есть AT команды и для других модемов, посмотри, например, <a href="https://zukota.com/sierra-wireless-em7345-at-commands/">это</a> и <a href="https://4pda.ru/forum/index.php?showtopic=444921&amp;st=120">это</a> - может что найдешь и для своего модема.<br />Или можешь пробовать не загружать модуль (какой, определи - будет что то типа ххх_cdc_mbim или просто cdc_mbim - не знаю, смотри вывод lsmod | grep mbim)
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232020"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Attention_Deficit/">
                <span class="post-username">Attention_Deficit</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232020/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/c2/2b/c22b1a725d68eb5c31f04776ef61794a.png" alt="Attention_Deficit avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Attention_Deficit/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Attention_Deficit/posts/">
                    13
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>lsmod | grep mbim</blockquote><br />Таки да<br /><br /><pre><code>lsmod | grep mbim
cdc_mbim               20480  0
cdc_wdm                28672  2 cdc_mbim
cdc_ncm                49152  1 cdc_mbim
usbnet                 53248  2 cdc_mbim,cdc_ncm</code></pre><br />Сейчас буду копать в эту сторону.
            
                
                    <div class="post-signature">
                        Mind your head
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232021"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232021/">#</a>
            2 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Попробуй выгрузи модуль cdc_mbim (<strong>sudo modprobe -r cdc_mbim</strong>) и закрой крышку ноута  (вход в suspend) .... и выйди из suspend - нагрузка на cpu будет???
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-232023"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/232023/">#</a>
            2 года, 2 месяца назад
            
                (отредактировано
                
                    2 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Хотя поступил не разумно, доверившись человеческим эмоциям и суждениям. Лучше в этих случаях начинать хотя бы с простейшего анализа.<br />- выяснить процесс, грузящий cpu, например, так (или по другому, смотри этот <a href="https://archlinux.org.ru/forum/topic/19282/">блог</a>)<br /><pre><code>ps -eo pid,pcpu,pmem,comm | sort -r -k2 | head -5</code></pre>- посмотреть вывод lsusb и lspci -  и обязательно до ухода в suspend и после выхода из suspend (когда идет нагрузка на cpu) - не зная точно в каком выводе что будет, лучше применить и lsusb и lspci:<br /><pre><code>lsusb -t -vv  и  lspci -v</code></pre>найти в этих выводах свои устройства, какие задействованы модули, а также определить наличие отличий в выводах до входа в suspend и после выхода из suspend. Не забываем, что данный девайс определяется как несколько устройств. Для удобства определения что есть что в выводах, можно посмотреть эти же выводы до вставки девайса в слот и после вставки в слот, если, конечно, это возможно.<br />Это минимум, дальше действуй по обстоятельствам.<br /><br /><strong>EDIT 1</strong> - команды и используемые опции в них на свой вкус и в зависимости от обстоятельств ....
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/20031/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747b629b8cd6164b',m:'AQxZaI4d3_pjOwEzuKzSjH5rVxdJdNRX1e8TFEsE234-1662678922-0-Ab7zjo4ErzR72UCB23UwKYXZXp/Kl1lyXDa3k9LqUNC7s4y8xszIRIIruMIu4jBscnCi0gS+zBB2wBZpJJqFiDd0WehTWpsIUAWu7x+lLTaBMBPrN//xiFoPXhXF39Bh3D11PYPsnv4Z+7NC0+Tn3V4=',s:[0xac76b8d56e,0x9742c6d04d],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
