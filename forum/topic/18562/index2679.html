


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/18562/?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:14:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Аппаратное кодирование в obs-studio на открытый драйверах amd.
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/2/index.html">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/10/index.html">Мультимедиа</a> <span class="divider">/</span></li>
            
        
        
            <li>Аппаратное кодирование в obs-studio на открытый драйверах amd.</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Аппаратное кодирование в obs-studio на открытый драйверах amd.</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="index2679.html?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index4658.html?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205526"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/median/index.html">
                <span class="post-username">median</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205526/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/3c/b4/3cb49885fb4eba3922be5aed905ce92d.png" alt="median avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/median/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/median/posts/index.html">
                    139
                </a>
            </div>
            <div>
                Участник с: 17 августа 2016
            </div>
            
        </td>
        <td class="post-content">
            Собрал я значит arch-obs-studio-latest-ffmpeg-vaapi,   <a href="https://ibb.co/keXTA8"><img src="https://thumb.ibb.co/keXTA8/24.png"></a>  но обска отказывается записывать  при выборе в настройках  кодировщика vaapi, выдает ошибку <img src="https://image.ibb.co/gC7aOT/9.png">  <pre><code>[median@archlinux ~]$ obs
Attempted path: share/obs/obs-studio/locale/en-US.ini
Attempted path: /usr/share/obs/obs-studio/locale/en-US.ini
Attempted path: share/obs/obs-studio/locale.ini
Attempted path: /usr/share/obs/obs-studio/locale.ini
Attempted path: share/obs/obs-studio/locale/ru-RU.ini
Attempted path: /usr/share/obs/obs-studio/locale/ru-RU.ini
info: Using preferred locale &#39;ru-RU&#39;
Attempted path: share/obs/obs-studio/themes/Dark.qss
Attempted path: /usr/share/obs/obs-studio/themes/Dark.qss
Invalid Context= &quot;Mimetypes&quot; line for icon theme:  &quot;/usr/share/icons/Faba/symbolic/mimetypes/&quot;
Icon theme &quot;elementary&quot; not found.
Icon theme &quot;gnome&quot; not found.
Attempted path: share/obs/obs-studio/license/gplv2.txt
Attempted path: /usr/share/obs/obs-studio/license/gplv2.txt
info: CPU Name: AMD Athlon(tm) X4 860K Quad Core Processor
info: CPU Speed: 3636.612MHz
info: Physical Cores: 2, Logical Cores: 4
info: Physical Memory: 16050MB Total, 10650MB Free
info: Kernel Version: Linux 4.16.13-2-ARCH
info: Distribution: &quot;Arch Linux&quot; Unknown
info: Window System: X11.0, Vendor: The X.Org Foundation, Version: 1.20.0
info: Portable mode: false
QMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_clicked()
QMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_destroyed()
QMetaObject::connectSlotsByName: No matching signal for on_program_customContextMenuRequested(QPoint)
info: OBS 21.1.1_161_gd6759d15 (linux)
info: ---------------------------------
info: ---------------------------------
info: audio settings reset:
        samples per sec: 44100
        speakers:        2
info: ---------------------------------
info: Initializing OpenGL...
info: Loading up OpenGL on adapter X.Org AMD Radeon (TM) RX 460 Graphics (POLARIS11, DRM 3.23.0, 4.16.13-2-ARCH, LLVM 6.0.0)
info: OpenGL loaded successfully, version 4.5 (Core Profile) Mesa 18.1.1, shading language 4.50
info: ---------------------------------
info: video settings reset:
        base resolution:   1920x1080
        output resolution: 1920x1080
        downscale filter:  Bicubic
        fps:               30/1
        format:            NV12
        YUV mode:          601/Partial
info: Audio monitoring device:
        name: По умолчанию
        id: default
info: ---------------------------------
[u]libDeckLinkAPI.so: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога
info: No blackmagic support
error: os_dlopen(libnvidia-encode.so.1-&gt;libnvidia-encode.so.1): libnvidia-encode.so.1: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога

info: FFMPEG VAAPI supported[/u][b][/b]
info: VLC found, VLC video source enabled
info: ---------------------------------
info:   Loaded Modules:
info:     vlc-video.so
info:     text-freetype2.so
info:     rtmp-services.so
info:     obs-x264.so
info:     obs-transitions.so
info:     obs-outputs.so
info:     obs-libfdk.so
info:     obs-filters.so
info:     obs-ffmpeg.so
info:     linux-v4l2.so
info:     linux-pulseaudio.so
info:     linux-jack.so
info:     linux-decklink.so
info:     linux-capture.so
info:     linux-alsa.so
info:     image-source.so
info:     frontend-tools.so
info: ---------------------------------
info: ==== Startup complete ===============================================
info: All scene data cleared
info: ------------------------------------------------
info: pulse-input: Server name: &#39;pulseaudio 11.1&#39;
info: pulse-input: Audio format: s16le, 44100 Hz, 2 channels
info: pulse-input: Started recording from &#39;alsa_output.pci-0000_00_14.2.analog-stereo.monitor&#39;
info: pulse-input: Server name: &#39;pulseaudio 11.1&#39;
info: pulse-input: Audio format: s16le, 44100 Hz, 2 channels
info: pulse-input: Started recording from &#39;alsa_input.usb-BEHRINGER_C-1U-00.analog-stereo&#39;
info: xshm-input: Geometry 1920x1080 @ 0,0
info: Switched to scene &#39;Сцена&#39;
info: ------------------------------------------------
info: Loaded scenes:
info: - scene &#39;Сцена&#39;:
info:     - source: &#39;Захват экрана (XSHM)&#39; (xshm_input)
info: ------------------------------------------------
info: adding 23 milliseconds of audio buffering, total audio buffering is now 23 milliseconds
info: ---------------------------------
info: [FFMPEG VAAPI encoder: &#39;recording_h264&#39;] settings:
        device:       /dev/dri/renderD128
        qp:           20
        quality:      0
        profile:      578
        level:        41
        bitrate:      6000
        keyint:       120
        width:        1920
        height:       1080
        b-frames:     0

[AVHWDeviceContext @ 0x55a5401f5840] Failed to initialise VAAPI connection: -1 (unknown libva error).
warning: [FFMPEG VAAPI encoder: &#39;recording_h264&#39;] Failed to create VAAPI device context: Ошибка ввода/вывода
info: adding 23 milliseconds of audio buffering, total audio buffering is now 46 milliseconds
QXcbConnection: XCB error: 3 (BadWindow), sequence: 4635, resource id: 98898624, major code: 40 (TranslateCoords), minor code: 0
info: ==== Shutting down ==================================================
info: Switched to scene &#39;(null)&#39;
info: pulse-input: Stopped recording from &#39;alsa_output.pci-0000_00_14.2.analog-stereo.monitor&#39;
info: pulse-input: Got 1367 packets with 302338 frames
info: pulse-input: Stopped recording from &#39;alsa_input.usb-BEHRINGER_C-1U-00.analog-stereo&#39;
info: pulse-input: Got 686 packets with 303016 frames
info: All scene data cleared
info: ------------------------------------------------
info: Freeing OBS context data
info: [Scripting] Total detached callbacks: 0
info: == Profiler Results =============================
info: run_program_init: 834,419 ms
info:  ┣OBSApp::AppInit: 4,499 ms
info:  ┃ ┗OBSApp::InitLocale: 2,016 ms
info:  ┗OBSApp::OBSInit: 690,64 ms
info:    ┣obs_startup: 18,051 ms
info:    ┗OBSBasic::OBSInit: 408,977 ms
info:      ┣OBSBasic::InitBasicConfig: 0,126 ms
info:      ┣OBSBasic::ResetAudio: 0,265 ms
info:      ┣OBSBasic::ResetVideo: 107,64 ms
info:      ┣OBSBasic::InitOBSCallbacks: 0,008 ms
info:      ┣OBSBasic::InitHotkeys: 0,054 ms
info:      ┣obs_load_all_modules: 89,51 ms
info:      ┃ ┣obs_init_module(frontend-tools.so): 42,117 ms
info:      ┃ ┣obs_init_module(image-source.so): 0,004 ms
info:      ┃ ┣obs_init_module(linux-alsa.so): 0,003 ms
info:      ┃ ┣obs_init_module(linux-capture.so): 0,744 ms
info:      ┃ ┣obs_init_module(linux-decklink.so): 0,25 ms
info:      ┃ ┣obs_init_module(linux-jack.so): 0,003 ms
info:      ┃ ┣obs_init_module(linux-pulseaudio.so): 0,004 ms
info:      ┃ ┣obs_init_module(linux-v4l2.so): 0,001 ms
info:      ┃ ┣obs_init_module(obs-ffmpeg.so): 0,347 ms
info:      ┃ ┃ ┗nvenc_check: 0,319 ms
info:      ┃ ┣obs_init_module(obs-filters.so): 0,011 ms
info:      ┃ ┣obs_init_module(obs-libfdk.so): 0,001 ms
info:      ┃ ┣obs_init_module(obs-outputs.so): 0,002 ms
info:      ┃ ┣obs_init_module(obs-transitions.so): 0,008 ms
info:      ┃ ┣obs_init_module(obs-x264.so): 0,001 ms
info:      ┃ ┣obs_init_module(rtmp-services.so): 0,537 ms
info:      ┃ ┣obs_init_module(text-freetype2.so): 0,011 ms
info:      ┃ ┗obs_init_module(vlc-video.so): 3,361 ms
info:      ┣OBSBasic::ResetOutputs: 0,203 ms
info:      ┣OBSBasic::CreateHotkeys: 1,851 ms
info:      ┣OBSBasic::InitService: 0,091 ms
info:      ┣OBSBasic::InitPrimitives: 0,076 ms
info:      ┗OBSBasic::Load: 11,412 ms
info: obs_hotkey_thread(25 ms): min=0,071 ms, median=6,979 ms, max=29,66 ms, 99th percentile=24,643 ms, 99,1342% below 25 ms
info: audio_thread(Audio): min=0,034 ms, median=0,109 ms, max=0,402 ms, 99th percentile=0,284 ms
info: obs_graphics_thread(33,3333 ms): min=0,248 ms, median=21,478 ms, max=73,915 ms, 99th percentile=49,639 ms, 86,6029% below 33,333 ms
info:  ┣tick_sources: min=0,001 ms, median=18,538 ms, max=53,337 ms, 99th percentile=45,136 ms
info:  ┣output_frame: min=0,158 ms, median=0,274 ms, max=16,316 ms, 99th percentile=2,424 ms
info:  ┃ ┗gs_context(video-&gt;graphics): min=0,157 ms, median=0,274 ms, max=16,316 ms, 99th percentile=2,424 ms
info:  ┃   ┣render_video: min=0,039 ms, median=0,124 ms, max=0,582 ms, 99th percentile=0,275 ms
info:  ┃   ┃ ┗render_main_texture: min=0,033 ms, median=0,119 ms, max=0,576 ms, 99th percentile=0,268 ms
info:  ┃   ┗gs_flush: min=0,068 ms, median=0,12 ms, max=16,205 ms, 99th percentile=2,259 ms
info:  ┗render_displays: min=0,004 ms, median=2,334 ms, max=35,87 ms, 99th percentile=22,688 ms
info: =================================================
info: == Profiler Time Between Calls ==================
info: obs_hotkey_thread(25 ms): min=25,139 ms, median=32,153 ms, max=54,741 ms, 19,1304% within ±2% of 25 ms (0% lower, 80,8696% higher)
info: obs_graphics_thread(33,3333 ms): min=15,266 ms, median=33,334 ms, max=73,922 ms, 75,4808% within ±2% of 33,333 ms (12,0192% lower, 12,5% higher)
info: =================================================
info: Number of memory leaks: 0
[median@archlinux ~]$
</code></pre><br />Все перепробовал, все сайты англоязычные пересмотрел, не могу заставить работать обску.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205589"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/safocl/index.html">
                <span class="post-username">safocl</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205589/index.html">#</a>
            4 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/safocl/topics/index.html">
                    121
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/safocl/posts/index.html">
                    1570
                </a>
            </div>
            <div>
                Участник с: 08 октября 2015
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>median</em><br>error: os_dlopen(libnvidia-encode.so.1-&gt;libnvidia-encode.so.1): libnvidia-encode.so.1: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога</blockquote>думаю все дело в ентом, или я чот не правильно понял ТСа?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205596"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205596/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>median</em><br>error: os_dlopen(libnvidia-encode.so.1-&gt;libnvidia-encode.so.1): libnvidia-encode.so.1: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога</blockquote>Никогда не использовал obs и тонкости мне не известны, но настораживает эта запись в логе <strong>libnvidia-encode.so.1</strong><br />Насколько я понял это библиотека драйвера nvidia, а если в системе используется драйвер amd, то откуда берется тогда данная библиотека? - или она идет вместе с пакетом obs или с драйвером nvidia?  - вот это мне не известно. Попробуй сначала разберись с этим, также рекомендую погуглить по этой фразе<br /><pre><code>error: os_dlopen(libnvidia-encode.so.1-&gt;libnvidia-encode.so.1): libnvidia-encode.so.1</code></pre>Думаю такая проблема не у тебя одного.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205600"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/nafanja/index.html">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205600/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/nafanja/topics/index.html">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/nafanja/posts/index.html">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br>но настораживает эта запись в логе libnvidia-encode.so.1</blockquote>поставил <strong>obs-studio</strong> из офф. реп.<br />ошибка связанная с <strong>libnvidia-encode.so</strong> тоже присутствует.
            
                
                    <div class="post-signature">
                        <a href="../10992/index.html">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205601"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vs220/index.html">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205601/index.html">#</a>
            4 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vs220/topics/index.html">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vs220/posts/index.html">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>nafanja</em><br>ошибка связанная с libnvidia-encode.so тоже присутствует</blockquote>libnvidia-encode.so принадлежит nvidia-utils<br />у ТС Radeon (TM) RX 460 откуда она у него возьмется? Должно что то из месовского использоваться если открытые драйвера
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205602"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/median/index.html">
                <span class="post-username">median</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205602/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/3c/b4/3cb49885fb4eba3922be5aed905ce92d.png" alt="median avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/median/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/median/posts/index.html">
                    139
                </a>
            </div>
            <div>
                Участник с: 17 августа 2016
            </div>
            
        </td>
        <td class="post-content">
            так а что я сделаю, это всего лишь библиотеки, я заставляю использовать только нужные, прописывая переменные, <pre><code>[median@archlinux ~]$ cd /usr/lib/vdpau/
[median@archlinux vdpau]$ ls
libvdpau_nouveau.so        libvdpau_r600.so.1.0.0
libvdpau_nouveau.so.1      libvdpau_radeonsi.so
libvdpau_nouveau.so.1.0    libvdpau_radeonsi.so.1
libvdpau_nouveau.so.1.0.0  libvdpau_radeonsi.so.1.0
libvdpau_r300.so           libvdpau_radeonsi.so.1.0.0
libvdpau_r300.so.1         libvdpau_trace.so
libvdpau_r300.so.1.0       libvdpau_trace.so.1
libvdpau_r300.so.1.0.0     libvdpau_trace.so.1.0.0
libvdpau_r600.so           libvdpau_va_gl.so
libvdpau_r600.so.1         libvdpau_va_gl.so.1
libvdpau_r600.so.1.0
[median@archlinux vdpau]$
</code></pre><br />в списке имеется нужные мне это libvdpau_radeonsi.so, делая экспорт export VDPAU_DRIVER=radeonsi , но обска по прежнему ругается на библиотеки от нвидиа, да они ей вообще не уперлись, я их не ставил.<br />Вот выхлоп еще <pre><code>[median@archlinux ~]$ grep -i vdpau /var/log/Xorg.0.log
[     4.536] (II) AMDGPU(0): [DRI2]   VDPAU driver: radeonsi
[median@archlinux ~]$

</code></pre><br />P.S По крайне мере mpv  без вопросов работает с аппаратным ускорением, я проверял
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205603"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205603/index.html">#</a>
            4 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Имхо, не может же так быть, чтобы данный пакет работал только для nvidia - значит данная библиотека должна быть в самом пакете или должен быть какой то патч.<br />Видно, что  данная библиотека загружается во время выполнения/загрузки программы, используя функцию <strong>dlopen</strong> - уже подзабыл эту функцию, помню только, что это способ загрузки библиотек в обход ldd и такие библиотеки в выводе ldd не отображаются. И еще могут вызываться <u>не напрямую, а из других библиотек</u>.<br /><strong>UPD</strong> - интересно, есть ли эта библиотека в выводе (в кэше) <strong>ldconfig -p  | grep  libnvidia-encode</strong><br />Больше информации можно получить, используя <strong>strace</strong> - он покажет больше информации.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205604"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/nafanja/index.html">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205604/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/nafanja/topics/index.html">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/nafanja/posts/index.html">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vs220</em><br>у ТС Radeon (TM) RX 460 откуда она у него возьмется? Должно что то из месовского использоваться если открытые драйвера</blockquote>я констатировал факт!!! установил из офф реп., ошибка такая же. как по мне, это не ошибка, это предупреждение что кодирование с помощью nvidia не возможно.<br />у меня AMD если что...<br /><pre><code>admin@b ~ % obs
Attempted path: share/obs/obs-studio/locale/en-US.ini
Attempted path: /usr/share/obs/obs-studio/locale/en-US.ini
Attempted path: share/obs/obs-studio/locale.ini
Attempted path: /usr/share/obs/obs-studio/locale.ini
Attempted path: share/obs/obs-studio/locale/ru-RU.ini
Attempted path: /usr/share/obs/obs-studio/locale/ru-RU.ini
info: Using preferred locale &#39;ru-RU&#39;
Attempted path: share/obs/obs-studio/themes/Dark.qss
Attempted path: /usr/share/obs/obs-studio/themes/Dark.qss
Attempted path: share/obs/obs-studio/license/gplv2.txt
Attempted path: /usr/share/obs/obs-studio/license/gplv2.txt
info: CPU Name: AMD A10-7850K Radeon R7, 12 Compute Cores 4C+8G
info: CPU Speed: 3050.588MHz
info: Physical Cores: 2, Logical Cores: 4
info: Physical Memory: 6978MB Total, 735MB Free
info: Kernel Version: Linux 4.16.13-2-ARCH
info: Distribution: &quot;Arch Linux&quot; Unknown
info: Portable mode: false
QMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_clicked()
QMetaObject::connectSlotsByName: No matching signal for on_advAudioProps_destroyed()
QMetaObject::connectSlotsByName: No matching signal for on_program_customContextMenuRequested(QPoint)
info: OBS 21.1.1-2 (linux)
info: ---------------------------------
info: ---------------------------------
info: audio settings reset:
        samples per sec: 44100
        speakers:        2
info: ---------------------------------
info: Initializing OpenGL...
info: Loading up OpenGL on adapter X.Org AMD KAVERI (DRM 3.23.0, 4.16.13-2-ARCH, LLVM 6.0.0)
info: OpenGL loaded successfully, version 4.5 (Core Profile) Mesa 18.1.1, shading language 4.50
info: ---------------------------------
info: video settings reset:
        base resolution:   1920x1080
        output resolution: 1280x720
        downscale filter:  Bicubic
        fps:               30/1
        format:            NV12
        YUV mode:          601/Partial
info: Audio monitoring device:
        name: По умолчанию
        id: default
info: ---------------------------------
error: os_dlopen(/usr//lib/obs-plugins/frontend-tools.so-&gt;/usr//lib/obs-plugins/frontend-tools.so): libluajit-5.1.so.2: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога

warning: Module &#39;/usr//lib/obs-plugins/frontend-tools.so&#39; not loaded
libDeckLinkAPI.so: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога
info: No blackmagic support
error: os_dlopen(libnvidia-encode.so.1-&gt;libnvidia-encode.so.1): libnvidia-encode.so.1: невозможно открыть разделяемый объектный файл: Нет такого файла или каталога

info: VLC found, VLC video source enabled
info: ---------------------------------
info:   Loaded Modules:
info:     vlc-video.so
info:     text-freetype2.so
info:     rtmp-services.so
info:     obs-x264.so
info:     obs-transitions.so
info:     obs-outputs.so
info:     obs-libfdk.so
info:     obs-filters.so
info:     obs-ffmpeg.so
info:     linux-v4l2.so
info:     linux-pulseaudio.so
info:     linux-jack.so
info:     linux-decklink.so
info:     linux-capture.so
info:     linux-alsa.so
info:     image-source.so
info: ---------------------------------
info: ==== Startup complete ===============================================
error: Service &#39;&#39; not found
info: All scene data cleared
info: ------------------------------------------------
info: pulse-input: Server name: &#39;pulseaudio 11.1&#39;
info: pulse-input: Audio format: float32le, 32000 Hz, 1 channels
info: pulse-input: Started recording from &#39;noechosink.monitor&#39;
info: pulse-input: Server name: &#39;pulseaudio 11.1&#39;
info: pulse-input: Audio format: float32le, 32000 Hz, 1 channels
info: pulse-input: Started recording from &#39;noechosource&#39;
info: Switched to scene &#39;Сцена&#39;
info: ------------------------------------------------
info: Loaded scenes:
info: - scene &#39;Сцена&#39;:
info: ------------------------------------------------
info: adding 46 milliseconds of audio buffering, total audio buffering is now 46 milliseconds
Attempted path: share/obs/obs-studio/locale.ini
Attempted path: /usr/share/obs/obs-studio/locale.ini
Attempted path: share/obs/obs-studio/themes/
Attempted path: /usr/share/obs/obs-studio/themes/
info: ==== Shutting down ==================================================
info: Switched to scene &#39;(null)&#39;
info: pulse-input: Stopped recording from &#39;noechosink.monitor&#39;
info: pulse-input: Got 0 packets with 0 frames
info: pulse-input: Stopped recording from &#39;noechosource&#39;
info: pulse-input: Got 2910 packets with 931200 frames
info: All scene data cleared
info: ------------------------------------------------
info: Freeing OBS context data
info: == Profiler Results =============================
info: run_program_init: 657,26 ms
info:  ┣OBSApp::AppInit: 14,547 ms
info:  ┃ ┗OBSApp::InitLocale: 3,683 ms
info:  ┗OBSApp::OBSInit: 532,754 ms
info:    ┣obs_startup: 1,543 ms
info:    ┗OBSBasic::OBSInit: 291,887 ms
info:      ┣OBSBasic::InitBasicConfig: 0,084 ms
info:      ┣OBSBasic::ResetAudio: 0,131 ms
info:      ┣OBSBasic::ResetVideo: 133,629 ms
info:      ┣OBSBasic::InitOBSCallbacks: 0,007 ms
info:      ┣OBSBasic::InitHotkeys: 0,055 ms
info:      ┣obs_load_all_modules: 65,708 ms
info:      ┃ ┣obs_init_module(image-source.so): 0,003 ms
info:      ┃ ┣obs_init_module(linux-alsa.so): 0,006 ms
info:      ┃ ┣obs_init_module(linux-capture.so): 0,499 ms
info:      ┃ ┣obs_init_module(linux-decklink.so): 0,419 ms
info:      ┃ ┣obs_init_module(linux-jack.so): 0,006 ms
info:      ┃ ┣obs_init_module(linux-pulseaudio.so): 0,004 ms
info:      ┃ ┣obs_init_module(linux-v4l2.so): 0,001 ms
info:      ┃ ┣obs_init_module(obs-ffmpeg.so): 2,103 ms
info:      ┃ ┃ ┗nvenc_check: 2,093 ms
info:      ┃ ┣obs_init_module(obs-filters.so): 0,011 ms
info:      ┃ ┣obs_init_module(obs-libfdk.so): 0,001 ms
info:      ┃ ┣obs_init_module(obs-outputs.so): 0,005 ms
info:      ┃ ┣obs_init_module(obs-transitions.so): 0,022 ms
info:      ┃ ┣obs_init_module(obs-x264.so): 0,002 ms
info:      ┃ ┣obs_init_module(rtmp-services.so): 0,981 ms
info:      ┃ ┣obs_init_module(text-freetype2.so): 0,03 ms
info:      ┃ ┗obs_init_module(vlc-video.so): 5,317 ms
info:      ┣OBSBasic::ResetOutputs: 0,591 ms
info:      ┣OBSBasic::CreateHotkeys: 0,034 ms
info:      ┣OBSBasic::InitService: 1,278 ms
info:      ┣OBSBasic::InitPrimitives: 0,113 ms
info:      ┗OBSBasic::Load: 6,165 ms
info: obs_hotkey_thread(25 ms): min=0,058 ms, median=0,206 ms, max=4,232 ms, 99th percentile=0,747 ms, 100% below 25 ms
info: audio_thread(Audio): min=0 ms, median=0,09 ms, max=0,372 ms, 99th percentile=0,177 ms
info: obs_graphics_thread(33,3333 ms): min=0,839 ms, median=2,246 ms, max=26,052 ms, 99th percentile=3,817 ms, 100% below 33,333 ms
info:  ┣tick_sources: min=0,001 ms, median=0,008 ms, max=0,053 ms, 99th percentile=0,028 ms
info:  ┣output_frame: min=0,829 ms, median=1,641 ms, max=26,033 ms, 99th percentile=3,14 ms
info:  ┃ ┣gs_context(video-&gt;graphics): min=0,747 ms, median=1,063 ms, max=26,033 ms, 99th percentile=2,159 ms
info:  ┃ ┃ ┣render_video: min=0,052 ms, median=0,91 ms, max=18,868 ms, 99th percentile=1,733 ms
info:  ┃ ┃ ┃ ┣render_main_texture: min=0,032 ms, median=0,05 ms, max=0,563 ms, 99th percentile=0,108 ms
info:  ┃ ┃ ┃ ┣render_output_texture: min=0,004 ms, median=0,097 ms, max=18,82 ms, 99th percentile=0,241 ms
info:  ┃ ┃ ┃ ┣render_convert_texture: min=0,002 ms, median=0,044 ms, max=0,526 ms, 99th percentile=0,092 ms
info:  ┃ ┃ ┃ ┗stage_output_texture: min=0 ms, median=0,701 ms, max=2,414 ms, 99th percentile=1,421 ms
info:  ┃ ┃ ┣download_frame: min=0 ms, median=0,008 ms, max=0,174 ms, 99th percentile=0,082 ms
info:  ┃ ┃ ┗gs_flush: min=0,041 ms, median=0,071 ms, max=8,287 ms, 99th percentile=0,308 ms
info:  ┃ ┗output_video_data: min=0,479 ms, median=0,559 ms, max=1,622 ms, 99th percentile=1,116 ms
info:  ┗render_displays: min=0,007 ms, median=0,588 ms, max=16,131 ms, 99th percentile=1,399 ms
info: video_thread(video): min=0 ms, median=0,001 ms, max=0,088 ms, 99th percentile=0,005 ms
info: =================================================
info: == Profiler Time Between Calls ==================
info: obs_hotkey_thread(25 ms): min=25,127 ms, median=25,346 ms, max=29,304 ms, 86,8217% within ±2% of 25 ms (0% lower, 13,1783% higher)
info: obs_graphics_thread(33,3333 ms): min=32,734 ms, median=33,333 ms, max=33,942 ms, 100% within ±2% of 33,333 ms (0% lower, 0% higher)
info: =================================================
info: Number of memory leaks: 0
obs  4,55s user 1,23s system 19% cpu 29,867 total</code></pre>
            
                
                    <div class="post-signature">
                        <a href="../10992/index.html">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205605"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vs220/index.html">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205605/index.html">#</a>
            4 года, 2 месяца назад
            
                (отредактировано
                
                    4 года, 2 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vs220/topics/index.html">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vs220/posts/index.html">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>nafanja</em><br>это предупреждение что кодирование с помощью nvidia не возможно</blockquote>Ну да проверило что нвидии нет перешло дальше<br /><blockquote><em>median</em><br>info: FFMPEG VAAPI supported</blockquote><br />Я бы попробовал для начала на чистом FFMPEG кодировать - проверить нет ли ошибок<br /><a href="https://trac.ffmpeg.org/wiki/Hardware/VAAPI">https://trac.ffmpeg.org/wiki/Hardware/VAAPI</a><br />А вообще Median для чего предполагается использовать OBS ?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-205608"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Aivar/index.html">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/205608/index.html">#</a>
            4 года, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Aivar/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Aivar/posts/index.html">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>median</em><br>По крайне мере mpv без вопросов работает с аппаратным ускорением, я проверял</blockquote>Это как бы теплое с мягким... Одно дело аппаратное декодирование, а совсем другое - <strong>аппаратное кодирование</strong>. Тут карточка в первую очередь должна быть соответствующая.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="index2679.html?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index4658.html?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/index9b9d.html?next=/forum/topic/18562/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/18562/?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:14:30 GMT -->
</html>
