


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Пересборка [ремастер] Current Release 2012-07-15
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/11/">Установка</a> <span class="divider">/</span></li>
            
        
        
            <li>Пересборка [ремастер] Current Release 2012-07-15</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Пересборка [ремастер] Current Release 2012-07-15</h1>
        
            <div class="text-center">
    



</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12630"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12630/">#</a>
            10 лет, 1 месяц назад
            
                (отредактировано
                
                    10 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            <strong>Призказка:</strong><br/>Вообщем, волнения по причине нового образа арчлинукса сподвигли автора на этот эксперимент.<br/>Данная статья (скорее howto) не претендует на полноту изысканий, поскольку автор в момент эксперимента пытался додумать сам логику инсталлятора, основываясь на логике и именах файлов. (Вскрывать и изучать initrd ну крайне не хотелось) Весь материал носит характер примера.<br/>Сказо о том, как я ночью делал &ldquo;ремастер&rdquo; релиза.<br/><strong>Подготовка:</strong><br/>Данный материал базируется на текущем релизе арчлинукса. А именно на 2012.07.15-netinstall-dual.<br/>Этот образ доступен по адресу <a href="https://www.archlinux.org/download">https://www.archlinux.org/download</a> <br/>Скачав образ , перенесите его в каталог ~/tmp. (если каталога нет - создайте его)<br/><br/><strong>Приступим, потихоньку.</strong><br/><br/>Монтируем образ.<br/><div class="code"><pre>$ sudo mount -o loop ~/tmp/archlinux-2012.07.15-netinstall-dual.iso /mnt/temp</pre></div>Создаем каталог для проекта.<br/><div class="code"><pre>$ mkdir -p ~/remasters/arch</pre></div>Копируем базовый образ в проект.<br/><div class="code"><pre>$ cp -R /mnt/temp/* ~/remasters/arch/</pre></div>Отмонтируем образ, т.к. он нам больше не нужен.<br/><div class="code"><pre>$ sudo umount /mnt/temp</pre></div>Создадим директорию для создания нового образа файловой системы. (автор взял корневую)<br/><div class="code"><pre>$ mkdir ~/remasters/newsfs</pre></div>Для сокращения команд оболочки перейдем в новосозданную директорию.<br/><div class="code"><pre>$ cd ~/remasters/newsfs</pre></div>Распакуем стандартный образ корневой фс. (для этого нужен пакет <em>squashfs-tools</em>)<br/>Примечание: Автор взял за пример архитектуру i686, в основном из-за удобства, т.к. система, на которой идет работа, имеет такуюже.<br/>Др. образы редактируются также.<br/><div class="code"><pre>$ unsquashfs ~/remasters/arch/arch/i686/root-image.fs.sfs</pre></div>Смонтируем в наше дерево фс для последующего изменения.<br/><div class="code"><pre>$ sudo mount -o loop squashfs-root/root-image.fs /mnt/temp</pre></div>Проверим, все ли впорядке. (в выхлопе команды должны быть стандартные для арча директории)<br/><div class="code"><pre>$ ls /mnt/temp/</pre></div>Скопируем нужные нам документы из базовой системы. У автора не нашлось подходящего howto для установки арча, для примера был взят документ ifconfig-route.txt.<br/>Все остальные нужные файлы также просто переносятся в проектную фс. Не мудрствуя лукаво и не изобретая велик, автор положил документ в диру /root.<br/>Примечание: Можно класть куда угодно, лишь бы Вы потом вспомнили , куда запихали. Единственно, куда автор не советует класть личные файлы - это в древа /usr/share и /usr/lib , поскольку есть предположения, что они служат точками монтирования для др. сквош-образов.<br/><div class="code"><pre>$ sudo cp /usr/share/doc/howto/ifconfig-route.txt /mnt/temp/root/</pre></div>Создадим директорию для личных пакетов.<br/><div class="code"><pre>$ sudo mkdir /mnt/temp/usr/local/share/localepkg</pre></div>Примечание: Вот тут начинается самое интересное. Вы можете делать с образом что угодно, Вы ограничены лишь своей фантазией и вместимостью носителя (cd/dvd). Если хотите превратить сетевой образ в стационарный с набором избранных пакетов, ради бога. Можете поправить конфиг пакмена на директорию внутри установочного диска и установить пакменом все, что есть в ней, в инсталлируемую систему. Можно и не заморачиваться и поставить локальные пакеты вручную. За подробностями обращайтесь к документации по pacman и/или man pacman. СтОит отметить, что если планируете запихать много, то можете не уместиться в текущий файл контейнер (если не склероз, у меня показало размер 630M и где-то на половину заполнено содержимым). <br/>Для того , чтобы поправить ситуацию, можно пройти процедуру:<br/>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-<br/>Утилитой dd, создаем файл нужного размера (800 мегабайт) с тем же именем (root-image.fs):<br/><div class="code"><pre>$ dd if=/dev/zero of=/tmp/root-image.fs bs=1M count=800</pre></div>Создаем в контейнере ФС с помощью mkfs.ext4:<br/>Примечание: можно и ext2 <br/><div class="code"><pre>$ mkfs.ext4 /tmp/root-image.fs</pre></div>Монтируем в систему старый и новый контейнеры:<br/>Примечание: Если говорить о строгой последовательности команд в этом хауту, то оригинальный контейнер уже примонтирован в /mnt/temp и первая команда сл. листинга - лишняя.<br/><div class="code"><pre>$ sudo mount -o loop ~/remasters/newsfs/squashfs-root/root-image.fs /mnt/temp
$ sudo mount -o loop /tmp/root-image.fs /mnt/temp2</pre></div>Копируем в новый контейнер все из старого:<br/><div class="code"><pre>$ cp -a /mnt/temp/* /mnt/temp2/</pre></div>Отмонтируем оба контейнера:<br/><div class="code"><pre>$ sudo umount /mnt/{temp,temp2}</pre></div>Заменим старый контейнер новым (копия оригинала у нас будет в виде сквош-образа: ~/tmp/root.img.orig , см. далее):<br/><div class="code"><pre>$ mv /tmp/root-image.fs ~/remasters/newsfs/squashfs-root/</pre></div>Монтируем новый контейнер в /mnt/temp, чтобы следовать по этому howto:<br/><div class="code"><pre>$ sudo mount -o loop ~/remasters/newsfs/squashfs-root/root-image.fs /mnt/temp</pre></div>&mdash;&mdash;&mdash;&mdash;&ndash;<br/>Вернемся к тому, где остановились.<br/>Примера ради, автор копирует пакет wicd и все его зависимости. (Надо отметить, что часть из них есть уже в образе, но автор не стал тратить время на отсев)<br/><div class="code"><pre>$ sudo pacman --cachedir=/mnt/temp/usr/local/share/localepkg/ -Sw python2  dbus-python  dhcpcd  wpa_supplicant  wireless_tools inetutils  net-tools  ethtool  shared-mime-info python2-urwid  pygobject  dbus-glib wicd</pre></div>Ну вот и все. Закончив вносить изменения, отмонтируем фс.<br/><div class="code"><pre>$ sudo umount /mnt/temp</pre></div>Перенесем оригинальный сквош-образ в любое место на всякий случай.<br/><div class="code"><pre>$ mv ~/remasters/arch/arch/i686/root-image.fs.sfs ~/tmp/root.img.orig</pre></div>Собираем наш измененный вариант.<br/><div class="code"><pre>$ mksquashfs squashfs-root root-image.fs.sfs</pre></div>Копируем новый образ в проект.<br/><div class="code"><pre>$ cp ~/remasters/newsfs/root-image.fs.sfs ~/remasters/arch/arch/i686/</pre></div>Проверяем его наличие.<br/><div class="code"><pre>$ ls ~/remasters/arch/arch/i686/</pre></div>Переходим в директорию arch, для удобства и сокращения длины команд.<br/><div class="code"><pre>$ cd ~/remasters/arch/arch/</pre></div>Переносим старую сигнатуру md5 куда-нито, на всякий случай, опять же перенося ее, а не удаляя.<br/><div class="code"><pre>$ mv checksum.i686.md5 ~/tmp/</pre></div>Генерируем новую сигнатуру.<br/><div class="code"><pre>$ md5sum aitab i686/root-image.fs.sfs i686/lib-modules.fs.sfs any/usr-share.fs.sfs &gt; checksum.i686.md5</pre></div>Для обхода возможных конфликтов и для удобства переходим в корневую директорию проекта.<br/><div class="code"><pre>$ cd ~/remasters</pre></div>Ну вот, самое легкое прошли. Теперь самое трудное (крутое). Да, верно! Нужно забомбить длинную genisoimage. xD<br/>Примечание: Этот инструмент часть пакета cdrkit.<br/><div class="code"><pre>$ genisoimage -l -r -J -V "ARCH_201207" -b isolinux/isolinux.bin -no-emul-boot -boot-load-size 4 -boot-info-table -c isolinux/boot.cat -o ~/arch-custom.iso arch</pre></div>Проверяем наличие только что сделанного образа.<br/><div class="code"><pre>$ ls -la ~/arch-custom.iso</pre></div>Все, далее обычным путем - на диск, ну или как-то иначе.<br/>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;<br/>Далее написано относительно консоли, уже загруженного нашего образа арча. Т.е. автор проверил свое поделие в virtualbox. Образ i686 успешно загрузился.<br/>Сл. контент не относится к теме материала и им можно пренебречь.<br/>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-<br/>Далее пишу по памяти, осторожно, могуть быть опечатки. Для проверки я лишь &ldquo;включил&rdquo; в арче русский язык и проверил свои личные файлы на предмет их наличия. (Заодно и глянув на новый релиз =] )<br/>Русифицируемся. Напишу тут, может поможет немного новичкам, которые где-то не доглядели.<br/>Итак, научимся сегодня входить и выходить из тьмы.<br/>Увидев содержимое файла, стрелками (для начала)  опускаемся до строки вида #ru_RU.UTF-8.<br/>Стрелками ставим курсор на первый знак в строке - #.<br/>Жмем клавишу Янь - она же клавиша &lsquo;x&rsquo;.<br/>После содеянного , первый символ должен удалиться.<br/>Чтобы выйти из вима и сохранить файл проделайте сл. комбинацию - Esc,:wq,Enter (где запятыми я просто отделил последовательности, запятые вводить не нужно)<br/>Чтобы выйти из вима , не сохраняя результаты вашего деяния - Esc,:q!,Enter<br/><div class="code"><pre># vi /etc/locale-gen</pre></div>Раскоментируем там &ldquo;ru_RU.UTF-8&rdquo;, сохраняем.<br/>Для предыдущей операции подойдет любой редактор, какой сможете найти. Автор адепт vim, поэтому штатного vi хватает, чтобы не искать альтернативы. Пользуйтесь любым, это просто пример.<br/>Далее собственно генерируем новое.<br/><div class="code"><pre># locale-gen</pre></div>Проверяем, сгенерировалась ли наша локаль. (Она должна появиться в списке)<br/><div class="code"><pre># locale -a</pre></div>Переходим.<br/><div class="code"><pre># LANG="ru_RU.UTF-8"
# LC_ALL="ru_RU.UTF-8"</pre></div>Проверяем, встала ли локаль ru_RU.UTF-8 .<br/><div class="code"><pre># locale</pre></div>Устанавливаем нужный шрифт.<br/><div class="code"><pre># setfont cyr-sun16</pre></div>Поидее русский должен работать. Проверим, открыв наш файл, заодно и убедимся что он присутвует.<br/><div class="code"><pre># less /root/ifconfig-route.txt</pre></div>Ну у меня все видно, можно колдовать дальше.<br/>Проверим наличие наших пакетов.<br/><div class="code"><pre># ls /usr/local/share/localepkg</pre></div>Все на месте, далее уже согласно общим и Вашим личным предписаниям.<br/><br/><strong>Заключение:</strong> Надеюсь хоть кому-то это пригодится. Удачи.<br/><br/><strong>Риквизиты:</strong><br/>Автор: sleepycat &lt; <a href="/cdn-cgi/l/email-protection#afc6dcc6dc81ceddccc7cadd9798efc8c2cec6c381ccc0c2"><span class="__cf_email__" data-cfemail="543d273d277a3526373c31266c63143339353d387a373b39">[email&#160;protected]</span></a> &gt;<br/>Соавторы и рецензоры: BeerMan &lt; <a href="/cdn-cgi/l/email-protection#d1b8a7bca1a3b691b6bcb0b8bdffb2bebc"><span class="__cf_email__" data-cfemail="127b647f62607552757f737b7e3c717d7f">[email&#160;protected]</span></a> &gt;<br/>Дата выкладки: 30.07.2012<br/>Последнее редактирование: 31.07.2012
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12631"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/bsm/">
                <span class="post-username">bsm</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12631/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/bsm/topics/">
                    47
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/bsm/posts/">
                    184
                </a>
            </div>
            <div>
                Участник с: 18 января 2012
            </div>
            
        </td>
        <td class="post-content">
            Спасибо. Попробую.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12632"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/beerman/">
                <span class="post-username">beerman</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12632/">#</a>
            10 лет, 1 месяц назад
            
                (отредактировано
                
                    10 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/beerman/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/beerman/posts/">
                    21
                </a>
            </div>
            <div>
                Участник с: 18 января 2010
            </div>
            
        </td>
        <td class="post-content">
            Вот спасибо за инструкцию!<br/>Если честно - первая, найденная мной, вменяемая инструкция по сборке образа на Линухе. :-) Да еще без всяких GUI'шек.<br/>Правда, такого &ldquo;высшего пилотажа&rdquo;, как пересборка сквош-образа, мне не требуется, но для, как грится, повышения квалификации - пригодится!<br/><br/>В общем, направление взял, буду пробовать! <img src="http://mysmiles.ru/drinks.gif"></img><br/><br/><span style="color:#008000">==================</span><br/><br/>Есть! Все получилось!<br/>ОГРОМНОЕ спасибо! Отлично все загрузилось с iso'шки, мои файлы доступны.<br/>Еще проверю на &ldquo;железе&rdquo;, но, думаю, тут уж ничего возникнуть не должно.<br/><br/><em>P.S. Правда второй загрузчик, таки, пропал (о котором я подозреваю, что он для EFI), ну, думаю он мне не пригодится. :-)</em><br/><br/>Чтобы было понятней, о чем я говорю: вот как отображает информацию о boot-образах &ldquo;WinImage&rdquo;:<br/><a href="http://savepic.org/2416507.htm"><img src="http://savepic.org/2416507m.jpg"></img></a>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12633"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12633/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>BeerMan</em><br/>Вот спасибо за инструкцию!<br/>Если честно - первая, найденная мной, вменяемая инструкция по сборке образа на Линухе. :-) Да еще без всяких GUI'шек.<br/>Правда, такого &ldquo;высшего пилотажа&rdquo;, как пересборка сквош-образа, мне не требуется, но для, как грится, повышения квалификации - пригодится!<br/><br/>Еще раз спасибо, направление взял, буду пробовать! <img src="http://mysmiles.ru/drinks.gif"></img></blockquote>я бы хотел сделать получше, попроще, но единственно где я мог предположить проверку, а значит и ошибки, котрольной суммы, это образа сквош. От этого и отплясал.<br/>На самом деле никакой это не высший пилотаж, команды простые&#8230; Чтобы сделать попроще - нужно точно знать как происходит процесс. А для этого нужно время. Я особо не читал доки, да и где их искать, тут только спросить у того кто делал (ну или медитировать над инитом). Мне просто повезло, что я методом тыка смог &ldquo;подставить внутрь&rdquo; свое. Ну а как получилось, тем и поделился, все это на скорую руку. Например , если добавить пару др. пакетов, да взять какойнито скрипт автокоманд у ProFfeSsoRr'а, который бы поднимал систему сам , пускай всего по 1 шаблону, вот был бы пилотаж.
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12634"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vadik/">
                <span class="post-username">vadik</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12634/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vadik/topics/">
                    55
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vadik/posts/">
                    5395
                </a>
            </div>
            <div>
                Участник с: 17 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>sleepycat</em><br/><div class="code"><pre># vi /etc/locale-gen</pre></div></blockquote>Дальше новичка ждет увлекательнейшее путешествие в мир поисковиков с вопросом древним как мир: &ldquo;как выйти из vi?&rdquo;. )<br/><br/>П.С. Пожалуй тему пока прикреплю, надеюсь автор ее не забросит.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12635"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/beerman/">
                <span class="post-username">beerman</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12635/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/beerman/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/beerman/posts/">
                    21
                </a>
            </div>
            <div>
                Участник с: 18 января 2010
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>sleepycat</em><br/>На самом деле никакой это не высший пилотаж, команды простые&#8230;</blockquote>Не спорю. Когда знаешь куда смотреть. :-)<br/><blockquote><em>sleepycat</em><br/>Например , если добавить пару др. пакетов, да взять какойнито скрипт автокоманд у ProFfeSsoRr'а, который бы поднимал систему сам , пускай всего по 1 шаблону, вот был бы пилотаж.</blockquote>Да ну. Это уже перебор, наверное. Т.е. - вещь нужная, но меня и консоль устраивает.<br/>А если уж не заморачиваться, можно, &ldquo;тупо&rdquo;, за tar-ить установленную систему и закинуть на iso-образ.<br/>Делал неоднократно - работает на-ура. И переносится с компа на комп, с совершенно разным &ldquo;железом&rdquo; - без проблем. Максимум - initrd перегенерить нужно и загрузчик установить.<br/><blockquote><em>sleepycat</em><br/>я бы хотел сделать получше, попроще</blockquote>Нормально, все предельно понятно. Просто, как говорил кто-то из пиратов в &ldquo;Острове сокровищ&rdquo;: &ldquo;я просто взял не тот галс&rdquo;. :-)<br/>Главное, это именно то, что мне и было нужно. Думаю и другим пригодится. Мало ли, в какой-нить образ что-то свое добавить захочется. Думаю, довольно распространенная ситуация.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12636"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12636/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            по поводу &ldquo;двух&rdquo; загрузчиков. Я чтото такое подозревал, видя диру EFI, но поскольку она мне &ldquo;до фонаря&rdquo; и про вторую загрузку я узнал только когда Вы написали, становится очевидным, что я ее и не хотел и не мог видеть. Но однако, стоит это посмотреть. Вообще то, что показано на скриншоте, похоже на выкрутас программиста, который хочет себя поставить(возможно там два загрузчика чисто изза того, что один из этой пары чегото не умеет, и вместо того чтобы намутить один, они извернулись и положили два, вообщем очень лень разбираться с вещами , которые мне кажутся не очень одекватными&#8230;), если руки дойдут, я постараюсь вернуть положенную систему, просто видно я не тот загрузчик воткнул, не первостепенный, вообщем не ясно мне пока, что я прицепил. С первого взгляда все хорошо)))), поэтому я ничего не заподозрил.
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12637"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/beerman/">
                <span class="post-username">beerman</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12637/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/beerman/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/beerman/posts/">
                    21
                </a>
            </div>
            <div>
                Участник с: 18 января 2010
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>sleepycat</em><br/>по поводу &ldquo;двух&rdquo; загрузчиков. &#8230;</blockquote>Да-да-да! У меня всё аналогично сказанному. :-)<br/>Я, конечно, еще проверю на IBM-ком &ldquo;лезвии&rdquo; (на bare metal), как оно грузится. Но обычно BIOS'овского загрузчика хватало.<br/>Как я писал ранее (в другой ветке), на предыдущих образах был только BIOS загрузчик. И что образ 2010-05 грузился на &ldquo;лезвиях&rdquo;, а 2011-08-19 уже &ldquo;выделывался&rdquo;. В общем, ~ через неделю, выйду на работу, освобожу &ldquo;лезвие&rdquo;, попробую и отпишусь. Надеюсь, все будет нормально. :-)<br/><blockquote><em>sleepycat</em><br/>я не тот загрузчик воткнул, не первостепенный</blockquote>Почему не тот? Именно первостепенный, т.к. BIOS, все же, постарше будет. ;-)<br/>Еще подумалось: скорее всего, образ только с BIOS-загрузчиком не пойдет на &ldquo;фильдиперсовых&rdquo; современных ноутах (например), где BIOS уже убрали, оставив только EFI. Говорят 7-ка на таких ноутах (от включения питания) грузится до 10 секунд&#8230; :-)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-12638"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/12638/">#</a>
            10 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            тут уже придется просить др. человека дополнить статью. Так как я пока не собираюсь покупать новые ноут или онли-ефи мат. плату. Просто пока ресурсов нет ;) .<br/>Да дело не в том кто мудрее и старше, я так понимаю в нормальном образе как то само грузится, происходит выбор? или какойто выбор(ручной) есть? Может он просто перескакивает на др. загрузчик и берет уже др. меню. Короче, щас бородатые дядьки под вечер придут, и ктонито раскусит этот орех. А  я внесу комментарии в топик. Просто до этого случая мои исошки както обходились одним загрузчиком, надо почитать. Да и я предпочел бы увидеть сам, но доберусь только вечером, если не отрублюсь.<br/>PS<br/>Говорят всякое, во вторых хомяк и вправду взлетает быстрее чем ультимейт. Да и никто не говорит , сколько грузится сама EFI. ;) Так что тут надо сесть с секундомером, и тогда узнаем хуизху.
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    



</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/1258/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747c7b6069719db6',m:'qFXOixzTxxTHPKA2Dt1MJHGtaN5yR663FQOTVjMS7wY-1662690418-0-ARiW43jet6TQ0pYp3ul9WODoHg8k65QptECEIZpQpuWjO6Oi07dpUa01ALAZlmBoVG8mAKxg+YBN/v104XiGaJlx9+V1AugY1f4cvOACTExow7OZdWMBb1EtB6slxgJaK7oQIWUBkl5mr8+z92iI6Ic=',s:[0x585c1d0828,0xe9b893828d],u:'/cdn-cgi/challenge-platform/h/g'};var _cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/cb/invisible.js?cb=747c7b6069719db6',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
