


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/19246/?page=4 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:12:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Не видит видеокарту GeForce 1080TI
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/2/index.html">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/11/index.html">Установка</a> <span class="divider">/</span></li>
            
        
        
            <li>Не видит видеокарту GeForce 1080TI</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Не видит видеокарту GeForce 1080TI</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index9ba9.html?page=3" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="indexfdb0.html?page=4">4 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            

            
                <li class="next disabled">
                    <span>
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </span>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-221060"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/221060/index.html">#</a>
            2 года, 11 месяцев назад
            
                (отредактировано
                
                    2 года, 11 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Вообще то довольно странно и не понятно, но само по себе все это интересно и <strong>познавательно даже для ликбеза</strong>, но инфы слишком мало, одни предположения.<br /><u>Попробую ПРОСТО порасуждать</u> … при это безусловно возможны и ошибки и не точности, сильно не пинать, но критику принимаю.<br />1. На этапе POST идет поиск и инициализация видеадаптера, а также устройств, имеющих собственную BIOS -  грубо говоря 1-ый этап инициализации оборудования. Все найденное оборудование будет показано в BIOS … и вот интересно было бы узнать, если nvidia не видна была в Linux, то что было в windows? - нужно было сразу же перегрузиться в windows, а перед этим зайти в BIOS и проверить там.<br />Хорошо, допустим, что BIOS карту видит.<br />2. Идем дальше … а дальше  находится и загружается образ ядра (рассматриваем Linux ... <u>но почти также и в windows</u>), ядро инициализирует устройства и их драйвера, выделяет определенную область памяти … и если после загрузки Linux карта не обнаруживается (не инициализируется), то интересно узнать, была ли ей выделена область в памяти (была ли она в выводе <strong># cat /proc/ iomem</strong>)  - что то не соображу как должно быть … а узнать было бы интересно.<br />Но, имхо, мало верится в то, что карта определяется BIOS и инициализируется в windows, НО не инициализируется в Linux. Причина этого мне не понятна - неужели так сильно отличается процедура инициализации карт при загрузке windows и linux???<br />3. Далее обновили BIOS (системный), карта стала видна в Linux … хотя при обновлении BIOS существенных изменений нет, меняются/добавляются некоторые параметры, микрокод и другое, имхо, слабо верится, что это могло серъезно повлиять на инициализацию карты … НО факт налицо.<br />А потому предположу, что повлиял не сам факт нововедений в BIOS, а факт «сброса <strike>настроек</strike> списка конфигурации», что, возможно, можно было бы и достичь и очисткой конфигурации <strong>ESCD</strong>.<br />Из документации - опишу подробнее<br /><pre><code>ESCD (Extended System Configuration Data) -  специальная таблица, предназначенная для распределения аппаратных ресурсов компьютера. Эта таблица заполняется в момент первого включения компьютера после изменения его конфигурации, инициализирует устройство и продолжает загрузку. Если же устройство впервые появилось в системе, BIOS запрашивает у ESCD свободные ресурсы. Получив их, она конфигурирует новое устройство. Если же с помощью свободных ресурсов нельзя сконфигурировать новое устройство, то BIOS продолжает загрузку компьютера, а конфигурированием занимается операционная система.
….. Расширенные данные конфигурации системы используется в Plug and Play BIOS, чтобы BIOS смогла повторно использовать данные конфигурации системы. Если данные можно сохранить и использовать повторно, BIOS может не конфигурировать одни и те же устройства при каждой загрузке.
Функция ESCD сохраняет конфигурацию IRQ, DMA, I/O и памяти для ваших устройств в особом разделе флэш-памяти BIOS. При запуске системы BIOS считывает необходимую информацию из данного раздела. Если вы не меняете устройства, BIOS не нужно перенастраивать ESCD.
Если вы установили новое устройство или изменили конфигурацию компьютера, BIOS автоматически определит изменения и настроит параметры ESCD. Поэтому обычно не приходится вручную обновлять ESCD через BIOS.
Встречаются ситуации, в которых BIOS не может определить изменения в конфигурации. В результате может возникнуть серьезный конфликт, который приведет к тому, что система перестанет загружаться. Функция Reset Configuration Data поможет справиться с этой проблемой.
Данная опция служит для того, чтобы вынудить BIOS удалить сохраненные данные ESCD и обновить настройки системы. Вам нужно лишь активировать эту функцию и перезагрузить компьютер. Новая конфигурация ESCD должна решить конфликт и загрузить систему в рабочем режиме.</code></pre>Здесь интересна одна фраза - Если же с помощью свободных ресурсов нельзя сконфигурировать новое устройство, то BIOS продолжает загрузку компьютера, а конфигурированием занимается операционная система.<br />Может причина в этом???<br /><br /><strong>EDIT 1</strong> - Кстати, если посмотреть вывод /proc/iomem, то там будет и <strong>BIOS</strong><br /><strong># grep ROM /proc/iomem</strong><br /><pre><code>000c0000-000cedff : Video ROM
000f0000-000fffff : System ROM</code></pre>И вот этот кусок <strong>000f0000-000fffff</strong>, равный <strong>64К</strong> (1048575-1 - 983040 = 65534/1024=64K), и есть BIOS, который парсит утилита <strong>dmidecode</strong><br /><br /><strong>PS</strong> - иправил описку, как всегда, не то скопировал ... вообщем если быть точным, то SMBIOS начинается с адреса 000f2f40  (сигнатура 5f 53 4d 5f - _SM_)<br /><strong>sudo hexdump -C -s 0xF2F40 -n 32 /dev/mem</strong><br /><pre><code>000f2f40  5f 53 4d 5f f1 1f 02 06  8a 00 00 00 00 00 00 00  |_SM_............|
000f2f50  5f 44 4d 49 5f fa c3 04  00 d0 db bc 1a 00 26 00  |_DMI_.........&amp;.|</code></pre>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-221067"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/m9ffk4/index.html">
                <span class="post-username">m9ffk4</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/221067/index.html">#</a>
            2 года, 11 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/m9ffk4/topics/index.html">
                    3
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/m9ffk4/posts/index.html">
                    22
                </a>
            </div>
            <div>
                Участник с: 25 января 2018
            </div>
            
        </td>
        <td class="post-content">
            Небольшое НО<br />Я после загрузки и установки arch с флешки, поверх win, перестал видеть карту в bios тоже.<br />При включении ПК монитор делал вид, что карты нет или ПК выключен. Доставлял все через коннект к материнке и встроенной карте.<br />Знаю, что внешняя карта отрубается, если к ней не подсоединить монитор, но он изначально при включении ничего не показывал. Я не мог вылечить это без монитора.<br />Возможно это тоже важно ¯\_(ツ)_/¯<br /><br /><blockquote>ядро инициализирует устройства и их драйвера</blockquote><br />Вот как раз мне подсказали, что это происходит путем получения инфы из bios, а не самостоятельным процессом.<br />Нет в bios -&gt; нет в linux<br />Что послужило причиной исчезновения - загадка<br /><br />Но я не врач. Могу сообщить только симптомы и как лечил ¯\_(ツ)_/¯<br /><br /><blockquote>А потому предположу, что повлиял не сам факт нововедений в BIOS, а факт «сброса настроек списка конфигурации», что, возможно, можно было бы и достичь и очисткой конфигурации ESCD.</blockquote>тут согласен, но решил лучше обновить =)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-221068"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/221068/index.html">#</a>
            2 года, 11 месяцев назад
            
                (отредактировано
                
                    2 года, 11 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>m9ffk4</em><br>Вот как раз мне подсказали, что это происходит путем получения инфы из bios, а не самостоятельным процессом.</blockquote>BIOS уже в этот момент не работает, но нужная информация об устройствах находится (скопирована) в памяти, откуда эта информация и берется.<br /><br /><strong>EDIT 1</strong> - в части инициализации карты в Linux - если посмотреть последние логи успешной загрузки<br /><blockquote><em>m9ffk4</em><br>сен 26 20:41:11 m9ffk4 kernel: pci 0000:01:00.0: [10de:1b06] type 00 class 0x030000<br />сен 26 20:41:11 m9ffk4 kernel: pci 0000:01:00.0: reg 0x10: [mem 0xde000000-0xdeffffff]<br />сен 26 20:41:11 m9ffk4 kernel: pci 0000:01:00.0: reg 0x14: [mem 0xc0000000-0xcfffffff 64bit pref]<br />сен 26 20:41:11 m9ffk4 kernel: pci 0000:01:00.0: reg 0x1c: [mem 0xd0000000-0xd1ffffff 64bit pref]</blockquote>то момент обнаружения карты это строка<br /><pre><code>pci 0000:01:00.0: [10de:1b06] type 00 class 0x030000</code></pre>а дальше идет описание инициализации   BAR регистров устройства … эти же номера ( 0xde000000-0xdeffffff и другие) будут и в выводе cat /proc/iomem
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index9ba9.html?page=3" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index4658.html?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="indexfdb0.html?page=4">4 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            

            
                <li class="next disabled">
                    <span>
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </span>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/indexf2bf.html?next=/forum/topic/19246/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/19246/?page=4 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:12:42 GMT -->
</html>
