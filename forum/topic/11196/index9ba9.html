


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [РЕШЕНО]4G модем в ArchLinux
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/13/">Сети, Серверы, Защита</a> <span class="divider">/</span></li>
            
        
        
            <li>[РЕШЕНО]4G модем в ArchLinux</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[РЕШЕНО]4G модем в ArchLinux</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=2" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=3">3 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=4" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-110885"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/palpalych/">
                <span class="post-username">palpalych</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/110885/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/d0/47d0dfe31100e02907f5e9bb71c76f86.png" alt="palpalych avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/palpalych/topics/">
                    89
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/palpalych/posts/">
                    1126
                </a>
            </div>
            <div>
                Участник с: 09 августа 2011
            </div>
            
        </td>
        <td class="post-content">
            Работает без нареканий<br/><br/>sudo pacman -S usb_modeswitch<br/><br/>sudo gedit /etc/ppp/options-mobile<br/><div class="code"><pre>/dev/ttyUSB0
921600
defaultroute
usepeerdns
crtscts
lock
noauth
local
persist
modem
nopcomp
novjccomp
nobsdcomp
nodeflate
noaccomp
ipcp-accept-local
ipcp-accept-remote
noipdefault</pre></div>sudo mkdir /etc/ppp/chatscripts<br/><br/>sudo gedit /etc/ppp/chatscripts/megafon.chat<br/><div class="code"><pre>ABORT 'BUSY'
ABORT 'NO CARRIER'
ABORT 'VOICE'
ABORT 'NO DIALTONE'
ABORT 'NO DIAL TONE'
ABORT 'NO ANSWER'
ABORT 'DELAYED'
REPORT CONNECT
TIMEOUT 6
'' 'ATQ0'
'OK-AT-OK' 'ATZ'
TIMEOUT 3
'OK-AT-OK' 'ATI'
'OK' 'ATZ'
'OK' 'ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0'
'OK' 'AT\^SYSCFG=2,2,3fffffff,0,1'
'OK-AT-OK' 'AT+CGDCONT=1,"IP","Internet"'
'OK' 'ATDT*99#'
TIMEOUT 30
CONNECT</pre></div>sudo gedit /etc/ppp/peers/provider<br/><div class="code"><pre>file /etc/ppp/options-mobile
connect "/usr/sbin/chat -v -t15 -f /etc/ppp/chatscripts/megafon.chat"</pre></div>sudo systemctl enable <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2959595969595b465f404d4c5b075a4c5b5f404a4c">[email&#160;protected]</a><br/><br/>Иногда не заводится во время загрузки (особенно когда предыдущее подключение было через другой интернет канал), поэтому стартуем самостоятельно<br/>sudo systemctl start <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c3c3c3c0c3c3e233a2528293e623f293e3a252f29">[email&#160;protected]</a>
            
                
                    <div class="post-signature">
                        Арчи ~]$ ...as always want ready-made solutions that would make even tastier
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111109"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111109/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br/>Опишу виндовску putty (под Linux у тебя могут быть нюансы)<br/>Втыкаем модем<br/>$ lsusb (запиши данные модема) — в принципе это можно пропустить<br/>запускаешь  putty (пишу для линуксовой, могу напутать, будь внимательнее- виндовой не имею)<br/>1. Переходим в «Category» - (1-ая строка сверху) выбирпаем «Session» - переходим направо, выбираем в «Conntction type"  - "Serial" — правим «Serial line» - не помню точно, но там нужно вставить порт — COM..... (номер порта думаю определишь?)<br/>2. Переходим в «Category» (слева в самом низу)  выбираем  «Serial» —отмечаем (справа) «Parity» и  «Flow Control»  как «None»<br/>3. Переходим там же в «Category» (2-ая строчка сверху) «Terminal» - отмечаем (справа) в «Local echo» «Force on»<br/>Все — нажимаем «Open»<br/>Раньше в виндовой были неудобства — все в движении — поэтому пока тренируйся на следующих командах (для удоства нажми капслок - все заглавными)<br/>AT (у тебя это будет выглядеть примерно так ААТТ, несмотри на другие знаки), в ответ должен получить ОК<br/>ATI — получишь инфу о своем модеме<br/>AT^SETPORT? - отображение текущей конфигурации портов<br/>AT^CHIPTEMP? - отображение температуры чипа модема (может и не работать)<br/>Как натренируешься — можешь начинать — вот твои команды (попробуй пока только 3G) - но лучше проверь команды по инету - ответственность большая<br/>Выход - Alt+F4<br/><strike>AT^SETPORT=A1,A2;1,2,3 - включен режим "только модем" 3G<br/>AT^SETPORT=A1,A2;10,12,13 - включен режим "только модем" 4G</strike><br/>$ lsusb — сравни с тем, что было до этого + проверка на сериал порт.<br/><br/>PS..............еще раз предупреждаю - будь внимателен.................  Кто не спрятался - я не виноват...............<br/>PSS...........нашел твой <a href="http://www.hub.ru/wiki/Huawei_E3276">модем</a>, проверь команды и погугли еще - пока не проверишь, не делай.<br/>                   те что привел и перечеркнул  имеют другой смысл - правильные команды смотри в статье. <strong>Подсказка AT^SETPORT=? - возможные конфигурации</strong></blockquote><br/>"Unable to open Serial port".<br/>И на линуксе такая же ошибка. Все делал как ты говорил, в принципе ни чем не отличается от того, что я делал до этого. COM-порты вписывал правильные.
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111110"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111110/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>palpalych</em><br/>Работает без нареканий<br/></blockquote>Все точно также проделал, не работает. Это наверное не конкретно для моей модели настройки, я так понял.<br/><br/>Может быть имеет значение, вот вывод команды, что вначале просили:<br/><div class="code"><pre>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bad3d7cac8d5d5ccd3c0dbced5c8fafbc8d9d2">[email&#160;protected]</a> ~]$ ls /dev/ttyU*
/dev/ttyUSB0  /dev/ttyUSB_utps_pcui</pre></div>
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111121"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111121/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <u>"Unable to open Serial port".<br/>И на линуксе такая же ошибка. Все делал как ты говорил, в принципе ни чем не отличается от того, что я делал до этого. COM-порты вписывал правильные. </u><br/><br/>Что писал в Serial line в putty Linux
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111125"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111125/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Для putty под Linux попробуй так -<br/>- комп выключен<br/>- вставь модем<br/>- загрузись<br/>- из консоли sudo putty<br/>- в Serial line - /dev/ttyUSB0<br/>- Speed - 115200 (вместо 9600)<br/>- остальное - как писал раньше («Terminal» - в «Local echo» отметить «Force on»,  «Serial» - в «Parity» и «Flow Control» отметить «None»)
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111349"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111349/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            Перепробывал всевозможные варианты, запускал под рутом, но ничего не вышло:(<br/>Что это может быть?
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111358"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111358/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>improovizator</em><br/>Перепробывал всевозможные варианты, запускал под рутом, но ничего не вышло:(<br/>Что это может быть?</blockquote><br/>Ну что тебе ответить на твой вопрос........................<br/>Было предложено несколько способов и не один не сработал.<br/>Остается только одно — проверь все приведенные способы на 3G модеме (лучше той же модели Huawei).<br/>Если не получится настроить ни одним из указанных способов и этот модем, то тогда ответишь сам............
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111459"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111459/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            Да по сути модем в нескольких режимах умеет работать, 4G модемы - это те же 3G модемы, только с дополнительной функцией, которая называется "поддержка 4G". Ладно, спасибо, попробую сам поковыряться, если что отдам техникам, можем они смогут в нужный режим перевести. В любом случае результат отпишу сюда. Спасибо!
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-111466"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/111466/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            Странно прошла установка официального приложения. Я систему переустановил из-за задницы с драйверами, и вот когда опять устанавливал Mobile Partner с модема, мимолетно увидел следующую надпись:<br/><div class="code"><pre>NDIS is disabled, and only Modem can be used.</pre></div>Вот код всего процесса установки, может быть это что-то да значит. Целая туча каких-то ошибок.<br/><div class="code"><pre> Please input the absolute path for install[/usr/local/MegaFon_Modem]:
Local path is: /usr/local/MegaFon_Modem
Installing MegaFon Modem...DRIVER COPY START
STA_PATH_FLAG=.
STA_PATH_FULL=/usr/local/MegaFon_Modem/driver/install
START_PATH_DRIVER=/usr/local/MegaFon_Modem/driver
CURRENT install from ./driver/install
INSTALL_PATH=/usr/local/MegaFon_Modem
DRIVER COPY END
have usb_modeswitch rules to HUAWEI DataCard: COUNT=1
RULESFILE =/lib/udev/rules.d/40-usb_modeswitch.rules
COUNT_START=1
COUNT_END=0
ls: невозможно получить доступ к /dev/ttyUSB?: Нет такого файла или каталога
ttyUSB%n not exist,ok
rmmod: ERROR: could not remove 'cdc_ether': No such file or directory
rmmod: ERROR: could not remove module cdc_ether: No such file or directory
rmmod: ERROR: could not remove 'usbnet': No such file or directory
rmmod: ERROR: could not remove module usbnet: No such file or directory
rmmod: ERROR: could not remove 'hw_cdc_driver': No such file or directory
rmmod: ERROR: could not remove module hw_cdc_driver: No such file or directory
make -C src/ clean
make[1]: Вход в каталог `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
rm -rf *.o *.ko *~ core* .dep* .*.d .*.cmd *.mod.c *.a *.s .*.flags .tmp_versions Module.symvers Modules.symvers *.order
/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/add_header.sh  "clean" "/lib/modules/3.9.4-1-ARCH/build/include/linux/usb"
rmmod -f hw_cdc_driver
rmmod: ERROR: could not remove 'hw_cdc_driver': No such file or directory
rmmod: ERROR: could not remove module hw_cdc_driver: No such file or directory
make[1]: *** [clean] Ошибка 1
make[1]: Выход из каталога `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
make: *** [clean] Ошибка 2
make -C src/ modules
make[1]: Вход в каталог `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
#/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/add_header.sh  "modules" "/lib/modules/3.9.4-1-ARCH/build/include/linux/usb"
make -C /lib/modules/3.9.4-1-ARCH/build SUBDIRS=/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src modules
make[2]: Вход в каталог `/usr/src/linux-3.9.4-1-ARCH'
  CC [M]  /usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/hw_cdc_driver.o
/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/hw_cdc_driver.c: В функции «hw_cdc_probe»:
/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/hw_cdc_driver.c:2718:9: ошибка: неявная декларация функции «dbg» [-Werror=implicit-function-declaration]
         dbg ("can't kmalloc dev");
         ^
cc1: some warnings being treated as errors
make[3]: *** [/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/hw_cdc_driver.o] Ошибка 1
make[2]: *** [_module_/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src] Ошибка 2
make[2]: Выход из каталога `/usr/src/linux-3.9.4-1-ARCH'
make[1]: *** [modules] Ошибка 2
make[1]: Выход из каталога `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
make: *** [modules] Ошибка 2
make -C src/ install
make[1]: Вход в каталог `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
#install -m 744 -c hw_cdc_driver.o /lib/modules/3.9.4-1-ARCH/kernel/drivers/usb/net
#depmod -a
#modprobe hw_cdc_driver
/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src/add_header.sh  "install"
modprobe hw_cdc_driver
modprobe: FATAL: Module hw_cdc_driver not found.
make[1]: *** [install] Ошибка 1
make[1]: Выход из каталога `/usr/local/MegaFon_Modem/driver/ndis_driver/ndis_src/src'
make: *** [install] Ошибка 2
Install NDIS driver failed.
The compiling environment is not all ready.
Please check gcc, make and kernel buid(/lib/modules/3.9.4-1-ARCH/build) to be all installed?
Now please enter any key to finish other installations.
NDIS is disabled, and only Modem can be used.
USBSERIAL_TARGET_PATH =
ACM_TARGET_PATH =
AUTORUNPATH=/home/improovizator/.config/autostart
qmi_wwan interface not exist,ok
usage: sudo [-D level] -h | -K | -k | -V
usage: sudo -v [-AknS] [-D level] [-g groupname|#gid] [-p prompt] [-u user
            name|#uid]
usage: sudo -l[l] [-AknS] [-D level] [-g groupname|#gid] [-p prompt] [-U user
            name] [-u user name|#uid] [-g groupname|#gid] [command]
usage: sudo [-AbEHknPS] [-C fd] [-D level] [-g groupname|#gid] [-p prompt] [-u
            user name|#uid] [-g groupname|#gid] [VAR=value] [-i|-s] [&lt;command&gt;]
usage: sudo -e [-AknS] [-C fd] [-D level] [-g groupname|#gid] [-p prompt] [-u
            user name|#uid] file ...
There is no sudo command in your system,you'd better run the software by root
Press any key to continue...
                                           [ done ]
Finished, press any key to exit</pre></div>
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112709"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/improovizator/">
                <span class="post-username">improovizator</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112709/">#</a>
            9 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/improovizator/topics/">
                    67
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/improovizator/posts/">
                    434
                </a>
            </div>
            <div>
                Участник с: 21 июля 2012
            </div>
            
        </td>
        <td class="post-content">
            Какие-никакие, но есть результаты. Смог таки приконнектиться к модему, в putty нужно было указать адрес устройства как ttyUSB_utps_pcui<br/>Как уже выше говорили, <a href="http://www.hub.ru/wiki/Huawei_E3276">здесь</a> есть все команды к моему устройству. Все команды работают, приведенная там информация полностью подходит под мой модем, в том числе Вендор и АйДи номера.<br/><br/>Информационные команды тоже все работают, но устройство, черт, не переводится в режим только модем, для этого я ввожу команду для 4G модема<br/><div class="code"><pre>^SETPORT:10</pre></div>Однако чувствую, что делаю наверное не совсем то, вот полный список команд, может кто подскажет какую из них правильней было бы вводить. Или еще что-то надо сделать после ввода команд, как вообще это делается.<br/><div class="code"><pre>^SETPORT:A: BLUE TOOTH
^SETPORT:A1: CDROM
^SETPORT:A2: SD
^SETPORT:1: 3G MODEM
^SETPORT:2: 3G PCUI
^SETPORT:3: 3G DIAG
^SETPORT:5: 3G GPS
^SETPORT:10: 4G MODEM
^SETPORT:12: 4G PCUI
^SETPORT:13: 4G DIAG
^SETPORT:14: 4G GPS
^SETPORT:16: NCM</pre></div>NCM (Network Card Mode) - режим по умолчанию.
            
                
                    <div class="post-signature">
                        Всё меняется.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=2" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=3">3 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=4" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/11196/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747a69b63a133a89',m:'n5rWtbMuKpSnF7M2IWbu3aHQmBwVKsdj1XLvOImYz9g-1662668721-0-AQoXnfKhgwi6UDtqhD0w2ADXrRPBOUFLdYB69MiGPbAIsrdbF3/i+2jjQmIitth+mnnydcQcFPbFTIaQ8j1pLloQR8Nbn12UYdscvYVAbYOqQNljqrzNrx/4KKOLGfjEIO+2ZkHT4UHrsl5/DZrD9W0=',s:[0xa8b17765cc,0x682a5da7db],u:'/cdn-cgi/challenge-platform/h/g'};var _cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/cb/invisible.js?cb=747a69b63a133a89',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
