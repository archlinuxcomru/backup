


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Прошу жизненного совета по RAID0. Стоит ли вообще связываться?
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/5/">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/4/">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>Прошу жизненного совета по RAID0. Стоит ли вообще связываться?</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Прошу жизненного совета по RAID0. Стоит ли вообще связываться?</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98141"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98141/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            нет не стоит связываться, имхо. Заморотов много , а толку не много, влажу в тему только начиная с 1 рейда и выше. Ну имхо.
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98244"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/alexdsp/">
                <span class="post-username">alexdsp</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98244/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/alexdsp/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/alexdsp/posts/">
                    307
                </a>
            </div>
            <div>
                Участник с: 07 февраля 2008
            </div>
            
        </td>
        <td class="post-content">
            В общем, запустил я софтовый RAID0 через mdadm. С dmraid и всякими биосовыми штучками связываться не стал. Компьютер грузится и работает, начальные настройки по вики сделал, но остальное требует всяческой доработки. Пишу с другого компьютера.<br/><br/>GRUB2 нормально грузит прямо с raid0 раздела! Никаких /boot разделов на raid1 делать не надо. Грузит прямо с корня.<br/>Главное, как написано тут - <a href="http://travishegner.com/2012/02/boot-arch-linux-from-an-mdadm-array/">http://travishegner.com/2012/02/boot-arch-linux-from-an-mdadm-array/</a><br/>надо перед первым разделом каждого из дисков рэйда зарезервировать хотя бы пару мегабайт пустого места. Туда вроде как grub будет что-то полезное для загрузки записывать. В остальном, делал всё по вики.<br/>На каждом диске сделал четыре первичных раздела с типом &ldquo;авто рэйд&rdquo; (создал на одном диске, потом при помощи dd скопировал MBR на второй диск, так как разделы должны быть идентичными).<br/>Сделал как-то так: сначала swap 4Г, потом 64Г под корень, 512Г /home, и примерно 1.5Г на всё остальное (архивы, локальный ftp и т.д.) Соответственно, при объединении в рейд, размеры разделов будут удваиваться.<br/>Померил скорость при помощи &ldquo;dd if=/dev/md0 of=/dev/null bs=1G count=1&rdquo; - получилось чуть более 320 Мб/сек.<br/>Но как-то оно страшненько чисто подсознательно&#8230;<br/>Надо читать systemd, очень всё неудобно стало. Где логи, почему квадраты в русской консоли? В общем, материться и ковырять до посинения.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98245"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/gluk/">
                <span class="post-username">gluk</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98245/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/gluk/topics/">
                    13
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/gluk/posts/">
                    110
                </a>
            </div>
            <div>
                Участник с: 27 февраля 2012
            </div>
            
        </td>
        <td class="post-content">
            SATA2 и 300+МБ/с это как? Все что свыше 300 - погрешность или результат работы кеширования. Ибо не 3ГБит, а 300 МБайт. Ну да неважно.<br/><br/>Когда закончите настройку системы - не забудьте отписаться есть ли существенный прирост скорости.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98250"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/alexdsp/">
                <span class="post-username">alexdsp</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98250/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/alexdsp/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/alexdsp/posts/">
                    307
                </a>
            </div>
            <div>
                Участник с: 07 февраля 2008
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>gluk</em><br/>SATA2 и 300+МБ/с это как? Все что свыше 300 - погрешность или результат работы кеширования. Ибо не 3ГБит, а 300 МБайт. Ну да неважно.<br/><br/>Когда закончите настройку системы - не забудьте отписаться есть ли существенный прирост скорости.</blockquote>3+3 Гбит/сек, или чуть меньше чем 300Мбайт/сек + 300Мбайт/сек = 600Мбайт/сек - суммарный предел пропускной способности двух каналов SATA2.<br/>Никаких парадоксов. Два жёстких диска на разных каналах. На каждом канале скорость линейного чтения примерно 165 Мбайт/сек.<br/>Естественно, всё измерялось на некешированном разделе прямо после загрузки системы.  md0 - раздел свопа, который находится в самом начале диска. Прирост скорости получается двукратный.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98256"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kurych/">
                <span class="post-username">kurych</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98256/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kurych/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kurych/posts/">
                    1394
                </a>
            </div>
            <div>
                Участник с: 06 ноября 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>alexdsp</em><br/>сначала swap 4Г, потом 64Г под корень, 512Г /home, и примерно 1.5Г на всё остальное (архивы, локальный ftp и т.д.) Соответственно, при объединении в рейд, размеры разделов будут удваиваться.</blockquote>Раз уж все равно бъете диски на разделы, то почему же не сделать рутовый раздел на RAID1? <u>Если один из дисков навернется</u>, то, хотя бы, останется рабочая система на одном из зеркал. А для root-раздела 64Гига на 100 лет хватит. Зачем еще удваивать?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98259"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/alexdsp/">
                <span class="post-username">alexdsp</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98259/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/alexdsp/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/alexdsp/posts/">
                    307
                </a>
            </div>
            <div>
                Участник с: 07 февраля 2008
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>kurych</em><br/><blockquote><em>alexdsp</em><br/>сначала swap 4Г, потом 64Г под корень, 512Г /home, и примерно 1.5Г на всё остальное (архивы, локальный ftp и т.д.) Соответственно, при объединении в рейд, размеры разделов будут удваиваться.</blockquote>Раз уж все равно бъете диски на разделы, то почему же не сделать рутовый раздел на RAID1? <u>Если один из дисков навернется</u>, то, хотя бы, останется рабочая система на одном из зеркал. А для root-раздела 64Гига на 100 лет хватит. Зачем еще удваивать?</blockquote>Дело в том, что ценность этого раздела очень невелика по сравнению с утраченными данными в /home и прочих архивных местах. Хотя, конечно, систему восстанавливать проще. Ну и фактор скорости&#8230; Для  корневого раздела, где лежат все программы, это актуально. Ради скорости всё это и затевалось (из того, что имелось в наличии).
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98263"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zubastiy/">
                <span class="post-username">zubastiy</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98263/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zubastiy/topics/">
                    136
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zubastiy/posts/">
                    548
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2009
            </div>
            
        </td>
        <td class="post-content">
            Хорошие диски, однако.<br/>У меня raid10 из 4 дисков дает 286 мбайт на чтение 1GB в /dev/null<br/>Винты хитачи, но по 500 гб. Один диск дает чтение на 143 мбайта. Все укладывается в складывание скоростей двух винтов.<br/><br/>Но чтение-чтению рознь.<br/>В целом, мало можно предложить ситуаций, когда реально нужно делать быстрое линейное чтение больших массивов данных, где raid0 явно проявит себя во всей красоте. Перепроверить torrent на 20 гигов - ускорится точно. Но таких ситуаций единицы.<br/>Гораздо более интересно - скорость старта хрома (ff, opera) с 20-25 вкладками )<br/>Вот такой тест - более интересен ибо дергается случайное чтение-запись малыми блоками (2-8 кб).<br/><br/>fake raid (встроенные в мать) - &ldquo;разгрузит&rdquo; cpu от операций, но от них лучше держаться подальше. Сколько не было таких инсталляций - дисковые тормоза постоянно преследовали.<br/>NCQ - при fake raid работать не будет, при mdadm - будет.<br/><br/>По сабжу, raid0 можно использовать для временных данных, актуальность которых утрачивается через 5 минут. Ну и скорость восстановления работы не критична. Или есть запасной диск ).<br/>Но конечно, каждый сам себе буратина, то есть кузнец своего щастья. Если бэкапы есть, то почему не попробовать. Обрате однако внимание на смертность винтов в первые 2-3 месяца работы. Тобиш если винт не вышел из строя после 3 месяцев, то маловероятно что подохнет в ближайшие 2-3 года (за исключением вариантов физического повреждения и плохого питания)<br/><br/>Если б я был султан и хотел бы безопасно эксперементировать, то сделал бы raid 1 для boot и raid0 для всего остального.<br/>raid 1 для boot с initramfs содержажим все нужные модули и утилиты для удачной загрузки операционки в случае потери одного диска.<br/>Слепки силами dd каждую неделю всего кроме /home, home - какую либо другую стратегию бэкапирования, rsnapshot каждый день к примеру.<br/>Помер винт, поменял на новый, загрузился с второго, восстановил из бэкапа образы системных разделов, перезагрузился, поставил восстанавливать /home. Смысл именно в быстром восстановлении после сбоя, не фиг время терять на создание системы опять с ноля.<br/>Как то так.<br/><br/>Из опыта в продакшене - кластер из 2 mssql серверах, raid0, 6 дисков сас, по 146 гигов. Мигрировали с raid5, прирост iops был фантастический, фактически уперлись в пропускную способность чипа на железном рейде.<br/>Перед миграцией рассуждали так - свалится один сервер с sql, так ведь резервный второй для того и нужен, чтобы факапы разгребать.<br/>Инсталяция 2 года скоро как в строю и тфу-тфу, живет без проблем.<br/><br/>Еще есть один olap (отчетности) сервер тоже 6 дисками в raid0 - но там тоже, инфа актуальна только на момент подготовки-рассылки отчета и пару часов после, это если кто то обнаружил страшное в отчете. А скорость восстановления сервиса обратно не критична, пару дней без отчетов - не эпик фейл.<br/><br/>Во всех примерах - железные контроллеры с батарейкой, но это не важно. Mdadm настолько сейчас крут, что многие железные рейды смотрят на него и завидуют. Учитывайте еще, что mdadm существует засчет cpu - для raid0 из двух дисков, не много, но скушает.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98276"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/alexdsp/">
                <span class="post-username">alexdsp</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98276/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/alexdsp/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/alexdsp/posts/">
                    307
                </a>
            </div>
            <div>
                Участник с: 07 февраля 2008
            </div>
            
        </td>
        <td class="post-content">
            Спасибо, очень интересный комментарий&#8230;<br/>Есть некоторая тревога конечно. Данные всё-таки планируется далеко не пятиминутные держать. С другой стороны, сколько ни было за всю жизнь у меня дисков - ни один из них не подох физически так чтоб вообще ничего вытащить нельзя было. Намного чаще встречались проблемы рассыпания самой файловой системы либо от потери питания, либо от софтовых зависаний. Один из дисков моего рэйда (Хитачи 7K3000 2Тб) проработал больше года без каких-то проблем (тьфу три раза), второй такой же проработал намного меньше, но&#8230; в общем, видно будет. UPS у меня стоит, правда, батарея уже не очень&#8230;<br/>Насчёт fakeraid в гугле пишут, что по сути оно тоже использует CPU в той же степени, что и mdadm. Просто при fakeraid в биосе на уровне прерывания 13 этот рэйд обрабатывается, что даёт возможность его видеть даже в DOS. А так, чисто софтовый вариант по сути. Плюс, как Вы правильно заметили, иногда не работает NCQ, что очень преочень важно. Разница на однодисковой конфигурации просто разительная. При включенном NCQ в загрузке grub вообще стоит указать elevator=noop, т.к. в самом HDD упорядочивание делается, да и центральный процессор ещё немного разгружается.<br/>Над бэкапами надо думать&#8230; Я не сисадмин и далёк от этих премудростей. Обычно просто копирую важные файлы, проекты всякие, фотки и прочее личное в укромное место (на внешний диск), а какой-то регулярной системы восстановления не использую. В принципе, ведь для восстановления системы нужны только список установленных пакетов, да и файлы настроек из /etc и домашнего каталога, и ещё по мелочи. Это не большой объём. Наверняка можно как-то автоматизировать такие бекапы. Вот утеря собственных наработок, что невосполнимы по сути, очень болезненна&#8230; Её надо исключить. Тут-то raid0  уверенности совсем не прибавляет&#8230;<br/>В общем, что-то наверное не то я сделал&#8230; Наверное, надо было просто ограничиться только страйпом на корень, а остальное либо зазеркалить, либо вообще вывести из рэйда. Или как советовали для скорости докупить небольшой SSD, который всяко будет быстрее того, что у меня сейчас.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98280"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sleepycat/">
                <span class="post-username">sleepycat</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98280/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f2/c0/f2c02cdf7ab1395c1ebcd403ff0c9d53.png" alt="sleepycat avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sleepycat/topics/">
                    98
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sleepycat/posts/">
                    3291
                </a>
            </div>
            <div>
                Участник с: 19 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            Будет будет , поверьте. Я когда тоже верил в то, что если за всю жизнь не видел - значит не будет. Все же рейд идет как средство бекапа, а именно то , что сказал коллега выше, именно скорость восстановления идет в зачет. Там, где надо подняться в течении часов - это путь (самурая) рейда. Все в этом топе сказано верно и подробно, могу лишь только яростно согласиться с тем, что софтвенный рейд дает намного больше мало того что спокойствия , но и производительности, причем это не так страшно отражается на проце(действительно дело тут именно в железе и скажем так высоте рейда) как обычно складывается впечатления.<br/>Поэтому я бы не останавливался на 0, а все же поднялся до 1.(избыточность это хорошо, но бекап лучше) У меня не было серьезного опыта с рейдами, но многие делились опытом и он в точности совпадает с озвученными выше постами. Системд не так сильно отражается не рейде, там нет ничего страшного, я помню еще старые коменты где-то в закромах &ldquo;индекса&rdquo;, когда страшно было рейдить и на sysv, но разобрались ;).<br/>ЗЫ: бортовой журнал:<br/> -  Дешевый самсунг, сата, до сих пор жив. Был на сервере(1с (не серверная конфигурация, просто светила БД по сети),), затем не десктопе и ныне у меня на домашнем сервачке доживает свое.<br/> -  Довольно дорогой 500Г Сигейт, отвалился через месяц работы (фтп сервер + небольшой интранет сайт в основном для хелп деска), предположительно &ldquo;залип&rdquo; (не вскрыл, в то время не было интересно, но точно здох, никакая магия и советы не помогли даже рандомно получить хоть что-то от него)<br/>Это не статистика, ни в коем случае не антиреклама, просто может быть все ;)
            
                
                    <div class="post-signature">
                        Лозунг у них был такой: &quot;Познание бесконечности требует бесконечного времени&quot;. С этим я не спорил, но они делали из этого неожиданный вывод: &quot;А потому работай не работай — все едино&quot;. И в интересах неувеличения энтропии Вселенной они не работали. (с)
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-98307"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zubastiy/">
                <span class="post-username">zubastiy</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/98307/">#</a>
            9 лет, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zubastiy/topics/">
                    136
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zubastiy/posts/">
                    548
                </a>
            </div>
            <div>
                Участник с: 18 сентября 2009
            </div>
            
        </td>
        <td class="post-content">
            пжлст.<br/>про смерти дисков - <a href="http://habrahabr.ru/post/13560/">http://habrahabr.ru/post/13560/</a><br/>смерть диска - в целом фигня, главное быть к этому готовым.<br/><br/>не все fakeraid одинаковы. некоторые даже операции XOR для raid5 умеют )<br/><br/>ssd, даже мелкий правильный выбор для установки системы - операции на чтение запись мелким блоком на ssd диске просто офигительно быстро работает по сравнению с hdd, главное правильный диск подобрать, не обращая особого внимания на скорость линейного чтения-записи. intel x25-m (либо аналогичный, но с гарантией на пару тройку лет от производителя) на 80-120 гб.<br/><br/>и raid1 - не бэкап, это всеголишь отказоустойчивость.<br/>осильте rsnapshot для бэкапов /home - очень просто и дешево по ресурсам, использует жесткие ссылки на уже имеющиеся данные, тобишь первый проход честное копирование, а все последующие только различающиеся файлы.<br/>файлопомойку одну на 400 гигов бэкаплю (на iSCSI диск, но это не суть, можно использовать и внешний USB накопитель) за 20-30 минут, при этом 7 полных копий занимают на 20 процентов больше чем вся файлопомойка
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/10658/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747b000d6b089d67',m:'MW9UjICjdM8ydoW7SLGrVNXYFpgUHuVTauUz9YAjrA0-1662674880-0-ATobW3bnS7W52qjPKwEC4f+2JNjFjC1+hxi6uyVqQ/Ypi4tWzxmhXNZLPwMNs6WeVVoFRdCJqTzAAPsEnjGYo3lNokIa4oNVyGjnXMARAffnxeDf5B667d/sup1wK9LH0Aq+cUID5jO2IcIa1HPPwJQ=',s:[0x4c671d7304,0xcfb607cde9],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
