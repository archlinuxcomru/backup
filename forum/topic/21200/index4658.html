


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/21200/?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:11:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Отображение температуры и загрузки процессора поверх всех окон [Решено]
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/5/index.html">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/4/index.html">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>Отображение температуры и загрузки процессора поверх всех окон [Решено]</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Отображение температуры и загрузки процессора поверх всех окон [Решено]</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index2679.html?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index4658.html?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexc575.html?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index9ba9.html?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-254994"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/254994/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>rutgerg</em><br>Как пример с conky</blockquote>В принципе годно, только к коням еще picom прилип :(<br /><br />Спасибо огромное ребят за помощ и отзывчивость!
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-254995"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/254995/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            <pre><code>
--[[
Conky, a system monitor, based on torsmo

Any original torsmo code is licensed under the BSD license

All code written since the fork of torsmo is licensed under the GPL

Please see COPYING for details

Copyright (c) 2004, Hannu Saransaari and Lauri Hakkarainen
Copyright (c) 2005-2019 Brenden Matthews, Philip Kovacs, et. al. (see AUTHORS)
All rights reserved.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.
]]
conky.config = {
    use_xft = true,
    xftfont = &#39;Terminus:size = 7&#39;,
    xftalpha = 0.1,
    total_run_times = 0,
    update_interval = 1,

    own_window = true,
    own_window_type = &#39;desktop&#39;,
    own_window_transparent = true,
    own_window_hints = &#39;above&#39;,&#39;sticky&#39;,&#39;skip_taskbar&#39;,&#39;skip_pager&#39;,
    own_window_colour = 000000,
    own_window_argb_visual = true,
    own_window_argb_value = 0,
    draw_shades =false,
    draw_outline = false,
    draw_borders = false,
    draw_graph_borders=false,
    default_color = &#39;white&#39;,
    default_shade_color = &#39;red&#39;,
    default_outline_color = &#39;green&#39;,
    alignment = &#39;top_right&#39;,
    no_buffers = true,
    uppercase = false,
    cpu_avg_samples = 1,
    net_avg_samples = 1,
    override_utf8_locale = true,
    use_spacer = true,
    background = true,
    temperature_unit = &#39;celsius&#39;,

    double_buffer = true,
    no_buffers = true,
    text_buffer_size = 2048,
    override_utf8_locale = true,
    use_xft = true,
    xftfont = &#39;Terminus:size = 7&#39;,
    xftalpha = 0.5,
    uppercase = false,

    gap_x = 20,
    gap_y = 50,
    minimum_size = 3400,
    maximum_width = 650,

    border_inner_margin = 0,
    border_outer_margin = 0,
    alignment = &#39;top_right&#39;,

    draw_shades = false,
    draw_outline = false,
    draw_borders = false,
    draw_graph_borders = false,

    default_color = &#39;FFFFFF&#39;,
    color1 = &#39;DDDDDD&#39;,
    color2 = &#39;FFFFFF&#39;,
    color3 = &#39;888888&#39;,
    color4 = &#39;EF5A29&#39;,
    color5 = &#39;77B753&#39;,
}

conky.text = [[
${#FFFF00}${cpu cpu0}%
${font Terminus:style=Medium:size=9}CPU Temp: ${alignr}${execi 300 sensors | grep Core\ 0 | cut -c17-18 ;}°С
]]
</code></pre><br />Почти решено, own_window_hints = &#39;above&#39; вот только при просмотре видео наполный экран оно перекрывается тоесть не отрисовывается, пропадает
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-254997"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/AZJIO/index.html">
                <span class="post-username">AZJIO</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/254997/index.html">#</a>
            6 месяцев, 3 недели назад
            
                (отредактировано
                
                    6 месяцев, 3 недели назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/AZJIO/topics/index.html">
                    29
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/AZJIO/posts/index.html">
                    447
                </a>
            </div>
            <div>
                Участник с: 05 января 2021
            </div>
            
        </td>
        <td class="post-content">
            В Cinnamon есть аплет &quot;Monitor ...&quot;, он включает индикаторы на панели задач справа. Отключаю сеть и диск, оставляю память и ядра процессора и уменьшаю в размерах, память 40 (цвет красный), ядра по 12 (в реальности полоски по 2-3 пиксела), время обновления увеличиваю до 1,5-2 сек. Всегда вижу сколько памяти занято и на сколько процессоры в покое или молотят. В XFCE тоже есть датчики, памяти и проца, только память тут полоской, а не сектором в круге. Тоже в трее, аккуратно. Конечно в полноэкранном режиме их не видно, но в большинстве этого и не надо.<br />Забыл название по скринам &quot;Multi-Core System Monitor&quot;, я сейчас не в Linux. <a href="https://radikal.ru/lfp/s011.radikal.ru/i318/1502/c8/e8ad6a3729cc.png/htm">Тут на скрине</a> есть
            
                
                    <div class="post-signature">
                        <a href="https://disk.yandex.ru/d/jSsOALln0y-Zag">мои программы</a>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255000"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255000/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>AZJIO</em><br>Multi-Core System Monitor</blockquote>Спасибо буду иметь в виду, если буду пользоваться этими DE<br /><br />Воспользовался решением предложеным rutgerg спасибо огромное!
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255003"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Aivar/index.html">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255003/index.html">#</a>
            6 месяцев, 3 недели назад
            
                (отредактировано
                
                    6 месяцев, 3 недели назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Aivar/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Aivar/posts/index.html">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            <pre><code>/tmp/i3status.conf
---
general {
output_format = &quot;none&quot;
interval = 1
}

order += &quot;cpu_usage&quot;
order += &quot;cpu_temperature cpu&quot;

cpu_usage {
format = &quot;%usage&quot;
}

cpu_temperature cpu {
path = &quot;/sys/devices/platform/coretemp.0/hwmon/hwmon1/temp2_input&quot;
format = &quot;%degrees°&quot;
}</code></pre><pre><code>$ i3status -c /tmp/i3status.conf | osd_cat -c grey -o 7 -d 0 -l 1 -s 1 -A right</code></pre><a href="https://postimages.org/"><img src="https://i.postimg.cc/52rNGX4Y/screenshot-12-02-2022-21-15-32.png"></a><br />Прозрачно, размещается в любом месте экрана, видео не перекрывает, шрифт должен менятся, но лень (растровые шрифты уже не актуальны).<br /><br />Подобную конструкцию можно сделать используюя dzen2, но что там с <em>поверх всех окон</em> и прозрачностью уже не помню.<br />---<br /><blockquote><em>BPOH</em><br>Бары это немного не то.</blockquote>Это не бар. i3status генерирует данные. Вместо него можно что угодно, хоть свой скрипт. osd_cat отображает строку (в данном случае в верхнем правом углу). Просто не хотелось постить полностью экран...
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255005"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255005/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Aivar</em><br>Это не бар. i3status генерирует данные.</blockquote>Ухты!!! пошел пробовать спасибо огромное, это прям то что нужно!
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255006"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255006/index.html">#</a>
            6 месяцев, 3 недели назад
            
                (отредактировано
                
                    6 месяцев, 3 недели назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            Работает, просто восхитительно! Aivar ты лучший :)<br />Без коньков без picom-oв  какая красота!<br /><blockquote><em>Aivar</em><br>Прозрачно, размещается в любом месте экрана, видео не перекрывает, шрифт должен менятся, но лень (растровые шрифты уже не актуальны).</blockquote>у меня отображается 01% | 35 C<br />Как сделать этот красивый кружочек градусов?<br /><br />пошел курить манулы про i3status чтоб добавить туда еще скорость входящего исходящего трафика
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255007"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Aivar/index.html">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255007/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Aivar/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Aivar/posts/index.html">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            Да ладно... :-/<br />Я, если нужно что-то мониторить, по хоткею поверх всех окон вызываю i3bar/swaybar, на котором есть вся нужная инфа.<br />С другой стороны, если в osd_cat оставить маленький шрифт, он может и мешать не будет. Ну там цвет, тень, расположение, смещение подобрать может...<br /><br /><blockquote><em>BPOH</em><br>Как сделать этот красивый кружочек градусов?</blockquote>Заменить С на °:<br /><blockquote><em>Aivar</em><br>format = &quot;%degrees°&quot;</blockquote><br /><blockquote><em>BPOH</em><br>пошел курить манулы про i3status чтоб добавить туда еще скорость входящего исходящего трафика</blockquote>Штатными средствами никак, только добавив внешний скрипт. Это не сложно, но нужно ли? У меня трафик по хоткею показывается 20 сек. Предусмотрено и постоянно, но на практике это лишнее...
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255008"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/BPOH/index.html">
                <span class="post-username">BPOH</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255008/index.html">#</a>
            6 месяцев, 3 недели назад
            
                (отредактировано
                
                    6 месяцев, 3 недели назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/47/3e/473e58e3e3cfaeea29059b5298897b28.png" alt="BPOH avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/BPOH/topics/index.html">
                    24
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/BPOH/posts/index.html">
                    251
                </a>
            </div>
            <div>
                Участник с: 29 сентября 2014
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Aivar</em><br>Штатными средствами никак, только добавив внешний скрипт. Это не сложно, но нужно ли? У меня трафик по хоткею показывается 20 сек. Предусмотрено и постоянно, но на практике это лишнее&#8230;</blockquote>Буду признателен если поделишься скриптом, на постоянной основе точно лишнее, а вот иногда по сети что-то сливаешь или забираешь через pcmanfm xD скорость не отображается, i3 тайлинги хоткеи и pcmanfm жуть) аж сам улыбнулся, но потихоньку пытаюсь себя заставлять учиться пользоваться mc и worker<br /><br />На оф сайте i3 вот такая штука<br />wireless wlan0 {<br />        format_up = &quot;W: (%quality at %essid, %bitrate) %ip&quot;<br />        format_down = &quot;W: down&quot;<br />}<br /><br />показывает и сеть и ip вот только эта штука не шевелится 0 kb/s<br /><br />Подскажи пожалуйста на всякий случай, как в 2 строки отображать информацию<br /><br />Так походу это не работает?)<br /><pre><code>
order += &quot;cpu_usage&quot;
order += &quot;cpu_temperature cpu&quot;
order += &quot;net_mon_u&quot;
order += &quot;net_mon_d&quot;

cpu_usage {
format = &quot;[CPU: %usage&quot;
}

cpu_temperature cpu {
format = &quot;%degrees°]&quot;
path = &quot;/sys/devices/platform/coretemp.0/hwmon/hwmon3/temp2_input&quot;
}

net_mon_u {
path = &quot;/sys/class/net/wlp0s21f0u7/statistics/tx_bytes&quot;
}

net_mon_d {
path = &quot;/sys/class/net/wlp0s21f0u7/statistics/rx_bytes&quot;
}
</code></pre><br />Разобрался как скрипты запускать<br /><pre><code>
./net.sh | osd_cat -c grey -o 43 -d 0 -l 1 -s 1 -A right
</code></pre><pre><code>
#!/bin/sh

# Authors:
# - Moritz Warning &lt;moritzwarning@web.de&gt; (2016)
# - Zhong Jianxin &lt;azuwis@gmail.com&gt; (2014)
#
# See file LICENSE at the project root directory for license information.
#
# i3status.conf should contain:
# general {
#   output_format = i3bar
# }
#
# i3 config looks like this:
# bar {
#   status_command exec /usr/share/doc/i3status/contrib/net-speed.sh
# }
#
# Single interface:
# ifaces=&quot;eth0&quot;
#
# Multiple interfaces:
# ifaces=&quot;eth0 wlan0&quot;
#

# Auto detect interfaces
ifaces=$(ls /sys/class/net | grep -E &#39;^(eno|enp|ens|enx|eth|wlan|wlp)&#39;)

last_time=0
last_rx=0
last_tx=0
rate=&quot;&quot;

readable() {
  local bytes=$1
  local kib=$(( bytes &gt;&gt; 10 ))
  if [ $kib -lt 0 ]; then
    echo &quot;? K&quot;
  elif [ $kib -gt 1024 ]; then
    local mib_int=$(( kib &gt;&gt; 10 ))
    local mib_dec=$(( kib % 1024 * 976 / 10000 ))
    if [ &quot;$mib_dec&quot; -lt 10 ]; then
      mib_dec=&quot;0${mib_dec}&quot;
    fi
    echo &quot;${mib_int}.${mib_dec} M&quot;
  else
    echo &quot;${kib} K&quot;
  fi
}

update_rate() {
  local time=$(date +%s)
  local rx=0 tx=0 tmp_rx tmp_tx

  for iface in $ifaces; do
    read tmp_rx &lt; &quot;/sys/class/net/${iface}/statistics/rx_bytes&quot;
    read tmp_tx &lt; &quot;/sys/class/net/${iface}/statistics/tx_bytes&quot;
    rx=$(( rx + tmp_rx ))
    tx=$(( tx + tmp_tx ))
  done

  local interval=$(( $time - $last_time ))
  if [ $interval -gt 0 ]; then
    rate=&quot;$(readable $(( (rx - last_rx) / interval ))) $(readable $(( (tx - last_tx) / interval )))&quot;
  else
    rate=&quot;&quot;
  fi

  last_time=$time
  last_rx=$rx
  last_tx=$tx
}

i3status | (update_rate &amp;&amp; while :
do
  read line
  update_rate
  echo [NET:  ${rate}] || exit 1
done)

</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-255023"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Aivar/index.html">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/255023/index.html">#</a>
            6 месяцев, 3 недели назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Aivar/topics/index.html">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Aivar/posts/index.html">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>BPOH</em><br>вот только эта штука не шевелится 0 kb/s</blockquote>В данном случае это бесполезная функция - показывает паспортную скорость интерфейса.<br /><br />Короче, варианты есть, но тут пара наводящих вопросов:<br />1) как этот &quot;мониторчик&quot; запускается и &quot;висит&quot; ли он постоянно?<br />2) как предусматривается включение информации о трафике (с перезапуском или без)?<br />3) какие еще будут хотелки? ) Раз уж идет расширение функционала с уклоном в сторону внешних скриптов, то закономерен вопрос о целесообразности i3status.<br />4) какой процессор? Если слабый, сам мониторинг на баше уже будет отъедать некоторое процессорное время.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index2679.html?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index4658.html?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexc575.html?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index9ba9.html?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/index844c.html?next=/forum/topic/21200/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/21200/?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:11:13 GMT -->
</html>
