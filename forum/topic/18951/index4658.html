


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Баг или фича?
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/5/">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/4/">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>Баг или фича?</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Баг или фича?</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212039"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212039/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>52th</em><br><blockquote>Для того чтобы контроллер ssd провел НАСТОЯЩУЮ проверку состояний надо принудительно провести полное чтение\запись всего диска от и до</blockquote>Возможно, спорить не буду.<br />Просто я Викой прогоняю тест поверхности HDD, на предмет битых блоков (бэды). Но в SSD  нет блоков, как и нет физического доступа к диску (он есть только у контроллера). Если есть возможность, скиньте ссылочку, где расписана данная методология проверки SSD. Я почитаю на досуге, самому интересно.</blockquote>Вика не так давно научилась с ssd работать. По методологии не скину прям статью с исследованиями но много где встречается такой подход, в том числе на личном опыте проверено не раз что это действенный способ. Ну чисто логически заставляя прогнать весь объем памяти это заставляет погонять физику ssd, гоняет кэш, гоняет банки памяти. Соответсвенно если вдруг гдето что то не так то контроллер ssd это ощущает и принимает решение сделать ему remap( хотя на практике не у всех ssd есть резервные банки памяти но часто можно встретить), следом вносит корректировки в смарты. Если же просто тыкаться в самоконтрольки смарта то они сейчас бестолковые и как правило выполняют только поверхностный осмотр путем дерганий инфы с банок по шине, типа есть она или нет, объем и т.д. А практически всегда ,если банку заглючило, то это проявляется только на непосредственном физическом воздействии на нее (чтение\запись). Как то так. Еще кстати многие производители особенно ноунеймы гришат тем что смарт у них выдает всегда только хорошее состояние в целях маркетинга и рекламы.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212041"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/red/">
                <span class="post-username">red</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212041/">#</a>
            3 года, 8 месяцев назад
            
                (отредактировано
                
                    3 года, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/fd/eb/fdeb672af87b7c02419e9c58404908a5.png" alt="red avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/red/topics/">
                    30
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/red/posts/">
                    1517
                </a>
            </div>
            <div>
                Участник с: 31 августа 2011
            </div>
            
        </td>
        <td class="post-content">
            <pre><code>
 -A, --acls                  preserve ACLs (implies --perms)
 -X, --xattrs                preserve extended attributes
</code></pre><blockquote><em>jamakasi</em><br>И собственно что там особенного опции aAXv и мои использованные avx?</blockquote><blockquote><em>jamakasi</em><br>хватает того все работает.</blockquote><strong>ping</strong> тоже нормально работает ? если да, то странно, так как он использует <strong>capability</strong> который <strong>rsync</strong> переносит только с ключом <strong>-X(&ndash;xattrs)</strong><br />хотя я конечно придираюсь и возможно ваша система вышла на новый уровень развития что позволяет ей легко обходить такие условности<br /><br />п.с<br />возможно стоит поменять название темы дабы описание было более полным, предлагаю - &quot;<em>Баг, фича или кривые руки ?</em>&quot;
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212042"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212042/">#</a>
            3 года, 8 месяцев назад
            
                (отредактировано
                
                    3 года, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>red</em><br>&quot;Баг, фича или кривые руки ?&quot;</blockquote>Нужно проводить анализ на низком уровне.<br /><br /><blockquote><em>jamakasi</em><br>Виктория была задействована чтобы убедиться в исправности ssd.</blockquote>Про Викторию уже пора забыть, да и толку от нее на современных дисках уже нет.<br />Все осилить не смог, не хватило сил. Но с таким не сталкивался. И если уж анализировать, то, по моему мнению, нужно использовать другие методы. Кроме того не нужно забывать, что хоть информация   и записывается в блоки (512 или  4096, смотря что забито), но эта информация записывается страницами объемом 4K (4096).<br />И я бы анализ делал так<br />- создаем файл - <strong>nano ~/test.txt</strong>, с одним словом  <strong>T E S T</strong> ( <strong>cat ~/test.txt …. T E S T</strong>)<br />- определяем, что данный файл имеет inode  657574 и занимает 4,0К (4096 байт), а точнее 8 блоков/секторов по 512 байт, а еще точнее begin_LBA=292503421, end_LBA= 292503428<br />- читаем эти 8 секторов диска<br /> <strong>sudo hexdump -C -n 4096 -s  149761751552 /dev/sda</strong><br /><pre><code>22de7efa00  54 20 45 20 53 20 54 0a  00 00 00 00 00 00 00 00  |T E S T.........|
22de7efa10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
22de7f0a00</code></pre>и видим, что в данных 4096 байтах <strong>занято всего 8 байт, остальные нули</strong>.<br />Дальше копируй этот файл куда угодно, возвращай обратно и проводи анализ по-новой - и, в принципе, должен получить точно такой же вывод - 8 байт и никакого мусора.<br />Это самый точный анализ. А вот если будет мусор, то тогда ОЙ ...<br /><br /><strong>UPD</strong> - и еще, если этот файл удалить (<strong>rm ~/test.txt</strong>), а затем посмотреть эти же 4096 байт, то увидишь тот же самый вывод (<strong>T E S T</strong>), а если посмотреть через какое то время, в течение которого выполнялась запись на диск, то увидишь опять то же самое и плюс к этому возможно  мусор (в зависимости как много писал и сколько времени прошло).
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212043"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/52th/">
                <span class="post-username">52th</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212043/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/52th/topics/">
                    11
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/52th/posts/">
                    462
                </a>
            </div>
            <div>
                Участник с: 01 октября 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>jamakasi</strong><br /><blockquote>Вика не так давно научилась с ssd работать.</blockquote>Хорошая новость. Надо будет потыкать.<br />Просто на работе на критичных участках метода простая - через &quot;родное&quot; приложение для контроля SSD сморится процент износа. Если более 5% - диск под замену. Потом он ставится либо на некритичные участки, либо на подмену.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212050"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212050/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Дальнейший эксперимент<br />- удаляем файл - <strong>rm ~/test.txt</strong><br />- копируем в эту директорию файл размером 1 G, плюс к этому создаем 2 небольших файла,  ~/test1.txt (T E S T 1) и ~/test2.txt (T E S T 2)<br />- снова смотрим<br /> <strong>sudo hexdump -C -n 4096 -s 149761751552 /dev/sda</strong><br /><pre><code>22de7efa00  54 20 45 20 53 20 54 0a  00 00 00 00 00 00 00 00  |T E S T.........|
22de7efa10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
22de7f0a00</code></pre>и как видим, хоть файл и удалили и позаписали новой инфы, но инфа удаленного файла все еще жива.<br />Это удаленный файл, а вот если его не удалить, а просто перенести на другой диск, а потом вернуть обратно, то содержимое тем более не изменится.<br />Может на SSD не много другая технология работы с блоками? ... но, думаю, вряд ли это должно сказаться на содержимое файла.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212063"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212063/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>red</em><br><pre><code>
 -A, --acls                  preserve ACLs (implies --perms)
 -X, --xattrs                preserve extended attributes
</code></pre><blockquote><em>jamakasi</em><br>И собственно что там особенного опции aAXv и мои использованные avx?</blockquote><blockquote><em>jamakasi</em><br>хватает того все работает.</blockquote><strong>ping</strong> тоже нормально работает ? если да, то странно, так как он использует <strong>capability</strong> который <strong>rsync</strong> переносит только с ключом <strong>-X(&ndash;xattrs)</strong><br />хотя я конечно придираюсь и возможно ваша система вышла на новый уровень развития что позволяет ей легко обходить такие условности<br /><br />п.с<br />возможно стоит поменять название темы дабы описание было более полным, предлагаю - &quot;<em>Баг, фича или кривые руки ?</em>&quot;</blockquote><br />Еще раз повторяю, эти ключи абсолютно никак не связаны с тем что сами файлы в конечном счете оказались битыми.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212064"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212064/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <strong>vasek</strong> ооо, это уже больше подходит под лабораторное повторение.<br /><pre><code>[n04-aleksandrov jamakasi]# echo &quot;TEST&quot; &gt;&gt; test.file
[n04-aleksandrov jamakasi]# cat test.file
TEST
[n04-aleksandrov jamakasi]# hdparm --fibmap /home/jamakasi/test.file

/home/jamakasi/test.file:
 filesystem blocksize 4096, begins at LBA 192714752; assuming 512 byte sectors.
 byte_offset  begin_LBA    end_LBA    sectors
           0  289820264  289820271          8
[n04-aleksandrov jamakasi]# cp test.file /mnt/tempmnt/
[n04-aleksandrov jamakasi]# sha256sum test.file
13b896d551a100401b0d3982e0729efc2e8d7aeb09a36c0a51e48ec2bd15ea8b  test.file
[n04-aleksandrov jamakasi]# sha256sum /mnt/tempmnt/test.file
13b896d551a100401b0d3982e0729efc2e8d7aeb09a36c0a51e48ec2bd15ea8b  /mnt/tempmnt/test.file
[n04-aleksandrov jamakasi]# rsync -avx test.file /mnt/tempmnt/test.file1
sending incremental file list
test.file

sent 100 bytes  received 35 bytes  270.00 bytes/sec
total size is 5  speedup is 0.04
[n04-aleksandrov jamakasi]# sha256sum test.file
13b896d551a100401b0d3982e0729efc2e8d7aeb09a36c0a51e48ec2bd15ea8b  test.file
[n04-aleksandrov jamakasi]# sha256sum /mnt/tempmnt/test.file1
13b896d551a100401b0d3982e0729efc2e8d7aeb09a36c0a51e48ec2bd15ea8b  /mnt/tempmnt/test.file1
[n04-aleksandrov jamakasi]# hdparm --fibmap /mnt/tempmnt/test.file

/mnt/tempmnt/test.file:
 filesystem blocksize 1024, begins at LBA 2048; assuming 512 byte sectors.
 byte_offset  begin_LBA    end_LBA    sectors
           0      18950      18951          2
[n04-aleksandrov jamakasi]# hdparm --fibmap /mnt/tempmnt/test.file1

/mnt/tempmnt/test.file1:
 filesystem blocksize 1024, begins at LBA 2048; assuming 512 byte sectors.
 byte_offset  begin_LBA    end_LBA    sectors
           0      18952      18953          2
[n04-aleksandrov jamakasi]# expr 18950 \* 512
9702400
[n04-aleksandrov jamakasi]# expr 18952 \* 512
9703424
[n04-aleksandrov jamakasi]# hexdump -C -n 1024 -s 9702400 /dev/sdb
00940c00  54 45 53 54 0a 00 00 00  00 00 00 00 00 00 00 00  |TEST............|
00940c10  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00941000
[n04-aleksandrov jamakasi]# hexdump -C -n 1024 -s 9703424 /dev/sdb
00941000  54 45 53 54 0a 00 00 00  00 00 00 00 00 00 00 00  |TEST............|
00941010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
00941400

</code></pre><br />Погоняю сегодня более основательно такое действо. Тут накосячил и размеры не 4096 а 1024 на пациенте =(
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212065"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212065/">#</a>
            3 года, 8 месяцев назад
            
                (отредактировано
                
                    3 года, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Конечно, я взял слишком развернуто (привязался к блокам, страницам), а вообще можно и проще, просто смотреть изменились ли байтики в файле - <strong>hexdump -C ~/test.txt</strong>, так как sha256sum и смотрит только эти конкретные байты, которые фактически занимают данные файла. Но если уж искать причину, то, думаю, нужно брать шире.<br />Хотя никогда раньше не интересовался, что конкретно смотрит sha256sum - только фактические байты файла (например, в моем случае 8 байт) или все блоки, занятые файлом (в данном случае 4096 байт). По идее должен смотреть только эти 8 байт, но лучше посмотреть на это шире, если уж взялся за анализ.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212076"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/red/">
                <span class="post-username">red</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212076/">#</a>
            3 года, 8 месяцев назад
            
                (отредактировано
                
                    3 года, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/fd/eb/fdeb672af87b7c02419e9c58404908a5.png" alt="red avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/red/topics/">
                    30
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/red/posts/">
                    1517
                </a>
            </div>
            <div>
                Участник с: 31 августа 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>jamakasi</em><br>Еще раз повторяю, эти ключи абсолютно никак не связаны с тем что сами файлы в конечном счете оказались битыми.</blockquote>про это речь и не шла в моих постах, я же спецом процентировал ваши конкретные фразы дабы акцентировать внимание и на данном аспекте(отсутствие расширенных атрибутов и прав) что также может сказаться на работоспособности скопированной системы
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212079"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212079/">#</a>
            3 года, 8 месяцев назад
            
                (отредактировано
                
                    3 года, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>red</em><br>(отсутствие расширенных атрибутов и прав) что также может сказаться на работоспособности скопированной системы</blockquote>С этим полностью согласен. Полная информация содержится в выводе информации inode конкретного файла - и нужно обязательно проверять.<br /><br /><strong>EDIT 1</strong> - имел ввиду, что у двух одинаковых файлов могут быть разные расширенные атрибуты
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/18951/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747a918c98ce00a1',m:'QS4f4QWP260rGLIWEwedc5wq6pjKHrFhmJ8rUCOaUUE-1662670358-0-AfRePpxKYnxjvOFRBr5m1qggOnlKNw22z9/MxVMO2jRZQZpb+Vr94cM+u13MDs5iGetrbTosKWJJ8o/OlJj803/8iwY+i8rW0yZey+4te+oW9uyYm+Alk4AKGS5cTgmXuvLoBL1wRTIDZg6+JsJGpUU=',s:[0x1882a47d33,0x8fcb4c23ec],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
