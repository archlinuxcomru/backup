


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Баг или фича?
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/5/">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/4/">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>Баг или фича?</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Баг или фича?</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212018"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212018/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            Арчевод рекомендовал тут помощи поискать поэтому вот.<br /><br />Короч немного предыстории. Вчера переносил систему на новый(старый ssd). Все перенес но внезапно некоторые(буквально десяток) утилит перестало пахать выкидывая странные ошибки. Решил сранить sha256 на новом и старом накопителях. Вылезло хоть и немного но буквально уже пара десятков файлов которые отличаются, файлы как собственно эльфы и либы так и банальные текстовые и картинки. При внимательном рассмотрении выяснилось что различие в файлах были абсолютно всегда блоками ровно по 512 байт, число таких блоков было разным но! всегда эти блоки попадали если в файле были нулевые данные.<br /><br />Долго думал, курил.<br />Так вот что произошло, пока предварительно т.к. на 100% повторить не придумал как.<br />Дано:<br />ssd с которым я проделал следующее в последовательности:<br />1) Полное форматирование. Т.е. физически все забил нулями<br />2) С помощью victoria сделал тесты чтения, проверки и ЗАПИСИ. Тут ключевой момент в записи т.к. виктория физически в каждый блок из 512 байт в начале вписывает следующее LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot; дальше нули до конца блока.<br />3) Создал разметку диска MBR<br />4) Создал раздел в ext4<br /><br />Теперь более привычные вещи:<br />1) С помощью rsync с ключами -avx скопировал файлы. В моем случае / раздел<br />2) Замечаю что некоторые програмки\библиотеки отвалились со странными багами<br />3) Сравниваю sha256 проблемных и некоторых НЕ проблемных файлов и вижу что они отличаются<br />4) Чешу затылок в шоке как так то б*еа?!?!<br />5) с помощью обычного cp копирую вместо битых файлов нормальные<br />6) Проверяю через sha256, все ок.<br />7) Задумчиво курю, пью пиво, думаю что делать. Не сплю пол ночи и рожаю схему которую сейчас пишу.<br /><br />А теперь теория почему это произошло, частично некоторые моменты я смог повторить:<br />1) 512 байт на блок это исторический момент и ОЧЕНЬ МНОГИЙ а точнее почти ВЕСЬ софт это учитывает в своей работе.<br />2) ФС естественно это тоже учитывают и могут делать свои оптимизации на этот счет при работе с файлами и каталогами<br />3) В битых файлах абсолютно всегда несовпадали именно блоки ровно по 512 байт.<br />4) В этих несовпадающих блоках я видел именно то что там оставила виктория а именно LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot;<br />5) Так сходится что данные файла а именно пустота\нули попадают четко в блоки по 512 байт<br />6) Какаято сволочь, по видимому чисто для оптимизации и ускорения при копировании если видит что следующий блок данных с нулями\пустой просто его не копирует а пропускает. Соответсвенно эта сволочь наивно полагает что физически на диске в этом месте тоже нули\пустота но это может быть не так.<br />7) На выходе в итоговый скопированный файл в местах в которых физически совпало что в блоке должны быть нули оказываются старые данные и естесвенно sha не совпадет.<br />8) Для большинства файлов такой замес каши внутри вместо пустот некритичен т.к. чаще всего структурно данные пронумерованы где и что в нем лежит и такие пустоты игнорируются. Но в некоторых случаях файл может проверяться алгоритмами что он должен быть такой и пустотой в таком месте. Так же некоторые форматы всегда хранят данные не структурировано а скажем читаются пока не встретятся нули. Бинарники могут себя проверять в т.ч. цифровые подписи и подобное и естесвенно ничего не совпадет. Жесть полная<br />9) Я в ахуе от произошедшего, теперь думаю как повторить это лабораторно и если это поведение повторяется всегда в т.ч. на другом железе\софте то это БАГ причем ахринеть какой критичный!!!<br /><br />Переписывать все грамотно очень лень и особо некогда пока что. Поэтому почти весь текст выше копипаста моих фраз из переписки. Доп данные могу приложить по версиям софта и т.д. Единственное что тупанул это не скопировал для дальнейшего исследования &quot;битые&quot; файлы и в данный момент вертал все взад а теперь этот ssd выступает лабораторной крысой надо которой думаю и пробую повторить последовательность.<br />Пинайте.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212021"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jim945/">
                <span class="post-username">jim945</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212021/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/f7/09/f709d8f74afad03709f159a1e12444ef.png" alt="jim945 avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jim945/topics/">
                    8
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jim945/posts/">
                    3066
                </a>
            </div>
            <div>
                Участник с: 25 января 2010
            </div>
            
        </td>
        <td class="post-content">
            С таким не сталкивался, но мне кажется подвох в этом.<br /><blockquote><em>jamakasi</em><br>Тут ключевой момент в записи т.к. виктория физически в каждый блок из 512 байт в начале вписывает следующее LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot; дальше нули до конца блока.</blockquote>Идея такая. Виктория передала контроллеру ssd информацию, что блоки пустые, при этом насрав в них.<br /><br />ФС какая кстати?
            
                
                    <div class="post-signature">
                        Lupus pilum mutat, non mentem.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212023"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212023/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>jim945</em><br>С таким не сталкивался, но мне кажется подвох в этом.<br /><blockquote><em>jamakasi</em><br>Тут ключевой момент в записи т.к. виктория физически в каждый блок из 512 байт в начале вписывает следующее LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot; дальше нули до конца блока.</blockquote>Идея такая. Виктория передала контроллеру ssd информацию, что блоки пустые, при этом насрав в них.<br /><br />ФС какая кстати?</blockquote>ФС в обоих случаях ext4.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212024"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/52th/">
                <span class="post-username">52th</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212024/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/52th/topics/">
                    11
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/52th/posts/">
                    462
                </a>
            </div>
            <div>
                Участник с: 01 октября 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>ssd с которым я проделал следующее в последовательности:<br />1) Полное форматирование. Т.е. физически все забил нулями<br />2) С помощью victoria сделал тесты чтения, проверки и ЗАПИСИ. Тут ключевой момент в записи т.к. виктория физически в каждый блок из 512 байт в начале вписывает следующее LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot; дальше нули до конца блока.</blockquote>Но зачем?!!<br />Достаточно было просто отформатировать, у SSD своя специфика, и даже после быстрого форматирования восстановить данные будет практически невозможно.<br />Для клонирования диска есть православная dd, где можно указать bs - размер блока, например:<br /><pre><code>dd if=/dev/sda bs=8M conv=sync,noerror | gzip -c &gt; /mnt/backup/sda.img</code></pre>Либо использовать спец. дистрибутивы, типа <a href="https://clonezilla.org/">https://clonezilla</a> (аналог Acronis для линуксов). Но там под капотом та же dd
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212025"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212025/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>52th</em><br><blockquote>ssd с которым я проделал следующее в последовательности:<br />1) Полное форматирование. Т.е. физически все забил нулями<br />2) С помощью victoria сделал тесты чтения, проверки и ЗАПИСИ. Тут ключевой момент в записи т.к. виктория физически в каждый блок из 512 байт в начале вписывает следующее LBA &quot;номер&quot; &quot;Дата&quot; &quot;время&quot; дальше нули до конца блока.</blockquote>Но зачем?!!<br />Достаточно было просто отформатировать, у SSD своя специфика, и даже после быстрого форматирования восстановить данные будет практически невозможно.<br />Для клонирования диска есть православная dd, где можно указать bs - размер блока, например:<br /><pre><code>dd if=/dev/sda bs=8M conv=sync,noerror | gzip -c &gt; /mnt/backup/sda.img</code></pre>Либо использовать спец. дистрибутивы, типа <a href="https://clonezilla.org/">https://clonezilla</a> (аналог Acronis для линуксов). Но там под капотом та же dd</blockquote>Виктория была задействована чтобы убедиться в исправности ssd. Если его понасиловать таким образом то гарантировано и адекватно обновится состояние смарта.<br />Клонировать через dd был не вариант т.к. количество и размеры разделов полностью разные.<br /><br />Всякие акронисы и клонзилы? Зачем такие сложности ? Кроме того зачастую неадекватные по работе чаще всего. Я быстрее размечу веник, копирну все через rsync, поправлю guid в /etc/fstab и grub.cfg, скажу grub-instal. Вот и все, все быстро и максимально под контролем.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212031"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/52th/">
                <span class="post-username">52th</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212031/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/52th/topics/">
                    11
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/52th/posts/">
                    462
                </a>
            </div>
            <div>
                Участник с: 01 октября 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>Виктория была задействована чтобы убедиться в исправности ssd.</blockquote>Чем smartctl  не угодил?<br /><pre><code>sudo smartctl -i -a /dev/sda</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212032"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/red/">
                <span class="post-username">red</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212032/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/fd/eb/fdeb672af87b7c02419e9c58404908a5.png" alt="red avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/red/topics/">
                    30
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/red/posts/">
                    1517
                </a>
            </div>
            <div>
                Участник с: 31 августа 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>jamakasi</em><br>С помощью rsync с ключами -avx скопировал файлы. В моем случае / раздел</blockquote>оставлю <strong><a href="https://wiki.archlinux.org/index.php/Rsync#Full_system_backup">это</a></strong> здесь
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212035"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212035/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>52th</em><br><blockquote>Виктория была задействована чтобы убедиться в исправности ssd.</blockquote>Чем smartctl  не угодил?<br /><pre><code>sudo smartctl -i -a /dev/sda</code></pre></blockquote>Еще раз сообщаю, современные ssd через чур хитрожопые и смарт ведут крайне лениво. Для того чтобы контроллер ssd провел НАСТОЯЩУЮ проверку состояний надо принудительно провести полное чтение\запись всего диска от и до. Классический прием &quot;попросить&quot; smartctl -i -a в большинстве не даст адекватную картинку того что на самом деле, даст только после физического прогона, вот уже потом smartctl -i -a можно хоть както верить.<br /><blockquote><em>red</em><br><blockquote><em>jamakasi</em><br>С помощью rsync с ключами -avx скопировал файлы. В моем случае / раздел</blockquote>оставлю <strong><a href="https://wiki.archlinux.org/index.php/Rsync#Full_system_backup">это</a></strong> здесь</blockquote>И собственно что там особенного опции aAXv и мои использованные avx? Я вот что то люто сомневаюсь что вы хоть раз использовали xattr, с acl атрибутами никогда не игрался т.к. хватает того все работает. Да и вообще наличие\отсутствие опции AX абсолютно никак не влияет на то что в конечном счетесами данные в файле отличались а атрибуты это немного отдельная тема как и ее хранение.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212036"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/jamakasi/">
                <span class="post-username">jamakasi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212036/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/jamakasi/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/jamakasi/posts/">
                    16
                </a>
            </div>
            <div>
                Участник с: 20 декабря 2018
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>jamakasi</em><br><blockquote><em>52th</em><br><blockquote>Виктория была задействована чтобы убедиться в исправности ssd.</blockquote>Чем smartctl  не угодил?<br /><pre><code>sudo smartctl -i -a /dev/sda</code></pre></blockquote>Еще раз сообщаю, современные ssd через чур хитрожопые и смарт ведут крайне лениво. Для того чтобы контроллер ssd провел НАСТОЯЩУЮ проверку состояний надо принудительно провести полное чтение\запись всего диска от и до. Классический прием &quot;попросить&quot; smartctl -i -a в большинстве не даст адекватную картинку того что на самом деле, даст только после физического прогона, вот уже потом smartctl -i -a можно хоть както верить.<br /><blockquote><em>red</em><br><blockquote><em>jamakasi</em><br>С помощью rsync с ключами -avx скопировал файлы. В моем случае / раздел</blockquote>оставлю <strong><a href="https://wiki.archlinux.org/index.php/Rsync#Full_system_backup">это</a></strong> здесь</blockquote>И собственно что там особенного опции aAXv и мои использованные avx? Я вот что то люто сомневаюсь что вы хоть раз использовали xattr, с acl атрибутами никогда не игрался т.к. хватает того все работает. Да и вообще наличие\отсутствие опции AX абсолютно никак не влияет на то что в конечном счете сами данные в файле отличались а атрибуты это немного отдельная тема как и ее хранение.</blockquote>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-212037"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/52th/">
                <span class="post-username">52th</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/212037/">#</a>
            3 года, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/52th/topics/">
                    11
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/52th/posts/">
                    462
                </a>
            </div>
            <div>
                Участник с: 01 октября 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>Для того чтобы контроллер ssd провел НАСТОЯЩУЮ проверку состояний надо принудительно провести полное чтение\запись всего диска от и до</blockquote>Возможно, спорить не буду.<br />Просто я Викой прогоняю тест поверхности HDD, на предмет битых блоков (бэды). Но в SSD  нет блоков, как и нет физического доступа к диску (он есть только у контроллера). Если есть возможность, скиньте ссылочку, где расписана данная методология проверки SSD. Я почитаю на досуге, самому интересно.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/18951/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747a918c8bbd7b67',m:'VYmJ3dnPWdSqqYOiAMVqhhuvZc3K_2I2dXAs3nuQbhE-1662670358-0-AZs0V0Hq67K3kDKokO2EeZM1JZrWpXhUTjjJ6duWaVX9aOC6fu3NseWUJh47/hYIlB6cVTWeRfdppQSsSaH/DXoZ25sZQFQn0TIz6BlrIBPrUSh8pH3LD3/GrMx75hAZtQqLzzP2Pr5on10PTiRtZFg=',s:[0x643daacc44,0xe556b8fe56],u:'/cdn-cgi/challenge-platform/h/g'};var _cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/cb/invisible.js?cb=747a918c8bbd7b67',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
