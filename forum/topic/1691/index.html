


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Ман по установке ArchLinux на флешку/винт из рабочей системы
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/11/">Установка</a> <span class="divider">/</span></li>
            
        
        
            <li>Ман по установке ArchLinux на флешку/винт из рабочей системы</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Ман по установке ArchLinux на флешку/винт из рабочей системы</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17684"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17684/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 0
        УСТАНОВКА ARCH LINUX НА ФЛЕШКУ ИЛИ ВИНТ ИЗ РАБОЧЕЙ СИСТЕМЫ!!!
                кодовое имя данной сборки Arch AnTAVR ;)
Принципиально не важно от куда ставить, с CD, флешки или винта.
И принципиально не важно куда ставить, на флешку или на винт!
Поэтому описание установки на флешку или на винт идут параллельно.
Если установка проводится с носителя с ограниченным дисковым пространством,
то рекомендуется после каждого шага установки программного обеспечения проводить
очистку кеша pacman.
pacman -Scc
Заметка!!!
    pacman - основной менеджер программного обеспечения в Arch Linux
    так же будут использоваться pacman-color и yaourt которые имеют практически
    такой же синтаксис но несколько более дружественны к пользователю из за
    расцветки сообщений и прозрачной работы с AUR.
Системный набор программ содержит большое количество современных видов сетевых
подключений, стандартных видео драйверов и файловых систем для работы на любом
современном ПК с выходом в сеть. При установке только части системных программ
универсальность не гарантируется. НО если вы знаете что вам нужно, то вы можете
не ставить все!!!
Набор графических программ рассчитан на безболезненный переход с виндовс на линукс.
Требование к свободному месту
    флешка без сжатия 7 гиг, кеш пакетов не используется!
    флешка с сжатием 3 гига, но так как такая система не обновляется,
        то нужно еще 7 гиг выделить на винте для обхода этого ограничения.
    винт 7 гиг + 3 гига кеш пакетов.
    цифры приведены средние с небольшим запасом, но в основном меньше,
    и зависит от того что будем ставить потом!
Этот набор выбран на мой вкус и опыт установки другим пользователям винды,
и содержит большинство необходимого для повседневной работы на домашнем компьютере.
Заметка!!!
    Система на флешку ставится в основном как запасная, для непредвиденных ситуация,
    восстановления, демонстрации или просто для понтов!
    Поэтому некоторые рекомендации пропущены, для несколько более быстрой и бережной
    работы с флешкой.
Заметка!!!
    ВСЕ ДЕЙСТВИЯ ДЕЛАЮТСЯ ПОД РУТОМ!!!
    sdb, sdb1, sdb2 и т.п. - у вас свое название диска и номер раздела,
		дальше по тексту изменить на нужное!!!
    После установки нужно провести дополнительную настройку для конкретной машины
    установить закрытые дрова на видео, сканеры, принтеры, настроить
    сетевые подключения и т.п. В данной инструкции не описывается!!!!
Заметка!!!
    Я установку провожу открыв это руководство в под рутом в kate и снизу
    в терминале просто копирую и вставляю команды и строки
Переходим к файлу "1 flash"
или
Переходим к файлу "1 hdd"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17685"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17685/">#</a>
            10 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 1 flash
        1) РАЗБИВАЕМ ФЛЕШ ДИСК, СОЗДАЕМ ФАЙЛОВЫЕ СИСТЕМЫ И МОНТИРУЕМ ИХ
Заметка!!!
    fdisk -l посмотреть текущие названия дисков и разделов
		sdb sdb1 sdb2 далее по тексту заменить на нужное!
    Раздел /boot делаем загрузочным
1.1) Разбиваем флешку на разделы
Заметка!!!
    разбить на 2 раздела
        первый раздел 32MB, для "/boot", код 0B W95 FAT32
            и что бы винда не затерла флешку, а она любит портить то что не знает!!!
        второй раздел все остальное место, для "/", код 83 Linux
    флешка должна быть от монтирована!!!
cfdisk /dev/sdb
1.2) Создаем файловые системы
Заметка!!!
    форматируем "/boot" раздел в FAT32
    устанавливаем метку "usbBoot"
    проверяем на ошибки
mkfs.vfat -n usbBoot /dev/sdb1
fsck -f /dev/sdb1
Заметка!!!
    форматируем "/" раздел в ext4
    уменьшаем резервирование для root-а с 5% до 1%
    отключаем журналирование, можно не отключать,
        что будет более безопасно для сохранности данных на ней,
        но несколько уменьшит срок службы флешки, это на выбор что важнее!!!
    устанавливаем метку "usbRoot"
    проверяем на ошибки
Заметка!!!
    Отключаем журналирование ext4 и уменьшаем резерв для root-а c 5% до 1% вручную
    -O ^has_journal - отключить журналирование
    -m 1 - установить резервирование 1%
        tune2fs -O ^has_journal -m 1 /dev/sdXY
mkfs.ext4 -O ^has_journal -m 1 -L usbRoot /dev/sdb2
fsck -f /dev/sdb2
1.3) Монтируем созданные разделы
Заметка!!!
    Создаем временную папку куда будем монтировать раздел "/" новой системы
    для установки из рабочей системы
    и монтируем с опциями
        noatime - не устанавливать время последнего доступа к файлам
        nodiratime - не устанавливать время последнего доступа к папкам
        discard - правильно работать с SSD
mkdir /mnt/newSystem
mount -t ext4 -o defaults,noatime,nodiratime,discard /dev/sdb2 /mnt/newSystem
Заметка!!!
    Создаем папку "/boot" куда будем монтировать раздел "/boot" новой системы
    и монтируем с опциями
        noatime - не устанавливать время последнего доступа к файлам
        nodiratime - не устанавливать время последнего доступа к папкам
mkdir /mnt/newSystem/boot
mount -t vfat -o defaults,noatime,nodiratime /dev/sdb1 /mnt/newSystem/boot
1.4) Создаем папку куда будем монтировать папку "/usr" новой системы
Заметка!!!
    Создаем папку "/home/usbUsr" куда будем монтировать папку "/usr" новой системы
        чтобы потом ее сжать и монтировать только для чтения squashfs,
        использовать только для установки с винта!!!
    и монтируем с опциями
        bind - создания синонима каталога в дереве файловой системы
mkdir /mnt/newSystem/usr
mkdir /home/usbUsr
mount -o bind /home/usbUsr /mnt/newSystem/usr
1.5) Создаем и монтируем служебные фс из основной системы в новую
Заметка!!!
    Так как производим установку из рабочей системы и используем chroot, то это нужно!
mkdir /mnt/newSystem/proc
mount -t proc proc /mnt/newSystem/proc
mkdir /mnt/newSystem/dev
mount -o bind /dev /mnt/newSystem/dev
mkdir /mnt/newSystem/sys
mount -t sysfs sys /mnt/newSystem/sys
Переходим к файлу "2"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17686"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17686/">#</a>
            10 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 1 hdd
        1) РАЗБИВАЕМ ДИСК, СОЗДАЕМ ФАЙЛОВЫЕ СИСТЕМЫ И МОНТИРУЕМ ИХ
Заметка!!!
    fdisk -l посмотреть текущие названия дисков и разделов
    Раздел /boot делаем загрузочным
1.1) Разбиваем винт на разделы
Заметка!!!
    разбить на 3 раздела
        первый раздел 48MB, для "/boot", код 83 Linux
        второй раздел 4GB - 32GB "16GB" в зависимости от того что будете ставить,
        для "/", код 83 Linux
            сюда ставятся все программы!!!
        третий раздел все остальное место, для "/home", код 83 Linux
        четвертым может быть swap 256MB - 2*ram, НО отдельный раздел лучше
        не использовать, а сделать swap в файл!!!
    винт или по крайней мере разделы на которые будем ставить
    должны быть от монтированы!!!
cfdisk /dev/sdb
1.2) Создаем файловые системы
Заметка!!!
    форматируем "/boot" раздел в ext4
    отключаем резервирование для root-а
    отключаем журналирование
    устанавливаем метку "boot"
    проверяем на ошибки
mkfs.ext4 -O ^has_journal -m 0 -L boot /dev/sdb1
fsck -f /dev/sdb1
Заметка!!!
    форматируем "/" раздел в ext4
    уменьшаем резервирование для root-а с 5% до 1%
    устанавливаем метку "root"
    проверяем на ошибки
mkfs.ext4 -m 1 -L root /dev/sdb2
fsck -f /dev/sdb2
Заметка!!!
    форматируем "/home" раздел в ext4
    отключаем резервирование для root-а
    устанавливаем метку "home"
    проверяем на ошибки
mkfs.ext4 -m 0 -L home /dev/sdb3
fsck -f /dev/sdb3
Заметка!!!
    Отключаем журналирование ext4 и уменьшаем резерв для root-а c 5% до 1% вручную
    -O ^has_journal - отключить журналирование
    -m 1 - установить резервирование 1%
        tune2fs -O ^has_journal -m 1 /dev/sdXY
1.3) Монтируем созданные разделы
Заметка!!!
    Создаем временную папку куда будем монтировать раздел "/" новой системы
    для установки из рабочей системы
    и монтируем с опциями
        relatime - устанавливать время последнего доступа к файлам и папкам
            только при изменении
		errors=remount-ro - при ошибке перемонтировать в режим только чтение
mkdir /mnt/newSystem
mount -t ext4 -o defaults,relatime,errors=remount-ro /dev/sdb2 /mnt/newSystem
Заметка!!!
    Создаем папку "/boot" куда будем монтировать раздел "/boot" новой системы
    и монтируем с опциями
        relatime - устанавливать время последнего доступа к файлам и папкам
            только при изменении
mkdir /mnt/newSystem/boot
mount -t ext4 -o defaults,relatime /dev/sdb1 /mnt/newSystem/boot
Заметка!!!
    Создаем папку "/home" куда будем монтировать раздел "/home" новой системы
    и монтируем с опциями
        relatime - устанавливать время последнего доступа к файлам и папкам
            только при изменении
mkdir /mnt/newSystem/home
mount -t ext4 -o defaults,relatime /dev/sdb3 /mnt/newSystem/home
Заметка!!!
    для винта SSD использовать опцию монтирования discard для ext4 или ssd для btrfs
1.4) Создаем и монтируем служебные фс из основной системы в новую
Заметка!!!
    Так как производим установку из рабочей системы и используем chroot, то это нужно!
mkdir /mnt/newSystem/proc
mount -t proc proc /mnt/newSystem/proc
mkdir /mnt/newSystem/dev
mount -o bind /dev /mnt/newSystem/dev
mkdir /mnt/newSystem/sys
mount -t sysfs sys /mnt/newSystem/sys
Переходим к файлу "2"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17687"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17687/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 2
                    2) УСТАНАВЛИВАЕМ БАЗОВУЮ СИСТЕМУ
2.1) Создаем папку для pacman и обновляем базу данных пакетов
Заметка!!!
    В командах pacman используется параметр "-r /mnt/newSystem" для указания корневой
    так как производим установку из рабочей системы, при обычной установке указывать не нужно!!!
    "chroot /mnt/newSystem" и "exit" команду так же указывать не нужно при обычной установке!!!
mkdir -p /mnt/newSystem/var/lib/pacman
pacman -Syy -r /mnt/newSystem
2.2) Устанавливаем базовую систему
Заметка!!!
    base            [core]
Заметка!!!
    bash            [core]      The GNU Bourne Again shell
    bzip2           [core]      A high-quality data compression program
    coreutils       [core]      The basic file, shell and text manipulation utilities of the GNU operating system
    cronie          [core]      Daemon that runs specified programs at scheduled times and related tools
    cryptsetup      [core]      Userspace setup tool for transparent encryption of block devices using dm-crypt
    device-mapper   [core]      Device mapper userspace library and tools
    dhcpcd          [core]      RFC2131 compliant DHCP client daemon
    diffutils       [core]      Utility programs used for creating patch files
    e2fsprogs       [core]      Ext2/3/4 filesystem utilities
    file            [core]      File type identification utility
    filesystem      [core]      Base filesystem
    findutils       [core]      GNU utilities to locate files
    gawk            [core]      GNU version of awk
    gcc-libs        [core]      Runtime libraries shipped by GCC
    gettext         [core]      GNU internationalization library
    glibc           [core]      GNU C Library
    grep            [core]      A string search utility
    grub            [core]      A GNU multiboot boot loader
    gzip            [core]      GNU compression utility
    heirloom-mailx  [core]      A commandline utility for sending and receiving email
    inetutils       [core]      A collection of common network programs
    initscripts     [core]      System initialization/bootup scripts
    iputils         [core]      IP Configuration Utilities (and Ping)
    jfsutils        [core]      JFS filesystem utilities
    less            [core]      A terminal based program for viewing text files
    licenses        [core]      The standard licenses distribution package
    linux           [core]      The Linux Kernel and modules
    logrotate       [core]      Rotates system logs automatically
    lvm2            [core]      Logical Volume Manager 2 utilities
    man-db          [core]      A utility for reading man pages
    man-pages       [core]      Linux man pages
    mdadm           [core]      A tool for managing/monitoring Linux md device arrays, also known as Software RAID
    nano            [core]      Pico editor clone with enhancements
    pacman          [core]      A library-based package manager with dependency support
    pciutils        [core]      PCI bus configuration space access library and tools
    pcmciautils     [core]      Utilities for inserting and removing PCMCIA cards
    perl            [core]      A highly capable, feature-rich programming language
    ppp             [core]      A daemon which implements the Point-to-Point Protocol for dial-up networking
    procps-ng       [core]      Utilities for monitoring your system and processes on your system
    psmisc          [core]      Miscellaneous procfs tools
    reiserfsprogs   [core]      Reiserfs utilities
    sed             [core]      GNU stream editor
    shadow          [core]      Password and account management tool suite with support for shadow files and PAM
    sysfsutils      [core]      System Utilities Based on Sysfs
    syslog-ng       [core]      Next-generation syslogd with advanced networking and filtering capabilities
    sysvinit        [core]      Linux System V Init
    tar             [core]      Utility used to store, backup, and transport files
    texinfo         [core]      Utilities to work with and produce manuals, ASCII text, and on-line documentation from a single source file
    udev            [core]      The userspace dev tools (udev)
    usbutils        [core]      USB Device Utilities
    util-linux      [core]      Miscellaneous system utilities for Linux
    vi              [core]      The original ex/vi text editor
    wget            [core]      A network utility to retrieve files from the Web
    which           [core]      A utility to show the full path of commands
    wpa_supplicant  [core]      A utility providing key negotiation for WPA wireless networks
    xfsprogs        [core]      XFS filesystem utilities
pacman -S -r /mnt/newSystem base
2.3) Устанавливаем git
Заметка!!!
    git             [extra]     the fast distributed version control system
Заметка!!!
    использование git облегчит поиск ошибок при изменении конфигов системы,
    да и вообще git лучшая система контроля версий
pacman -S -r /mnt/newSystem git
2.4) Устанавливаем программы для компиляции пакетов из AUR
Заметка!!!
    base-devel      [core]
Заметка!!!
    autoconf        [core]      A GNU tool for automatically configuring source code
    automake        [core]      A GNU tool for automatically creating Makefiles
    binutils        [core]      A set of programs to assemble and manipulate binary and object files
    bison           [core]      The GNU general-purpose parser generator
    fakeroot        [core]      Gives a fake root environment, useful for building packages as a non-privileged user
    flex            [core]      A tool for generating text-scanning programs
    gcc             [core]      The GNU Compiler Collection - C and C++ frontends
    libtool         [core]      A generic library support script
    m4              [core]      The GNU macro processor
    make            [core]      GNU make utility to maintain groups of programs
    patch           [core]      A utility to apply patch files to original sources
    pkg-config      [core]      A system for managing library compile/link flags
pacman -S -r /mnt/newSystem base-devel
2.5) Сохраняем в git стандартные еще не настроенные конфиги в /etc/
chroot /mnt/newSystem
cd /etc/ &amp;&amp; git init &amp;&amp; git add -A &amp;&amp; git commit -m $(date +%Y-%m-%d-%H%M%S)
exit
2.6) Устанавливаем пакеты для системы
Заметка!!!
    hdparm          [core]      A shell utility for manipulating Linux IDE drive/driver parameters
                                    настройка винтов
    sudo            [core]      Give certain users the ability to run some commands as root
                                    выполнение команд обычным пользователем как root
    gpm             [core]      A mouse server for the console and xterm
                                    мышка в консоле, запускается /etc/rc.d/gpm start
    hwdetect        [extra]     Hardware detection script with loading modules and mkinitcpio.conf / rc.conf support
                                    детект устройств в системе
    ntp             [extra]     Network Time Protocol reference implementation
                                    обновление локального времени через инет
    rsync           [extra]     A file transfer program to keep remote files in sync
                                    синхронизация файлов
    lsof            [extra]     Lists open files for running Unix processes
                                    показывает занятые файлы и кто их держит
    lirc            [extra]     Linux Infrared Remote Control kernel modules for stock arch kernel
    acpid           [community] A daemon for delivering ACPI power management events with netlink support
                                    демон для реакции на ACPI события,
                                    например, реакция на нажатие кнопки питания или закрытия крышки ноутбука
    mc              [community] Midnight Commander is a text based filemanager/shell that emulates Norton Commander
                                    очень удобная псевдо-графическая программа для работы в консоли
    hwinfo          [community] Hardware detection tool from openSUSE
                                    информация о системе
pacman -S -r /mnt/newSystem hdparm sudo gpm hwdetect ntp rsync lsof lirc acpid mc hwinfo
Заметка!!!
    дополнения для mc
pacman -S -r /mnt/newSystem unace unarj cabextract unrar
2.7) Устанавливаем пакеты для файловых систем
Заметка!!!
    btrfs-progs     [core]      btrfs filesystem utilities
                                    поддержка btrfs файловой системы
    nfs-utils       [core]      Support programs for Network File Systems
    nilfs-utils     [core]      A log-structured file system supporting continuous snapshotting (userspace utils)
    dosfstools      [extra]     DOS filesystem utilities
    ntfsprogs       [extra]     NTFS filesystem utilities
    avfs            [extra]     A virtual filesystem that allows browsing of compressed files
    cifs-utils      [extra]     CIFS filesystem user-space tools
    exfat-utils     [community] Utilities for exFAT file system
    squashfs-tools  [community] Tools for squashfs, a highly compressed read-only filesystem for Linux.
    ecryptfs-utils  [community] Enterprise-class stacked cryptographic filesystem for Linux
    anyfs-tools     [community] unix-way toolset for recovering and converting filesystems
pacman -S -r /mnt/newSystem btrfs-progs nfs-utils nilfs-utils dosfstools ntfsprogs
pacman -S -r /mnt/newSystem avfs cifs-utils exfat-utils squashfs-tools ecryptfs-utils anyfs-tools
2.8) Устанавливаем пакеты для сети
Заметка!!!
    netcfg          [core]      Network configuration and profile scripts
                                    для настройки сети, очень удобные профили
    net-tools       [core]      Configuration tools for Linux networking
                                    настройка и управление сетевыми подключениями
    wireless_tools  [core]      Wireless Tools
                                    настройка и управление сетевыми подключениями
    isdn4k-utils    [core]      User space administration programs and tools for ISDN
    bridge-utils    [core]      Utilities for configuring the Linux ethernet bridge
                                    настройка и управление сетевыми подключениями
    wpa_actiond     [core]      Daemon that connects to wpa_supplicant and handles connect and disconnect events
    pptpclient      [core]      Client for the proprietary Microsoft Point-to-Point Tunneling Protocol, PPTP
                                    Для автоматизации настройки VPN PPTP
    openvpn         [core]      An easy-to-use, robust, and highly configurable VPN (Virtual Private Network)
    rp-pppoe        [core]      Roaring Penguin's Point-to-Point Protocol over Ethernet client
    iptables        [core]      Linux kernel packet control tool
                                    Нечто большее чем файрвол
    openconnect     [extra]     Open client for Cisco AnyConnect VPN
    ifplugd         [extra]     A daemon which brings up/down network interfaces upon cable insertion/removal
    samba           [extra]     Tools to access a server's filespace and printers via SMB
                                    позволяют обращаться к сетевым дискам и принтерам
                                    на различных операционных системах по протоколу SMB/CIFS
    vpnc            [extra]     VPN client for cisco3000 VPN Concentrators
    wifi-select     [community] Tool for selecting wifi networks in console
                                    консольная программа ля выбора беспроводных сетей "на лету" (в стиле NetworkManager).
                                    Эту программу удобно использовать в Интернет-кафе или других местах, которые вы посещаете
                                    в первый (и, может быть, в последний) раз. Используя эту программу вам не нужно
                                    предварительно создавать сетевой профиль, просто наберите в терминале
                                    sudo wifi-select wlan0 и выберите ту сеть, которая Вам нужна в данный момент
pacman -S -r /mnt/newSystem netcfg net-tools wireless_tools isdn4k-utils bridge-utils
pacman -S -r /mnt/newSystem wpa_actiond pptpclient openvpn rp-pppoe iptables openconnect
pacman -S -r /mnt/newSystem ifplugd samba vpnc wifi-select
2.9) Устанавливаем пакеты для саундов
Заметка!!!
    alsa-utils      [extra]     An alternative implementation of Linux sound support
                                    драйвера для саундов и управление звуком
    alsa-oss        [extra]     OSS compatibility library
                                    драйвера для саундов и управление звуком
pacman -S -r /mnt/newSystem alsa-utils alsa-oss
2.10) Редактируем /etc/rc.conf
Заметка!!!
    Для выбора HARDWARECLOCK ( UTC | localtime )
    Для выбора TIMEZONE смотрим /usr/share/zoneinfo
    Для выбора KEYMAP смотрим /usr/share/kbd/keymaps
        команда легко покажет возможные раскладки
            find /usr/share/kbd/keymaps/ -name "*ru*"
    Для выбора CONSOLEFONT смотрим /usr/share/kbd/consolefonts
        FONT в /etc/vconsole.conf имеет приоритет!!!
        команда легко покажет возможные шрифты для языка
            find /usr/share/kbd/consolefonts/ -name "*ru*"
            find /usr/share/kbd/consolefonts/ -name "*cyr*"
    Для выбора CONSOLEMAP смотрим /usr/share/kbd/consoletrans
        FONT_MAP в /etc/vconsole.conf имеет приоритет!!!
        команда легко покажет возможные шрифты для языка
            find /usr/share/kbd/consoletrans/ -name "*ru*"
    Для выбора LOCALE смотрим /etc/locale.gen
        LANG в /etc/locale.conf имеет приоритет!!!
        Для более продвинутого контроля, оставьте пустым и установите соответствующие настройки в /etc/locale.conf.
        Если этот файл не существует, он может быть легко заполнен с текущими настройками:
            locale &gt; /etc/locale.conf
chroot /mnt/newSystem nano /etc/rc.conf
# LOCALIZATION
# ------------
HARDWARECLOCK="localtime"
TIMEZONE="Europe/Simferopol"
KEYMAP="ru"
CONSOLEFONT="cyr-sun16"
CONSOLEMAP=
LOCALE="ru_RU.UTF-8"
DAEMON_LOCALE="yes"
USECOLOR="yes"
Заметка!!!
    loop aes - для шифрования
    snd-mixer-oss - для поддержки программ использующих oss
# HARDWARE
# --------
MODULES=(loop aes snd-mixer-oss)
USEDMRAID="no"
Заметка!!!
    myhost - заменить на имя вашего компа
# NETWORKING
# ----------
HOSTNAME="myhost"
Заметка!!!
    Настраиваем сеть если нужно!!!
    network - network - стандартное подключение к сети, ограничение только одна
        сетевая карта, статичное или DHCP подключение!!!
    Static IP Example
        interface=eth0
        address=192.168.0.2
        netmask=255.255.255.0
        broadcast=192.168.0.255
        gateway=192.168.0.1
    DHCP example
        interface=eth0
        address=
        netmask=
        gateway=
Заметка!!!
    ppp - поднимает VPN
    net-profiles - очень удобные профили подключения к сети можно подключать много
        сетевых карт и разных типов подключения!!!
        демки тут /etc/network.d/examples/ скопировать нужную в /etc/network.d/, переименовать как нужно
        и прописать созданный профиль /etc/conf.d/netcfg через пробел NETWORKS=(menu)
        menu - выбирать из списка уже созданных профилей, но не удобно, так что не используем!
    networkmanager - для настройки сети из KDE
    iptables - файрвол если нужно!!!
# DAEMONS
# -------
#
#DAEMONS=(syslog-ng network crond)
DAEMONS=(syslog-ng dbus)
DAEMONS=(${DAEMONS[*]} network !ppp !net-profiles !networkmanager !iptables)
DAEMONS=(${DAEMONS[*]} !netfs)
DAEMONS=(${DAEMONS[*]} @acpid @crond @alsa @ntpdate @samba @avahi-daemon !sshd @gpm)
Заметка!!!
    знак перед демоном "!" - не загружать, знак "@" - не ждать полной загрузки,
    а продолжить загружать следующие демоны
2.11) Выбираем и генерируем новую локаль
chroot /mnt/newSystem nano /etc/locale.gen
#ru_RU.UTF-8 UTF-8
ru_RU.UTF-8 UTF-8
chroot /mnt/newSystem locale-gen
2.12) Редактируем /etc/hosts добавляем такой же HOSTNAME и address как и в /etc/rc.conf
Заметка!!!
    У вас свое!!!
chroot /mnt/newSystem nano /etc/hosts
192.168.0.2     myhost.mydomain     myhost</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17688"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17688/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>2.13) Настраиваем /etc/resolv.conf вписываем DNS сервер
Заметка!!!
    Используйте свой выданный провайдером или общественные предоставляемые google
    8.8.8.8 или 8.8.4.4
chroot /mnt/newSystem nano /etc/resolv.conf
#nameserver &lt;ip&gt;
nameserver 8.8.8.8
nameserver 8.8.4.4
# End of file
2.14) Корректируем /etc/mkinitcpio.conf и генерируем новый образ ядра
Заметка!!!
    добавляем в хук для поддержки загрузки с usb перед filesystems
    для винта это тоже не повредит
Заметка!!!
    squashfs loop - для сжатой флешки, для винта можно не использовать
chroot /mnt/newSystem nano /etc/mkinitcpio.conf
MODULES="squashfs loop"
#HOOKS="base udev autodetect pata scsi sata filesystems usbinput fsck"
HOOKS="base udev autodetect pata scsi sata usb filesystems usbinput fsck"
Заметка!!!
    Включаем компрессию xz - самый лучший компрессор, очень сильно жмет,
    но потребляет много памяти и процессорного времени при сжатии
#COMPRESSION="xz"
COMPRESSION="xz"
Заметка!!!
    Настраиваем xz на максимальное сжатие
#COMPRESSION_OPTIONS=""
COMPRESSION_OPTIONS="-9eT 2"
chroot /mnt/newSystem mkinitcpio -p linux
2.15) Разрешаем использование sudo пользователям в групе wheel
chroot /mnt/newSystem
EDITOR=nano visudo
## Uncomment to allow members of group wheel to execute any command
# %wheel ALL=(ALL) ALL
%wheel ALL=(ALL) ALL
exit
2.16) Настраиваем зеркала pacman
Заметка!!!
    копируем на самый верх списка украинские сервера и раскомментируем
chroot /mnt/newSystem nano /etc/pacman.d/mirrorlist
## Ukraine
Server = ftp://ftp.linux.kiev.ua/pub/Linux/ArchLinux/$repo/os/$arch
Server = ftp://mirrors.mithril.org.ua/linux/archlinux/$repo/os/$arch
Server = <a href="http://ftp.linux.kiev.ua/pub/Linux/ArchLinux/$repo/os/$arch">http://ftp.linux.kiev.ua/pub/Linux/ArchLinux/$repo/os/$arch</a>
Server = <a href="http://mirrors.mithril.org.ua/linux/archlinux/$repo/os/$arch">http://mirrors.mithril.org.ua/linux/archlinux/$repo/os/$arch</a>
2.17) Добавляем репозиторий archlinuxfr
Заметка!!!
    Добавляем репозиторий archlinuxfr и раскомментируем
    все репозитории кроме всех testing
chroot /mnt/newSystem nano /etc/pacman.conf
[archlinuxfr]
SigLevel = PackageRequired
Server = <a href="http://repo.archlinux.fr/$arch">http://repo.archlinux.fr/$arch</a>
2.18) Обновляем базу pacman
Заметка!!!
    Обновляем базу pacman, устанавливаем цветной pacman и yaourt - тот же pacman
    но с прозрачной работой с AUR
Заметка!!!
    upx             [community]  Ultimate executable compressor
                                    сжатие исполняемых файлов
    aurvote         [archlinuxfr] Tool to vote for favorite AUR packages
                                    Пакет для голосования для понравившиеся программы из AUR,
                                    и от количество голосов зависит попадет ли ваш
                                    понравившийся пакев в [community]
    customizepkg    [archlinuxfr] A tool to modify automatically PKGBUILD
                                    Для автоматического изменения PKGBUILD перед компиляцией
    pacman-color    [archlinuxfr] A color patched command-line frontend for libalpm
                                    цветной pacman
chroot /mnt/newSystem pacman -Syy
chroot /mnt/newSystem pacman-key --init
chroot /mnt/newSystem pacman-key --populate archlinux
chroot /mnt/newSystem pacman -S pacman-color yaourt upx customizepkg aurvote
2.19) Настраиваем сборку и сохранение откомпилированных пакетов пользователя и AUR
Заметка!!!
    Создаем папку для сохранения откомпилированных пакетов, и даем доступ всем на чтение и запись
chroot /mnt/newSystem mkdir /home/packages
chroot /mnt/newSystem chmod -R 777 /home/packages
chroot /mnt/newSystem nano /etc/makepkg.conf
#-- upx:       Compress binary executable files using UPX
#
#OPTIONS=(strip docs libtool emptydirs zipman purge !upx)
OPTIONS=(strip docs libtool emptydirs zipman purge upx)
#-- Destination: specify a fixed directory where all packages will be placed
#PKGDEST=/home/packages
PKGDEST=/home/packages
2.20) Соответственно настраиваем yaourt
chroot /mnt/newSystem nano /etc/yaourtrc
# Build
#EXPORT=0           # Export to 1: EXPORTDIR or PKGDEST
EXPORT=1           # Export to 1: EXPORTDIR or PKGDEST
# Command
#PACMAN="pacman"
PACMAN="pacman-color"
2.21) Настройка авто расшифровки папки пользователя при входе в консоле
Заметка!!!
    При входе пользователя через консоль будет прозрачно расшифровываться его домашняя папка
    Для шифрования загружаем модуль
        modprobe ecryptfs
    выполняем
        ecryptfs-migrate-home -u yourname
    и дальше действуем по инструкции которая будет выведена на экран!!!
chroot /mnt/newSystem nano /etc/pam.d/login
auth            optional        pam_ecryptfs.so unwrap
password        optional        pam_ecryptfs.so
session         optional        pam_ecryptfs.so unwrap
2.22) Шифрованный swap файл
Заметка!!!
    создаем исполняемый скрипт который создаст и будет активировать swap при загрузке системы
chroot /mnt/newSystem nano /usr/local/sbin/swapfile
#!/bin/bash
SWPFILE='/swap001.swp'  # Путь к файлу подкачки
SWPDEV='swap001'        # Уникальное имя в /dev/mapper
LOOPD='/dev/loop6'      # loop-устройство
SWPSIZE='bs=8M count=32'    # размер файла подкачки 256MB
start() {
    echo '----- Start CryptoSWAP -----'
    if [ ! -f $SWPFILE ]; then
        echo '----- Create CryptoSWAP -----'
        dd if=/dev/urandom of=$SWPFILE $SWPSIZE
    fi
    losetup $LOOPD $SWPFILE
    cryptsetup --key-file=/dev/urandom --key-size 256 --cipher blowfish-cbc-essiv:sha256 create $SWPDEV $LOOPD
    mkswap -f /dev/mapper/$SWPDEV
    swapon /dev/mapper/$SWPDEV
}
stop() {
    echo '----- Stop CryptoSWAP -----'
    swapoff /dev/mapper/$SWPDEV
    echo ''
    cryptsetup remove $SWPDEV
#   sleep 2
    losetup -d $LOOPD
}
del() {
    stop
    echo '----- Delete CryptoSWAP -----'
    rm /swap001.swp
}
list() {
    swapon -s
}
echo '===== CryptoSWAP Script for ['$SWPFILE'] --&gt; ['$LOOPD'] --&gt; ['$SWPDEV']  ====='
case "$1" in
start)
    start;;
stop)
    stop;;
del)
    del;;
list)
    list;;
--help)
    echo 'Use with start, stop, del, list options';;
*)
    SWPLINE=`swapon -s | grep /dev/mapper/$SWPDEV`
    if [ -n "$SWPLINE" ]; then
        stop
    else
        start
    fi
esac
exit 0
Заметка!!!
    делаем исполняемым
chroot /mnt/newSystem chmod +x /usr/local/sbin/swapfile
Заметка!!!
    добавить в /etc/rc.conf в секцию модулей aes loop
    хотя мы уже добавили это выше так что можно пропустить
chroot /mnt/newSystem nano /etc/rc.conf
MODULES=(aes loop)
Заметка!!!
    для флешки swap незачем, так что хоть и добавляем в файлы эти записи
    но за комментируем их!
    для винта нужно раскомментировать!!!
Заметка!!!
    добавить в /etc/rc.local
chroot /mnt/newSystem nano /etc/rc.local
#swapfile start
Заметка!!!
    добавить в /etc/rc.local.shutdown
chroot /mnt/newSystem nano /etc/rc.local.shutdown
#swapfile stop
2.23) Устанавливаем пакеты для проверки и восстановления файловых систем
Заметка!!!
    gpart           [extra]     Partition table rescue/guessing tool
    testdisk        [extra]     Checks and undeletes partitions + PhotoRec, signature based recovery tool
    mtools          [extra]     A collection of utilities to access MS-DOS disks
    ddrescue        [extra]     GNU data recovery tool
pacman -S -r /mnt/newSystem gpart testdisk mtools ddrescue
2.24) Проводим тюнинг системы
Заметка!!!
    отключаем ненужные консоли # 4 5 6
    и в первой консоле отключаем стирание сообщений при загрузке опция --noclear
chroot /mnt/newSystem nano /etc/inittab
# -8 options fixes umlauts problem on login
c1:2345:respawn:/sbin/agetty -8 -s 38400 tty1 linux --noclear
c2:2345:respawn:/sbin/agetty -8 -s 38400 tty2 linux
c3:2345:respawn:/sbin/agetty -8 -s 38400 tty3 linux
#c4:2345:respawn:/sbin/agetty -8 -s 38400 tty4 linux
#c5:2345:respawn:/sbin/agetty -8 -s 38400 tty5 linux
#c6:2345:respawn:/sbin/agetty -8 -s 38400 tty6 linux
2.25) Устраняем глюк при выходе из ждущего режима дописываем в /etc/rc.local
Заметка!!!
    Может не потребоваться
chroot /mnt/newSystem nano /etc/rc.local
echo USB0 &gt; /proc/acpi/wakeup
echo '1' &gt; /proc/sys/kernel/panic
Заметка!!!
    Включаем Nul Lock во всех консолях
for tty in /dev/tty?; do /usr/bin/setleds -D +num &lt; "$tty"; done
2.26) Устанавливаем русские страницы man помощь и обновляем базы помощи
pacman -S -r /mnt/newSystem man-pages-ru
chroot /mnt/newSystem mandb
2.27) Добавить в /etc/skel/.bashrc для некоторой коррекции в консоле
Заметка!!!
    /etc/skel/ - папка для настроек по умолчанию для создаваемых пользователей
chroot /mnt/newSystem nano /etc/skel/.bashrc
Заметка!!!
    создаем алиасы
alias pacman='pacman-color'
alias xterm='konsole'
Заметка!!!
    красим командную строку
ROOT_UID=0
PS1='31'
if [ "$UID" -ne "$ROOT_UID" ]
then
    PS1='32'
fi
export PS1='\[\e[1;'$PS1'm\][\<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f085b0">[email&#160;protected]</a>\h \W]\$\[\e[0m\]\[\e[1;37m\] '
Заметка!!!
export LESS="-e -r -X"
export EDITOR="nano"
export XZ_OPT="-9eT 2"
Переходим к файлу "3 flash"
или
Переходим к файлу "3 hdd"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17689"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17689/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 3 flash
                        3) НАСТРАИВАЕМ GRUB
3.1) Устанавливаем GRUB в загрузочный раздел
chroot /mnt/newSystem cp -a /usr/lib/grub/i386-pc/* /boot/grub
chroot /mnt/newSystem
grub
Заметка!!!
    или если /boot не отдельным разделом
    find /boot/grub/stage1
find /grub/stage1
Заметка!!!
    покажет например (hd2,1) у вас может отличаться, дальше по тексту изменить на нужное!!!
    если выдаст ошибку то ничего страшного
    можно самим просчитать нужное
        sda = hd0, sdb = hd1, sdc = hd2
        sda2 = hd0,1, sdb3 = hd1,2, sdc1 = hd2,0
    в root (hd2,0) указывается радел boot!
root (hd1,0)
setup (hd1)
quit
exit
Заметка!!!
    Возможны не критические ошибки, игнорируем!
3.2) Настраиваем GRUB
Заметка!!!
    ipv6.disable_ipv6=1 выключаем использование ipv6 если нужно
    если /boot не отдельным разделом то /boot/initramfs-linux.img /boot/vmlinuz-linux
    посмотреть UUID команда blkid
    UUID=ed0bdd05-679b-4c23-b795-1f4c73d46af6 - UUID раздела, у вас свое, дальше по тексту изменить на нужное!!!
chroot /mnt/newSystem nano /boot/grub/menu.lst
# (0) Arch Linux
#title  Arch Linux  [/boot/vmlinuz-linux]
#root   (hd0,0)
#kernel /vmlinuz-linux root=/dev/sda3 ro
#initrd /initramfs-linux.img
# (1) Windows
#title Windows
#rootnoverify (hd0,0)
#makeactive
#chainloader +1
# (0) Arch Linux
title  Arch Linux
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=0aff1ffa-6b1f-4653-a538-d5240a683626 ro ipv6.disable_ipv6=1 nomodeset vga=792 video=1024x768 quiet console=tty1 fastboot splash=verbose elevator=noop
initrd /initramfs-linux-fallback.img
#initrd /initramfs-linux.img
# (1) Arch Linux
title  Arch Linux fallback
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=0aff1ffa-6b1f-4653-a538-d5240a683626 ro
initrd /initramfs-linux-fallback.img
# (2) Arch Linux
title  Arch Linux + KDE
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=0aff1ffa-6b1f-4653-a538-d5240a683626 ro ipv6.disable_ipv6=1 nomodeset vga=792 video=1024x768 quiet console=tty1 fastboot splash=verbose elevator=noop 5
initrd /initramfs-linux-fallback.img
#initrd /initramfs-linux.img
3.3) Добавляем в /etc/fstab запись о фс
chroot /mnt/newSystem nano /etc/fstab
Заметка!!!
    монтируем с опциями
        noatime,nodiratime - не устанавливать время последнего доступа к файлам и папкам
        discard - правильно работать с SSD
tmpfs   /var/tmp    tmpfs   defaults    0   0
tmpfs   /var/cache/pacman/pkg    tmpfs   defaults    0   0
tmpfs   /var/log    tmpfs   defaults    0   0
UUID=0aff1ffa-6b1f-4653-a538-d5240a683626   /   ext4    defaults,noatime,nodiratime,discard    0   1
UUID=FEB9-7229  /boot   vfat    defaults,noatime,nodiratime    0   1
#/usbUsr.sfs   /usr   squashfs   loop,ro   0 0
3.4) Устанавливаем пользователю root пароль
Заметка!!!
    используем простой пароль, так как это временная live система
chroot /mnt/newSystem passwd
3.5) Сохраняем в git настроенные конфиги в /etc/
chroot /mnt/newSystem
cd /etc/ &amp;&amp; git add -A &amp;&amp; git commit -m $(date +%Y-%m-%d-%H%M%S)
exit
Если графические программы не требуются то заканчиваем установку и переходим к файлу 9 flash
Переходим к файлу "4"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17690"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17690/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 3 hdd
                        3) НАСТРАИВАЕМ GRUB
3.1) Устанавливаем GRUB в загрузочный раздел
chroot /mnt/newSystem cp -a /usr/lib/grub/i386-pc/* /boot/grub
chroot /mnt/newSystem
grub
Заметка!!!
    или если /boot не отдельным разделом
    find /boot/grub/stage1
find /grub/stage1
Заметка!!!
    покажет например (hd2,1) у вас может отличаться, дальше по тексту изменить на нужное!!!
    если выдаст ошибку то ничего страшного
    можно самим просчитать нужное
        sda = hd0, sdb = hd1, sdc = hd2
        sda2 = hd0,1, sdb3 = hd1,2, sdc1 = hd2,0
    в root (hd2,0) указывается радел boot!
root (hd1,0)
setup (hd1)
quit
exit
Заметка!!!
    Возможны не критические ошибки, игнорируем!
3.2) Настраиваем GRUB
Заметка!!!
    ipv6.disable_ipv6=1 выключаем использование ipv6 если нужно
    если /boot не отдельным разделом то /boot/initramfs-linux.img /boot/vmlinuz-linux
    посмотреть UUID команда blkid
    UUID=ed0bdd05-679b-4c23-b795-1f4c73d46af6 - UUID раздела, у вас свое, дальше по тексту изменить на нужное!!!
chroot /mnt/newSystem nano /boot/grub/menu.lst
# (0) Arch Linux
#title  Arch Linux  [/boot/vmlinuz-linux]
#root   (hd0,0)
#kernel /vmlinuz-linux root=/dev/sda3 ro
#initrd /initramfs-linux.img
# (1) Windows
#title Windows
#rootnoverify (hd0,0)
#makeactive
#chainloader +1
# (0) Arch Linux
title  Arch Linux
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=2127f714-35ca-4929-86f3-ac935bc794a1 ro ipv6.disable_ipv6=1 nomodeset vga=792 video=1024x768 quiet console=tty1 fastboot splash=verbose
initrd /initramfs-linux.img
# (1) Arch Linux
title  Arch Linux fallback
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=2127f714-35ca-4929-86f3-ac935bc794a1 ro
initrd /initramfs-linux-fallback.img
# (2) Arch Linux
title  Arch Linux + KDE
root   (hd0,0)
kernel /vmlinuz-linux root=UUID=2127f714-35ca-4929-86f3-ac935bc794a1 ro ipv6.disable_ipv6=1 nomodeset vga=792 video=1024x768 quiet console=tty1 fastboot splash=verbose 5
initrd /initramfs-linux.img
Заметка!!!
    Для загрузки Windows
# (3) Windows
#title Windows
#map (hd0) (hd1)
#map (hd1) (hd0)
#rootnoverify (hd0,0)
#makeactive
#chainloader +1
3.3) Добавляем в /etc/fstab запись о корневой фс
chroot /mnt/newSystem nano /etc/fstab
Заметка!!!
    монтируем с опциями
        relatime - устанавливать время последнего доступа к файлам и папкам
            только при изменении
	для винта SSD использовать опцию монтирования discard для ext4 или ssd для btrfs
tmpfs   /var/tmp    tmpfs   defaults    0   0
UUID=76c1a477-2f8f-4b21-b127-dd92483e6dfc   /      ext4    defaults,relatime    0   1
UUID=76c1a477-2f8f-4b21-b127-dd9248dfgbsd  /boot   ext4    defaults,relatime    0   1
UUID=76csdfg7-2f8f-4b21-b127-dd9248dfg234  /home   ext4    defaults,relatime    0   1
3.4) Устанавливаем пользователю root пароль
Заметка!!!
    используем сложный пароль минимум 8 символов, используем символы в верхнем
    и нижнем регистре, числа и знаки!!!
chroot /mnt/newSystem passwd
3.5) Сохраняем в git настроенные конфиги в /etc/
chroot /mnt/newSystem
cd /etc/ &amp;&amp; git add -A &amp;&amp; git commit -m $(date +%Y-%m-%d-%H%M%S)
exit
Если графические программы не требуются то заканчиваем установку и переходим к файлу 9 hdd
Переходим к файлу "4"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17691"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17691/">#</a>
            10 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 4
                        4) СТАВИМ ГРАФИЧЕСКИЙ СЕРВЕР
4.1) Устанавливаем xorg
Заметка!!!
    xorg - X сервер для графический оболочек
    ttf-dejavu ttf-liberation - шрифты для xorg
Заметка!!!
    xf86-input-acecad   [extra]
    xf86-input-aiptek
    xf86-input-evdev
    xf86-input-joystick
    xf86-input-keyboard
    xf86-input-mouse
    xf86-input-synaptics
    xf86-input-vmmouse
    xf86-input-void
    xf86-video-apm
    xf86-video-ark
    xf86-video-ast
    xf86-video-ati
    xf86-video-chips
    xf86-video-cirrus
    xf86-video-dummy
    xf86-video-fbdev
    xf86-video-glint
    xf86-video-i128
    xf86-video-i740
    xf86-video-intel
    xf86-video-mach64
    xf86-video-mga
    xf86-video-neomagic
    xf86-video-nv
    xf86-video-r128
    xf86-video-rendition
    xf86-video-s3
    xf86-video-s3virge
    xf86-video-savage
    xf86-video-siliconmotion
    xf86-video-sis
    xf86-video-sisusb
    xf86-video-tdfx
    xf86-video-trident
    xf86-video-tseng
    xf86-video-v4l
    xf86-video-vesa
    xf86-video-vmware
    xf86-video-voodoo
    xorg-bdftopcf
    xorg-docs
    xorg-font-util
    xorg-fonts-100dpi
    xorg-fonts-75dpi
    xorg-fonts-encodings
    xorg-iceauth
    xorg-luit
    xorg-mkfontdir
    xorg-mkfontscale
    xorg-server
    xorg-sessreg
    xorg-setxkbmap
    xorg-smproxy
    xorg-x11perf
    xorg-xauth
    xorg-xbacklight
    xorg-xcmsdb
    xorg-xcursorgen
    xorg-xdpyinfo
    xorg-xdriinfo
    xorg-xev
    xorg-xgamma
    xorg-xhost
    xorg-xinput
    xorg-xkbcomp
    xorg-xkbevd
    xorg-xkbutils
    xorg-xkill
    xorg-xlsatoms
    xorg-xlsclients
    xorg-xmodmap
    xorg-xpr
    xorg-xprop
    xorg-xrandr
    xorg-xrdb
    xorg-xrefresh
    xorg-xset
    xorg-xsetroot
    xorg-xvinfo
    xorg-xwd
    xorg-xwininfo
    xorg-xwud
pacman -S -r /mnt/newSystem xorg xorg-xinit ttf-dejavu ttf-liberation
4.2) Настраиваем переключение клавиатуры
Заметка!!!
    Настраиваем переключение клавиатуры и индикацию rus/lat
    на клавиатурном индикаторе Scroll Lock для Xorg
chroot /mnt/newSystem nano /etc/X11/xorg.conf.d/01-keyboard-layout.conf
Section "InputClass"
        Identifier "keyboard-layout"
        Driver "evdev"
        MatchIsKeyboard "yes"
        Option "XkbLayout" "us, ru"
        Option "XkbVariant" ","
        Option "XkbOptions" "grp:ctrl_shift_toggle,grp_led:scroll"
EndSection
4.3) Настраиваем разрешение монитора для Xorg
chroot /mnt/newSystem nano /etc/X11/xorg.conf.d/10-monitor.conf
Section "Monitor"
    Identifier    "Monitor0"
    VendorName     "Unknown"
EndSection
Section "Device"
    Identifier    "Device0"
EndSection
Section "Screen"
    Identifier    "Screen0"
    Device        "Device0"
    Monitor       "Monitor0"
    DefaultDepth  24
    SubSection "Display"
        Depth     24
        Modes     "1280x1024"
    EndSubSection
EndSection
Переходим к файлу "5"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17692"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17692/">#</a>
            10 лет, 3 месяца назад
            
                (отредактировано
                
                    10 лет, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 5
                5) УСТАНАВЛИВАЕМ ОЧЕНЬ НУЖНЫЕ ПРОГРАММЫ
5.1) Устанавливаем файловый менеджер и консоль
pacman -S -r /mnt/newSystem kdebase-dolphin kdebase-kdialog kdebase-konsole phonon-gstreamer
5.2) Устанавливаем некоторые административные программы
pacman -S -r /mnt/newSystem kdeadmin-kcron kdeadmin-ksystemlog kdeadmin-kuser kdebase-kdepasswd
5.3) Устанавливаем пакеты из группы kdesdk
[extra]
:: 20 объектов в группе kdesdk:
?  1) kdesdk-cervisia
&gt;  2) kdesdk-dolphin-plugins
  3) kdesdk-kapptemplate
&gt;  4) kdesdk-kate
  5) kdesdk-kcachegrind
  6) kdesdk-kdeaccounts-plugin
  7) kdesdk-kdepalettes
  8) kdesdk-kioslave
  9) kdesdk-kmtrace
&gt;  10) kdesdk-kompare
  11) kdesdk-kpartloader
  12) kdesdk-kprofilemethod
  13) kdesdk-kstartperf
  14) kdesdk-kuiviewer
  15) kdesdk-lokalize
  16) kdesdk-okteta
  17) kdesdk-poxml
  18) kdesdk-scripts
  19) kdesdk-strigi-analyzer
  20) kdesdk-umbrello
[extra]
  1) jre7-openjdk
pacman -S -r /mnt/newSystem kdesdk-dolphin-plugins kdesdk-kate kdesdk-kompare
Заметка!!!
    Можно не устанавливать так как пакеты для разработки!!!
pacman -S -r /mnt/newSystem kdesdk jre7-openjdk
5.4) Устанавливаем пакеты из группы kdeutils
[extra]
:: 14 объектов в группе kdeutils:
  1) kdeutils-ark
!  2) kdeutils-filelight
  3) kdeutils-kcalc
!  4) kdeutils-kcharselect
!  5) kdeutils-kdf
!  6) kdeutils-kfloppy
  7) kdeutils-kgpg
!  8) kdeutils-kremotecontrol
  9) kdeutils-ksecrets
  10) kdeutils-ktimer
  11) kdeutils-kwallet
!  12) kdeutils-printer-applet
!  13) kdeutils-superkaramba
!  14) kdeutils-sweeper
pacman -S -r /mnt/newSystem kdeutils-ark kdeutils-kcalc kdeutils-kgpg kdeutils-ksecrets
pacman -S -r /mnt/newSystem kdeutils-ktimer kdeutils-kwallet
5.5) Устанавливаем пакеты из группы kdewebdev
Заметка!!!
    Для веб разработки, можно не ставить
[extra]
?:: 4 объектов в группе kdewebdev:
  1) kdewebdev-kfilereplace
  2) kdewebdev-kimagemapeditor
  3) kdewebdev-klinkstatus
  4) kdewebdev-kommander
pacman -S -r /mnt/newSystem kdewebdev
5.6) Русификация KDE
pacman -S -r /mnt/newSystem kde-l10n-ru
5.7) Устанавливаем просмотр графически файлов, скриншоты, просмотр разных документов, пасьянс
pacman -S -r /mnt/newSystem kdegraphics-okular kdegraphics-ksnapshot kdegraphics-gwenview kdegames-kpatience
5.8) Устанавливаем дополнения для dolphin
pacman -S -r /mnt/newSystem kdemultimedia-ffmpegthumbs kdemultimedia-mplayerthumbs
yaourt -S -r /mnt/newSystem rootactions-servicemenu-kde4
5.9) Устанавливаем хорошей плеер для мультимедиа, тв-тюнер, радио-тюнер,
    конвертер видео аудио и запись видео с рабочего стола
Заметка!!!
    diffuse - очень нужная прога для сравнения двух файлов, для сравнения конфигов!
pacman -S -r /mnt/newSystem smplayer tvtime kradio avidemux-qt mkvtoolnix-gtk xvidcap diffuse
5.10) Устанавливаем утилиты разбития винтов на разделы,
    запись CD дисков, 7zip упаковщик, информация о системе, GUI git
pacman -S -r /mnt/newSystem gparted k3b p7zip hardinfo qgit
Заметка!!!
    дополнения для k3b
pacman -S -r /mnt/newSystem dvd+rw-tools vcdimager transcode emovix
5.11) Устанавливаем проверку орфографии
pacman -S -r /mnt/newSystem aspell-ru aspell-uk aspell-en
5.12) Сохраняем в git настроенные конфиги в /etc/
chroot /mnt/newSystem
cd /etc/ &amp;&amp; git add -A &amp;&amp; git commit -m $(date +%Y-%m-%d-%H%M%S)
exit
Переходим к файлу "6 kde"
и/или
Переходим к файлу "6 openbox"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-17693"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/17693/">#</a>
            10 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <div class="code"><pre>файл 6 kde
                            6) УСТАНАВЛИВАЕМ KDE
Заметка!!!
    "?" - можно поставить, а можно и нет
    "!" - лучше не ставить
    "&gt;" - обязательно поставить
6.1) Устанавливаем kde оболочку и регулятор громкости
pacman -S -r /mnt/newSystem kdebase-plasma phonon-gstreamer kde-wallpapers kdemultimedia-kmix
6.2) Устанавливаем kdepim
Заметка!!!
    Можно не устанавливать, а воспользоваться похожими но не использующими akonadi
    Хотя в данном списке есть и достойные представители, но akonadi
    использует много памяти даже когда этими прогами не пользуются!!!
[extra]
? :: 15 объектов в группе kdepim:
  1) kdepim-akonadiconsole
  2) kdepim-akregator
  3) kdepim-blogilo
  4) kdepim-console
  5) kdepim-kaddressbook
  6) kdepim-kalarm
  7) kdepim-kjots
  8) kdepim-kleopatra
  9) kdepim-kmail
  10) kdepim-knode
  11) kdepim-knotes
  12) kdepim-kontact
  13) kdepim-korganizer
  14) kdepim-kresources
  15) kdepim-ktimetracker
pacman -S -r /mnt/newSystem kdepim
6.3) Устанавливаем пакеты для подключения сети из KDE
Заметка!!!
    networkmanager  [extra]     Network Management daemon
    modemmanager    [extra]     Mobile broadband modem management service
    dhclient        [extra]     dhclient is standalone client from the dhcp package
    dnsmasq         [extra]     Lightweight, easy to configure DNS forwarder and DHCP server
    bluez           [extra]     Libraries and tools for the Bluetooth protocol stack
    kdeplasma-applets-networkmanagement [extra] KDE control panel and widget network connections
    networkmanager-openconnect [extra] NetworkManager VPN integration for openconnect
    networkmanager-openvpn [extra] NetworkManager VPN plugin for OpenVPN
    networkmanager-pptp [extra] NetworkManager VPN plugin for pptp
    networkmanager-vpnc [extra] NetworkManager VPN plugin for vpnc
    openresolv      [community] resolv.conf management framework (resolvconf
pacman -S -r /mnt/newSystem networkmanager modemmanager dhclient dnsmasq bluez
pacman -S -r /mnt/newSystem kdeplasma-applets-networkmanagement
pacman -S -r /mnt/newSystem networkmanager-openconnect networkmanager-openvpn
pacman -S -r /mnt/newSystem networkmanager-pptp networkmanager-vpnc openresolv
Заметка!!!
    включаем networkmanager, редактируем /etc/rc.conf
chroot /mnt/newSystem nano /etc/rc.conf
DAEMONS=(${DAEMONS[*]} !network !ppp !net-profiles networkmanager !iptables)
6.4) Устанавливаем kdenetwork
[extra]
?:: 7 объектов в группе kdenetwork:
  1) kdenetwork-filesharing
  2) kdenetwork-kdnssd
!!  3) kdenetwork-kget
!!  4) kdenetwork-kopete
  5) kdenetwork-kppp
  6) kdenetwork-krdc
  7) kdenetwork-krfb
pacman -S -r /mnt/newSystem kdenetwork-filesharing kdenetwork-kdnssd kdenetwork-kppp
pacman -S -r /mnt/newSystem kdenetwork-krdc kdenetwork-krfb
6.5) Настройка авто расшифровки папки пользователя при графическом входе
Заметка!!!
    дописать эти строки в /etc/pam.d/kde что бы при графическом входе автоматически
    расшифровывалась домашняя папка
chroot /mnt/newSystem nano /etc/pam.d/kde
auth        optional    pam_ecryptfs.so unwrap
password    optional    pam_ecryptfs.so
session     optional    pam_ecryptfs.so unwrap
6.6) Настраиваем запуск графической оболочки для входа в систему
chroot /mnt/newSystem nano /etc/inittab
# Example lines for starting a login manager
#x:5:respawn:/usr/bin/xdm -nodaemon
#x:5:respawn:/usr/sbin/gdm -nodaemon
x:5:respawn:/usr/bin/kdm -nodaemon
#x:5:respawn:/usr/bin/slim &gt;/dev/null 2&gt;&amp;1
6.7) Настраиваем Grub что бы по умолчанию входить в графическом режиме
chroot /mnt/newSystem nano /boot/grub/menu.lst
# general configuration:
timeout   5
#default   0
default   2
color light-blue/black light-cyan/blue
Заметка!!!
    Для уменьшения нагрузки и потребляемой памяти нужно отключить nepomuk и aconadi
    nepomuk отключается в настройках, искать на панели снизу в правом углу выбрать
      Desktop Search File...
    aconadi отключается в ~/.config/akonadi/akonadiserverrc
      ServerPath=/usr/bin/mysqld
      #StartServer=true
      StartServer=false
        но с ним отключаются и другие программы из группы kdepim!!!
Переходим к файлу "7"
Arch AnTAVR</pre></div>
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/1691/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747ad53a89f9497d',m:'5yEC70ev.FYSp5zO6_k18dpCmw.0jdUw3nG_PApvO8E-1662673132-0-AUkbLwfKbLxbpdsdnRnvjtg+8Xx5VUypSUCf/tXVZFNqE4VJgZuYmV6WoUe+OXe0rk76OmHK04lPNTCflhG9jaujuDGM3jfJKJjejqwGqAzeoQF9iFHQaSRQ0i0R3GnBpyQiRpl4G4223nbeEQ+X43Y=',s:[0x571643697e,0xfe241e3849],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
