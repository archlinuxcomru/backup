


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [РЕШЕНО] Принудительное включение кулеров
    </title>
    <link rel="shortcut icon" href="https://archlinuxcomru.github.io/backup/src/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://archlinuxcomru.github.io/backup/src/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/12/">Ядро и Железо</a> <span class="divider">/</span></li>
            
        
        
            <li>[РЕШЕНО] Принудительное включение кулеров</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[РЕШЕНО] Принудительное включение кулеров</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=2" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=3">3 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=4" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-192934"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/192934/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <strong>Прошу прощения</strong> — <strong>обманул</strong>. Давно не игрался с этой штукой.<br /><u>Сам же писал же — обратно возвращаю в ручную, а почему именно, и забыл.</u> Прошу не винить.<br />Но в принципе, нужно больше экспериментировать.<br />Для удобства вывода я использую следующую команду -<br /><strong>sudo perl acer_ec.pl regs | awk &#39;(NR == 6)&#39; | awk &#39;{print $18,$19}&#39;</strong><br />..... подставляйте свои значения (вывожу регистры и чтения и записи, хотя достаточно одного значения)<br />Для повышения температуры применяю утилиту <strong>stress</strong> (подбирать свои значения запуска - см. --help)<br /><strong>stress --cpu 2 --io 4 --vm 2 --vm-bytes 128M --timeout 10s</strong><br /><u>Итак, если изменили в ручную (скриптом), то и дальше нужно также менять или писать свой скрипт</u> — ссылка дана в блоге.<br />И, главное, это будет действовать, пока не выключить комп — перегрузка, вроде бы, не помогает.<br />Я скрипт не стал писать, хотя там ничего сложного нет. Просто у меня имеется набор<br />3-х значений, которыми я и оперирую, если уж пришлось активировать скрипт.<br />Вот мои нормальные значения (вывожу обычно оба регистра — и чтение и запись)<br />$ sudo perl acer_ec.pl regs | awk &#39;(NR == 6)&#39; | awk &#39;{print $18,$19}&#39;<br />74 74<br />Вот значения седующих 2-х ступенек<br />$ sudo perl acer_ec.pl regs | awk &#39;(NR == 6)&#39; | awk &#39;{print $18,$19}&#39;<br />65 65<br /> $ sudo perl acer_ec.pl regs | awk &#39;(NR == 6)&#39; | awk &#39;{print $18,$19}&#39;<br />60 59<br /><em>.... удалил лишнее, как не относящееся к делу, чтобы не путать ....</em><br />PS ... самое главное, если Вам это не нужно, то лучше не делать. Поиграться, это можно.<br />Это нужно делать если имеются проблемы с охлаждением или еще что то и Вам понятно, что Вы делаете.<br />И как сказал <strong>Aivar</strong><br /><blockquote><em>Aivar</em><br>Зачем, если скорость вращения кулера должна быть привязана к показанию датчика, т.е. к температуре. Лично я сделал так и сделал, ничего не ставлю, не поднимаю и т.д. Зимой вентиляторы практически не слышны, летом жужжат сильнее.</blockquote><strong>Вывод - не трожь нормально работающий механизм.</strong>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-192940"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Shatur/">
                <span class="post-username">Shatur</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/192940/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4d/9f/4d9f0d3dcf63ba77a7f946a6cf39f1a3.png" alt="Shatur avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Shatur/topics/">
                    28
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Shatur/posts/">
                    323
                </a>
            </div>
            <div>
                Участник с: 26 марта 2017
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br>подставляйте свои значения (вывожу регистры и чтения и записи, хотя достаточно одного значения)</blockquote>А подскажите, пожалуйста, неопытному, как получить значения? Если я правильно понял, то:<br />1. Замерить значения sudo perl acer_ec.pl regs<br />2. Заставить напрягаться CPU утилитой stress или чем-то другим<br />3. Посмотреть какие значения поменялись, они мне и нужны.<br />Так?<br /><blockquote><em>Shatur</em><br>PS ... самое главное, если Вам это не нужно, то лучше не делать. Поиграться, это можно.</blockquote>Если я правильно понял, то после выключения компьютера все равно все значения сбросятся, так что плохо я навряд ли сделаю. Тем более, я не хочу понижать скорость вращения, перегрев не грозит. А поиграться хочется :)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-192943"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/192943/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <strong>Shatur</strong>, есть несколько вариантов, и, для надежности, лучше перепроверить<br />1) загрузить модуль ec_sys а потом команду # watch od -Ax -t x1 /sys/kernel/debug/ec/ec0/io<br />и получаем динамическую, непрерывно меняющуюся таблицу значений регистров. Любым способом изменяем температуру (самое простое stress) и зорко смотрим меняющиеся цифирки.<br />2) в спокойном режиме снимаем таблицу (sudo perl acer_ec.pl regs) и в файл (типа libreoffice, альбом, шрифт уменьшить, чтобы таблица уместилась полностью) — это будет эталон. Далее изменяешь температуру, лучше в несколько этапов, ступеньками — вывод каждой ступеньки опять в файл — и смотри, где меняется, лучше выделяй красным, измения на 1-2 еденицы можешь не учитывать — в конце должны остаться два значения.<br />В принципе уже их можно и попробовать (как я писал, вывод только двух регистров).<br />Не уверен, можно уточнять дальше.<br />3) Если есть винда, то есть очень хорошая утилита -  RW-Everything — выводит очень много инфы, вплоть до таблиц DSDT и EDID монитора (если не перепутал). Там также есть таблица EC (embedded controller) - таблица регистров и их значений, в которой непрерывно меняются значения. Остается опять же только изменять температуру и смотреть глазками.<br />4) выше давал ссылку на сайт, найти там конфиг для своего ноута — там эти регистры будут прописаны. Вот кусок для моего ноута<br /><pre><code> &lt;FanControlConfig&gt;
&lt;UniqueId&gt;HP ProBook 4530s&lt;/UniqueId&gt;
&lt;NotebookModel&gt;HP ProBook 4530s&lt;/NotebookModel&gt;
&lt;ReadRegister&gt;46&lt;/ReadRegister&gt;
&lt;WriteRegister&gt;47&lt;/WriteRegister&gt;
&lt;MinSpeedValue&gt;88&lt;/MinSpeedValue&gt;
&lt;MaxSpeedValue&gt;48&lt;/MaxSpeedValue&gt;
…........ и так далее ….............</code></pre>И как видим мои регистры 46 и 47, что соответствует 2E и 2F в 16-ричном исчислении.<br /><blockquote><em>Shatur</em><br>Если я правильно понял, то после выключения компьютера все равно все значения сбросятся, так что плохо я навряд ли сделаю. Тем более, я не хочу понижать скорость вращения, перегрев не грозит. А поиграться хочется :)</blockquote>Сбросятся. Один совет - рекомендую иметь вывод значений температуры перед глазами -  я его обычно делаю 3-х цветным - зеленый/желтый/красный в зависимости от значений температуры.<br />Ну и не стоит при экспериментах очень сильно изменять значения регистров.<br />PS ... вроде бы я в блоге давал ссылку на сайт, как написать скрипт на данный метод, если, конечно, тебе не подходит ACPI.<br />PSS ... если не нравится stress, есть утилиты для мониторинга температуры, позволяющие изменять эту температуру за счет изменения мощности куллера. Но в этом случае, тебе достаточно одной этой утилиты и не нужна вся эта морока .<br />Эта утилита, вроде бы, называется   <strong>NBFC</strong> (NoteBook FanControl) и она, если не ошибаюсь, тоже построена на embedded controller  - приведенный выше конфиг для нее и предназначен. Одно но - в винде эта утилита работает превосходно (правда, если не ошибаюсь, конфликтует с RW-Everything), а вот в Linux запустить ее проблематично - нужно много читать и пробовать.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-192954"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/192954/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Забыл отметить небольшое дополнение - в части перевода вентилятора в автоматический режим (от ACPI), чтобы сбросить значения без выключения компьютера. У некоторых типов ноутбуков рядышком с этими регистрами (чтения и записи) находится еще один регистр, изменяя значения которого можно перевести обратно  кулер в автоматический режим.<br />Я у себя такого не нашел, но особо и не занимался этим. Все некогда этим заняться вплотную. И не знаю даже, имеется ли такой регистр у всех ноубуков или только у некоторых типов.<br /><em>PS ... т. е. этот регистр отвечает за переключение между автоматическим и ручным режимом.</em><br /><br /><strong>PSS</strong> ... Вообщем занялся вплотную переводом управления куллером из ручного режима в автоматический — для своего ноута, нашел — нужно записать в регистр 2F (регистр записи) значение <strong>FF</strong><br /><strong>sudo perl acer_ec.pl := 0x2F 0xFF</strong><br />Проверил несколько раз.<br />Подсказку дал упоминаемый выше конфиг для <strong>NBFC</strong> (для моего ноута), а точнее строка<br /><strong>&lt;FanSpeedResetValue&gt;<u>255</u>&lt;/FanSpeedResetValue&gt;</strong>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193018"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Shatur/">
                <span class="post-username">Shatur</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193018/">#</a>
            5 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4d/9f/4d9f0d3dcf63ba77a7f946a6cf39f1a3.png" alt="Shatur avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Shatur/topics/">
                    28
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Shatur/posts/">
                    323
                </a>
            </div>
            <div>
                Участник с: 26 марта 2017
            </div>
            
        </td>
        <td class="post-content">
            <strong>vasek</strong>, большое спасибо! Пробую замерить значения. Заметил, что меняются значения:<br />2d менялось на 2e периодически, а потом становилось снова 2d. Такое ощущение, как будто бы срабатывает переключатель на следующую скорость.<br />Больше ни одно значение не меняется во время стресс-теста. А еще одно значение меняется иногда на совершенно случайные в третьей снизу строке.<br />Проверял много раз, может же такое быть, что не управляется оно через embeeded controller?<br />Было бы здоро<br /><blockquote><em>vasek</em><br>регистр отвечает за переключение между автоматическим и ручным режимом.</blockquote>Было бы здорово его найти. Без этого сделать скрипт, который включает принудительно охлаждение не получится :(
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193022"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193022/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Shatur</em><br>2d менялось на 2e периодически, а потом становилось снова 2d.  Такое ощущение, как будто бы срабатывает переключатель на следующую скорость</blockquote>Что то слишком мало меняется, всего на единицу (2D это 45 в 10-ричной системе, а 2E - 46. Может у тебя не значительно поднималась температура? Неужели у тебя нет вывода температуры - если нет, выведи. Температуру желательно поднять градусов на 15.<br />Опишу еще раз, более подробно. В принципе определить регистры очень легко:<br />- запускаем <u>два терминала-эмулятора</u><br />- в одном загружаем модуль (<strong>sudo modprobe ec_sys</strong>) и запускаем команду для динамического вывода таблицы<br /><strong>sudo watch od -Ax -t x1 /sys/kernel/debug/ec/ec0/io</strong><br />и смотрим внимательно на ячейки, в которых менятся значения — эти ячеки из расмотрения выкинуть (если температура неизменна, то и меняться ничего не должно).  А лучше поищи 2 рядом расположенные ячейки с одинаковыми значениями (возможно отличие на 1, ориентируйся в 16-ричной системе). Если заметили переходим к следующему этапу (но если и не заметили, всеравно лучше перейти к следующему этапу).<br />- во втором терминале запускаем утилиту stress (достаточно 10с, чтобы температура прыгнула градусов на 15-20)<br /><strong>stress --cpu 2 --io 4 --vm 2 --vm-bytes 128M --timeout 10s</strong>  (можно менять количество cpu, время и мегабайты)<br />- переводим взгляд на первый терминал и ищем ячейки, обычно две рядышком,  в которой меняются значения — лучше смотреть на две ячейки с одинаковыми значениями, замеченными до поднятия температуры.<br />Привожу мой вывод (только одной строки) до поднятия температуры<br />000020 ff ff 00 00 00 00 1d 01 00 00 00 00 00 00 <strong>4a 4a</strong><br />и после<br />000020 ff ff 00 00 00 00 1e 01 00 00 00 00 00 00 <strong>3e 3b</strong><br />И хорошо видно — были значения 4a 4a, а стали 3e 3b<br />Определяем номера ячеек (вертикаль — горизонталь) и получаем <strong>2E</strong> <strong>2F</strong> — это мои ячейки/регистры (чтения и записи)<br />Если не смог заметить, увеличь время действия stress до 20с, но лучше ориентируйся по значению температуры и изменению шума куллера.<br /><blockquote><em>Shatur</em><br>Было бы здорово его найти.</blockquote>Как пишут, у разных типов ноутбуков по разному. У моего, как писал выше, такого отдельного регистра нет, а для перевода в автоматический режим используется тот же самый регистр записи, с записью в него значения FF. Так что можешь попробовать этот способ. Но сначала найди ячейки/регистры чтения и записи.<br /><blockquote><em>Shatur</em><br>может же такое быть, что не управляется оно через embeeded controller?</blockquote>Может, но вероятность маленькая. Я пока такого не встречал.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193023"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Shatur/">
                <span class="post-username">Shatur</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193023/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4d/9f/4d9f0d3dcf63ba77a7f946a6cf39f1a3.png" alt="Shatur avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Shatur/topics/">
                    28
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Shatur/posts/">
                    323
                </a>
            </div>
            <div>
                Участник с: 26 марта 2017
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br>Что то слишком мало меняется, всего на единицу (2D это 45 в 10-ричной системе, а 2E - 46. Может у тебя не значительно поднималась температура? Неужели у тебя нет вывода температуры - если нет, выведи. Температуру желательно поднять градусов на 15.</blockquote>Да за температурой следил, поднял с 60 до 80 градусов. Этот параметр (значение) как переключатель какой-то. Меняется туда-сюда во время разгона и становится на начальное значение во время максимальной скорости кулера. Так странно. Стресс я делал без таймера, просто врубал и смотрел в табличку, ожидая, пока нагреется до максимума. Задействовал все ядра, так что нагревал его быстро, секунд за 10. Потом останавливал опять, сравнивал и получил описанные в предыдущем сообщении результаты:(
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193025"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193025/">#</a>
            5 лет, 1 месяц назад
            
                (отредактировано
                
                    5 лет, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Shatur</em><br>Этот параметр (значение) как переключатель какой-то. Меняется туда-сюда во время разгона и становится на начальное значение во время максимальной скорости кулера.</blockquote>Странно. Эти значения связаны с мощностью куллера, которая, я думаю, не прыгает туда-сюда во время разгона, а  только увеличивается.<br />А вообще то у тебя хоть мощность (обороты) куллера меняются? Это ведь можно определить по звуку. Я, например, четко слышу переход на следующую ступеньку.<br />1. Нужно выяснить - меняется ли мощность куллера при разгоне - попытайся выяснить это по звуку.<br />2. Я так и не понял - каковы максимальные и минимальные значения в этих ячейках.<br />3. Имеются ли ячейки, имеющие одинаковые значения (могут немного и отличаться, например, на 1), как без нагрузки, так и с нагрузкой.<br />4. Тип ноутбука - полное наименование и обозначение. И что то мне припоминается, что ты делал замену, не помню чего. Тогда, возможно, причина может быть и в этом.<br />5. Если так ничего и неопределится, пробуй поработать с утилитой  <strong>NBFC</strong> (NoteBook FanControl) — она построена на этом же принципе - может эта утилита определит что там у тебя. В AUR <strong>nbfc</strong> нет, бери с <a href="https://github.com/hirschmann/nbfc">GitHub</a>.<br /><br /><em>PS ... если не получится, значит не судьба и причина в твоем переделанном железе.</em>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193056"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Shatur/">
                <span class="post-username">Shatur</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193056/">#</a>
            5 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/4d/9f/4d9f0d3dcf63ba77a7f946a6cf39f1a3.png" alt="Shatur avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Shatur/topics/">
                    28
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Shatur/posts/">
                    323
                </a>
            </div>
            <div>
                Участник с: 26 марта 2017
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Shatur</em><br>А вообще то у тебя хоть мощность (обороты) куллера меняются? Это ведь можно определить по звуку. Я, например, четко слышу переход на следующую ступеньку.</blockquote>Да, конечно, я четко слышу перемены.<br />Сейчас еще раз перепроверил - тоже самое. <a href="https://pastebin.com/yjSF5i4G">Вот</a> мой файл с дампом, первое состояние &quot;до&quot;, второе - &quot;средняя скорость вращения&quot;, третье - &quot;максимальная&quot;.<br />Отвечая на вопросы:<br />1. Да)<br />2. На единичку меняется с 39 на 40. В файле можно это увидеть.<br />3. Нет, другие ячейки не меняются вообще. В первый раз я писал, что еще одно значение на единичку прыгало все время вперед, в независимости от скорости кулера. При сегодняшнем тесте такого не наблюдал.<br />4. Имеются, но, как я написал выше, не меняются :(<br />5. Попробую) Уточню по поводу сборки - просто выполнить build.sh?<br /><br /><blockquote><em>vasek</em><br>PS ... если не получится, значит не судьба и причина в твоем переделанном железе.</blockquote>Странно, если так. Но я уже ничему не удивляюсь)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-193057"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/193057/">#</a>
            5 лет, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Shatur</em><br>Странно, если так. Но я уже ничему не удивляюсь)</blockquote>Да, такое впечатление, что вентилятор не управляется через embedded controller, читал, что такое случается на определенных типах ноутбуков, но сам сталкиваюсь с таким впервые.  Получается, что нет смысла пробовать и утилиту NBFC.<br />Что то у тебя со своим железом все не так как у других.<br />Правда вспомнился один совет на одном из топиков - у ТС то же ничего не находилось и ему посоветовали обновить BIOS - вероятность небольшая, но есть.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=2" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=3">3 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=4" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/17699/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747a44f6cea200a5',m:'9ZX4dXX_fJu.REMPy8Jpi5Ihb1GID72o6TM_ROpnRKc-1662667220-0-AatmJ4nstYfvFPL9+ehZUl+sAXNS62BO41UtL9Nk9hbJapZHA594XJibv+HK59VYiEeYo6J3/sdLOuHQt1d9nxBQQSGCY/dy2NW1UaRzbh2Tz3Id7feHnE5GSiBs9l0syiJGWaUHZ0Yb0oQdRO5Aeyg=',s:[0xf55eda6a15,0x0b33a8ceb2],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
