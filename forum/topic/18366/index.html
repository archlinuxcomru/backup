


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/18366/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:16:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [Решено]Не могу победить exfat
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/3/index.html">Пакетная система</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/8/index.html">Сборка пакетов</a> <span class="divider">/</span></li>
            
        
        
            <li>[Решено]Не могу победить exfat</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[Решено]Не могу победить exfat</h1>
        
            <div class="text-center">
    



</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-203032"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Funk2256/index.html">
                <span class="post-username">Funk2256</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/203032/index.html">#</a>
            4 года, 5 месяцев назад
            
                (отредактировано
                
                    4 года, 5 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Funk2256/topics/index.html">
                    9
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Funk2256/posts/index.html">
                    17
                </a>
            </div>
            <div>
                Участник с: 19 марта 2018
            </div>
            
        </td>
        <td class="post-content">
            Доброго всем. Нужен exfat, но не собирается.<br /><pre><code>[funk2256@PC ~]$ yaourt -S exfat-dkms-git

==&gt; Загрузка PKGBUILD exfat-dkms-git из AUR...
x .SRCINFO
x PKGBUILD
x dkms.conf
balwierz commented on 2016-10-11 12:22
Thank you very much @evana !
Works well
(1/1) Install DKMS modules
== dkms install -m exfat -v 163.7e3b251 -k 4.7.6-1-zen
== dkms install -m exfat -v 163.7e3b251 -k 4.8.0-1-ARCH
frederik commented on 2017-01-14 00:36
This requires exfat-utils-nofuse because exfat-utils uses the fuse driver by default (instead of this kernel module).

Vaporeon commented on 2017-03-12 16:23
I thought this had problems on x86 and they said it need to be rewritten for it?

rlefevre commented on 2017-08-17 17:51
Build fails with kernel 4.12 because CURRENT_TIME_SEC has been removed:

make -C /usr/lib/modules/4.12.6-1-ARCH/build M=/var/lib/dkms/exfat/192.ef703b2/build modules
make[1]: Entering directory &#39;/usr/lib/modules/4.12.6-1-ARCH/build&#39;
CC [M]  /var/lib/dkms/exfat/192.ef703b2/build/exfat_core.o
CC [M]  /var/lib/dkms/exfat/192.ef703b2/build/exfat_super.o
/var/lib/dkms/exfat/192.ef703b2/build/exfat_super.c: In function ‘exfat_create’:
/var/lib/dkms/exfat/192.ef703b2/build/exfat_super.c:733:7: error: ‘CURRENT_TIME_SEC’ undeclared (first use in this function); did you mean ‘CURRENT_MASK’?
ts = CURRENT_TIME_SEC;
^~~~~~~~~~~~~~~~
The git version should be updated to at least the following commit:

<a href="https://github.com/dorimanx/exfat-nofuse/commit/1e91a9feb0e45161d3c02f9257a9b6c44b9e2739">https://github.com/dorimanx/exfat-nofuse/commit/1e91a9feb0e45161d3c02f9257a9b6c44b9e2739</a>

I used de4c760 locally to fix the issue.

rtfreedman commented on 2017-08-18 01:16
You&#39;re using an outdated (192.ef703b2) package with a new kernel.
Please rebuild to get exfat-dkms-git-196.de4c760-1-any.pkg.tar.xz

exfat-dkms-git 184.8d291f5-1  (2017-01-14 00:34)
( Неподдерживаемый пакет: Потенциально опасен ! )
==&gt; Отредактировать PKGBUILD ? Да/нет [Y/n] (&quot;A&quot; для отмены)
==&gt; --------------------------------------------------------
==&gt; Y

Пожалуйста, добавьте $VISUAL к переменным окружения
например:
export VISUAL=&quot;vim&quot; (в ~/.bashrc)
(замените vim на ваш любимый редактор)

==&gt; Отредактировать PKGBUILD при помощи:  nano

==&gt; зависимости exfat-dkms-git:
 - git (уже установлен) [makedepend]
 - dkms (пакет найден)
 - exfat-utils-nofuse (сборка из AUR)
==&gt; Продолжить сборку exfat-dkms-git ? Да/нет [Y/n]
==&gt; -----------------------------------------------
==&gt; Y

==&gt; Сборка и установка пакета
==&gt; Установить или собрать отсутствующие зависимости exfat-dkms-git:
[sudo] пароль для funk2256:
разрешение зависимостей...
проверка конфликтов...

Пакеты (1) dkms-2.5-1.0

Будет установлено:  0,23 MiB

:: Приступить к установке? [Y/n] Y
(1/1) проверка ключей                              [######################] 100%
(1/1) проверяется целостность пакета               [######################] 100%
(1/1) загрузка файлов пакетов                      [######################] 100%
(1/1) проверка конфликтов файлов                   [######################] 100%
(1/1) проверяется доступное место                  [######################] 100%
:: Обработка изменений пакета...
(1/1) установка dkms                               [######################] 100%
Дополнительные зависимости для &#39;dkms&#39;
    linux-headers: build modules against the Arch kernel [установлено]
    linux-lts-headers: build modules against the LTS kernel
    linux-zen-headers: build modules against the ZEN kernel
    linux-hardened-headers: build modules against the HARDENED kernel
:: Работа послеоперационных перехватов...
(1/1) Arming ConditionNeedsUpdate...

==&gt; Загрузка PKGBUILD exfat-utils-nofuse из AUR...
x .SRCINFO
x PKGBUILD
frederik commented on 2017-01-14 00:37
This is required by exfat-dkms-git because exfat-utils uses the fuse driver by default (instead of the exfat kernel module).

moonman commented on 2017-01-28 20:46
Something is terribly wrong with this package as ./configure runs in an infinite loop. Haven&#39;t yet looked at what&#39;s wrong.

frederik commented on 2017-01-29 02:08
@moonman No problems here, sorry

moonman commented on 2017-01-29 02:42
@frederik cheers. You are right Something is wrong with the machine I tried it on. My main machine is fine. Thanks.

Medved commented on 2018-01-14 04:06

exfat-utils-nofuse 1.2.8-1  (2018-02-03 20:16)
( Неподдерживаемый пакет: Потенциально опасен ! )
==&gt; Отредактировать PKGBUILD ? Да/нет [Y/n] (&quot;A&quot; для отмены)
==&gt; --------------------------------------------------------
==&gt; y

==&gt; зависимости exfat-utils-nofuse:
 - glibc (уже установлен)
==&gt; Продолжить сборку exfat-utils-nofuse ? Да/нет [Y/n]
==&gt; ---------------------------------------------------
==&gt; Y

==&gt; Сборка и установка пакета
==&gt; Сборка пакета exfat-utils-nofuse 1.2.8-1 (Ср апр  4 00:38:06 +07 2018)
==&gt; Проверка зависимостей для запуска...
==&gt; Проверка зависимостей для сборки...
==&gt; Получение исходных файлов...
  -&gt; Загрузка exfat-1.2.8.tar.gz...
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   119    0   119    0     0    111      0 --:--:--  0:00:01 --:--:--   111
100 55911  100 55911    0     0  21562      0  0:00:02  0:00:02 --:--:--  113k
==&gt; Проверка файлов source с использованием sha512sums...
    exfat-1.2.8.tar.gz ... Готово
==&gt; Распаковка исходных файлов...
  -&gt; Распаковка &#39;exfat-1.2.8.tar.gz&#39; с помощью bsdtar
==&gt; Запускается build()...
configure.ac:32: installing &#39;./ar-lib&#39;
configure.ac:29: installing &#39;./compile&#39;
configure.ac:28: installing &#39;./install-sh&#39;
configure.ac:28: installing &#39;./missing&#39;
dump/Makefile.am: installing &#39;./depcomp&#39;
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /usr/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking for gcc option to accept ISO C99... none needed
checking for ranlib... ranlib
checking for ar... ar
checking the archiver (ar) interface... ar
checking for special C compiler options needed for large files... no
checking for _FILE_OFFSET_BITS value needed for large files... 64
checking for pkg-config... /usr/bin/pkg-config
checking pkg-config is at least version 0.9.0... yes
checking for fuse... no
configure: error: Package requirements (fuse) were not met:

No package &#39;fuse&#39; found

Consider adjusting the PKG_CONFIG_PATH environment variable if you
installed software in a non-standard prefix.

Alternatively, you may set the environment variables FUSE_CFLAGS
and FUSE_LIBS to avoid the need to call pkg-config.
See the pkg-config man page for more details.
==&gt; ОШИБКА: Произошел сбой в build().
    Прерывание...
==&gt; ОШИБКА: Makepkg не смог собрать exfat-utils-nofuse.
==&gt; Перезапустить сборку exfat-utils-nofuse ? да/Нет [y/N]
==&gt; ------------------------------------------------------
==&gt; b
==&gt; ВНИМАНИЕ: Зависимости были установлены до сбоя
[sudo] пароль для funk2256:
проверка зависимостей...

Пакеты (1) dkms-2.5-1.0

Будет освобождено:  0,23 MiB

:: Удалить эти пакеты? [Y/n] n
==&gt; Перезапустить сборку exfat-dkms-git ? да/Нет [y/N]
==&gt; --------------------------------------------------
==&gt; n
</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-203033"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vs220/index.html">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/203033/index.html">#</a>
            4 года, 5 месяцев назад
            
                (отредактировано
                
                    4 года, 5 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vs220/topics/index.html">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vs220/posts/index.html">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Funk2256</em><br>configure: error: Package requirements (fuse) were not met:<br /><br />No package &#39;fuse&#39; found</blockquote>..<br /><pre><code>pacman -S fuse2 fuse3 fuse-common confuse</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-203037"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/akorop/index.html">
                <span class="post-username">akorop</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/203037/index.html">#</a>
            4 года, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/akorop/topics/index.html">
                    111
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/akorop/posts/index.html">
                    1755
                </a>
            </div>
            <div>
                Участник с: 29 февраля 2012
            </div>
            
        </td>
        <td class="post-content">
            А зачем что-то собрать? Есть community/exfat-utils .
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-203047"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/Funk2256/index.html">
                <span class="post-username">Funk2256</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/203047/index.html">#</a>
            4 года, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/Funk2256/topics/index.html">
                    9
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/Funk2256/posts/index.html">
                    17
                </a>
            </div>
            <div>
                Участник с: 19 марта 2018
            </div>
            
        </td>
        <td class="post-content">
            Все ок, вопрос решен. Спасибо.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    



</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/index1d7b.html?next=/forum/topic/18366/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/18366/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:16:03 GMT -->
</html>
