


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [сервер] Машины домашней сети не получают http-траффик
    </title>
    <link rel="shortcut icon" href="https://archlinuxcomru.github.io/backup/src/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://archlinuxcomru.github.io/backup/src/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/13/">Сети, Серверы, Защита</a> <span class="divider">/</span></li>
            
        
        
            <li>[сервер] Машины домашней сети не получают http-траффик</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[сервер] Машины домашней сети не получают http-траффик</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122255"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zyamilon/">
                <span class="post-username">zyamilon</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122255/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/05/38/0538daba4df4f04651565001ab83f69b.png" alt="zyamilon avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zyamilon/topics/">
                    6
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zyamilon/posts/">
                    68
                </a>
            </div>
            <div>
                Участник с: 02 апреля 2012
            </div>
            
        </td>
        <td class="post-content">
            Доброго времени суток!<br/>Ребята, нужна помощь. Я уже просто не знаю куда копать дальше.<br/><br/>Имеется несколько по-дурацки построенная домашняя сеть. Камни за ip прошу не бросать, так вышло по историческим и виндовым причинам.<br/>Объясню кратко схему - имеется сервер на арче (192.138.137.11), который получает интернет от провайдера через vpn (l2tp) и раздает его дальше, домашнюю сеть. Сам сервер является также фаерволлом, сид-боксом, файлохранилкой и прочим-прочим.<br/><br/>Года 2 он раздавал себе всё спокойненько и вот недавно произошло <strong>нечто</strong> ужасное. Придя домой с работы я обнаружил, что ни одна http-страничка с windows-машины и далее в домашней сети (с ноутбуков и проч. устройст) не открывается, хотя всё прекрасно пингуется и резольвится. Перезагрузился - не помогло. Сделал апдейт - тоже.<br/>На сервере при этом сайты открываются.<br/><br/>Так и не осилив проблему, я временно вернулся к старой-старой конфигурации (воткнул сетевой кабель в windows-машину).<br/><br/>-----<br/>Итак, <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/network_schema-01.png">схема домашней сети</a>. Я не художник и не инженер, потому сделал так, как смог. :)<br/><br/>Далее, настройки сети на сервере. Здесь всё хорошо, всё пингуется, в браузере на сервере (у меня там xbmc еще, так что наличию гуи не удивляйтесь) сайты открываются.<br/><div class="code"><pre>┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="28525149454968495a4d5b">[email&#160;protected]</a>:~ (09:24) !508]
└─$ uname -a
Linux ares 3.11.5-1-ARCH #1 SMP PREEMPT Mon Oct 14 08:49:01 CEST 2013 i686 GNU/Linux
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8bf1f2eae6eacbeaf9eef8">[email&#160;protected]</a>:~ (09:24) !509]
└─$ ifconfig -a
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.137.11  netmask 255.255.255.0  broadcast 192.168.137.255
        inet6 fe80::b248:7aff:fe80:690  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether b0:48:7a:80:06:90  txqueuelen 1000  (Ethernet)
        RX packets 15530564  bytes 15530496470 (14.4 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 13711472  bytes 17325217405 (16.1 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
eth1: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.17.23.29  netmask 255.255.255.0  broadcast 10.17.23.255
        inet6 fe80::217:31ff:fe93:4363  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 00:17:31:93:43:63  txqueuelen 1000  (Ethernet)
        RX packets 671432  bytes 208621798 (198.9 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 972317  bytes 641053591 (611.3 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 0  (Local Loopback)
        RX packets 9234529  bytes 1281643596 (1.1 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9234529  bytes 1281643596 (1.1 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
ppp0: flags=4305&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt;  mtu 1456
        inet 109.*.*.*  netmask 255.255.255.255  destination *.*.*.*
        ppp  txqueuelen 3  (Point-to-Point Protocol)
        RX packets 1091  bytes 177783 (173.6 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 1236  bytes 154118 (150.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8ef4f7efe3efceeffcebfd">[email&#160;protected]</a>:~ (09:24) !510]
└─$ ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether b0:48:7a:80:06:90 brd ff:ff:ff:ff:ff:ff
    inet 192.168.137.11/24 brd 192.168.137.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::b248:7aff:fe80:690/64 scope link
       valid_lft forever preferred_lft forever
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 00:17:31:93:43:63 brd ff:ff:ff:ff:ff:ff
    inet 10.17.23.29/24 brd 10.17.23.255 scope global eth1
       valid_lft forever preferred_lft forever
    inet6 fe80::217:31ff:fe93:4363/64 scope link
       valid_lft forever preferred_lft forever
11: ppp0: &lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt; mtu 1456 qdisc pfifo_fast state UNKNOWN qlen 3
    link/ppp
    inet 109.*.*.* peer 78.*.*.*/32 scope global ppp0
       valid_lft forever preferred_lft forever
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0e74776f636f4e6f7c6b7d">[email&#160;protected]</a>:~ (09:25) !511]
└─$ ip ro
default dev ppp0  scope link
10.0.0.0/8 via 10.17.23.1 dev eth1
10.0.100.42 via 10.17.23.1 dev eth1
10.17.23.0/24 dev eth1  proto kernel  scope link  src 10.17.23.29
78.*.*.* dev ppp0  proto kernel  scope link  src 109.*.*.*
192.168.137.0/24 dev eth0  proto kernel  scope link  src 192.168.137.11
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="03797a626e624362716670">[email&#160;protected]</a>:~ (09:27) !520]
└─$ ping habrahabr.ru
PING habrahabr.ru (212.24.43.46) 56(84) bytes of data.
64 bytes from front-bri.habrahabr.ru (212.24.43.46): icmp_seq=1 ttl=117 time=31.1 ms
64 bytes from front-bri.habrahabr.ru (212.24.43.46): icmp_seq=2 ttl=117 time=31.0 ms
64 bytes from front-bri.habrahabr.ru (212.24.43.46): icmp_seq=3 ttl=117 time=30.9 ms
64 bytes from front-bri.habrahabr.ru (212.24.43.46): icmp_seq=4 ttl=117 time=30.8 ms
^C
--- habrahabr.ru ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3002ms
rtt min/avg/max/mdev = 30.889/31.017/31.131/0.234 ms</pre></div>iptables. Упростил конфиг. Здесь тоже вроде как всё хорошо. Если iptables выключить, то машины домашей сети даже пинговать внешние ресурсы не смогут.<br/><div class="code"><pre>┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="374d4e565a567756455244">[email&#160;protected]</a>:~ (09:25) !512]
└─$ cat /proc/sys/net/ipv4/ip_forward
1
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bfc5c6ded2deffdecddacc">[email&#160;protected]</a>:~ (09:25) !513]
└─$ sudo systemctl status iptables
[sudo] password for zyama:
iptables.service - Packet Filtering Framework
   Loaded: loaded (/usr/lib/systemd/system/iptables.service; enabled)
   Active: active (exited) since Вт 2013-10-29 07:09:23 YEKT; 2h 16min ago
  Process: 5069 ExecStop=/usr/lib/systemd/scripts/iptables-flush (code=exited, status=0/SUCCESS)
  Process: 5072 ExecStart=/usr/bin/iptables-restore /etc/iptables/iptables.rules (code=exited, status=0/SUCCESS)
 Main PID: 5072 (code=exited, status=0/SUCCESS)
   CGroup: /system.slice/iptables.service
окт 29 07:09:23 ares systemd[1]: Starting Packet Filtering Framework...
окт 29 07:09:23 ares systemd[1]: Started Packet Filtering Framework.
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1f65667e727e5f7e6d7a6c">[email&#160;protected]</a>:~ (09:26) !514]
└─$ sudo iptables -L
Chain INPUT (policy DROP)
target     prot opt source               destination
           all  --  anywhere             anywhere
           all  --  anywhere             anywhere
ACCEPT     all  --  anywhere             anywhere
ACCEPT     all  --  anywhere             anywhere
ACCEPT     all  --  anywhere             anywhere
ACCEPT     icmp --  anywhere             anywhere
ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED
open       all  --  anywhere             anywhere
DROP       tcp  --  anywhere             anywhere             tcp dpt:8092
DROP       tcp  --  anywhere             anywhere             tcp dpt:zabbix-agent
DROP       udp  --  anywhere             anywhere             udp dpt:domain
DROP       tcp  --  anywhere             anywhere             tcp dpt:domain
DROP       tcp  --  anywhere             anywhere             tcp dpt:svn
DROP       udp  --  anywhere             anywhere             udp dpt:svn
Chain FORWARD (policy ACCEPT)
target     prot opt source               destination
Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
Chain open (1 references)
target     prot opt source               destination
ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:10443
ACCEPT     udp  --  anywhere             anywhere             udp dpt:10443
ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http
ACCEPT     tcp  --  anywhere             anywhere             tcp dpts:6881:6887
ACCEPT     udp  --  anywhere             anywhere             udp dpts:6881:6887
ACCEPT     tcp  --  anywhere             anywhere             tcp dpts:52000:53000
ACCEPT     udp  --  anywhere             anywhere             udp dpts:52000:53000
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f58f8c949894b594879086">[email&#160;protected]</a>:~ (09:26) !515]
└─$ sudo iptables -L -t nat
Chain PREROUTING (policy ACCEPT)
target     prot opt source               destination
Chain INPUT (policy ACCEPT)
target     prot opt source               destination
Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
Chain POSTROUTING (policy ACCEPT)
target     prot opt source               destination
MASQUERADE  all  --  anywhere             anywhere
MASQUERADE  all  --  anywhere             anywhere
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a3d9dac2cec2e3c2d1c6d0">[email&#160;protected]</a>:~ (09:27) !519]
└─$ sudo iptables -S
-P INPUT DROP
-P FORWARD ACCEPT
-P OUTPUT ACCEPT
-N open
-A INPUT -i eth1
-A INPUT -i eth1
-A INPUT -i eth0 -j ACCEPT
-A INPUT -i lo -j ACCEPT
-A INPUT -i eth1 -j ACCEPT
-A INPUT -p icmp -j ACCEPT
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A INPUT -j open
-A INPUT -p tcp -m tcp --dport 8092 -j DROP
-A INPUT -p tcp -m tcp --dport 10050 -j DROP
-A INPUT -p udp -m udp --dport 53 -j DROP
-A INPUT -p tcp -m tcp --dport 53 -j DROP
-A INPUT -p tcp -m tcp --dport 3690 -j DROP
-A INPUT -p udp -m udp --dport 3690 -j DROP
-A open -p tcp -m tcp --dport 10443 -j ACCEPT
-A open -p udp -m udp --dport 10443 -j ACCEPT
-A open -p tcp -m tcp --dport 80 -j ACCEPT
-A open -p tcp -m tcp --dport 6881:6887 -j ACCEPT
-A open -p udp -m udp --dport 6881:6887 -j ACCEPT
-A open -p tcp -m tcp --dport 52000:53000 -j ACCEPT
-A open -p udp -m udp --dport 52000:53000 -j ACCEPT
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="48323129252908293a2d3b">[email&#160;protected]</a>:~ (09:26) !518]
└─$ sudo iptables -S -t nat
-P PREROUTING ACCEPT
-P INPUT ACCEPT
-P OUTPUT ACCEPT
-P POSTROUTING ACCEPT
-A POSTROUTING -o ppp0 -j MASQUERADE
-A POSTROUTING -o eth1 -j MASQUERADE</pre></div><br/>Далее windows-машина. Единственная, которая 192.168.137.1.<br/><ul><li> <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_093526_route.png">маршруты</a>. Т.е. дефолтно через arch-сервер.<br/></li><li> попробуем <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_094007_LOR_ok.png">пропинговать linux.org.ru</a> . Тоже всё хорошо, ресурс пингуется и резольвится (впн-сервером провайдера).<br/></li><li> А теперь мистика, магия и паранормальные явления. Из браузера linux.org.ru, хабр, википедия и прочие сайты не открываются. Просто идёт загрузка странички и всё. Если попробовать скачать что-то вигетом, получаем <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_094410_wget_fail.png">следующее</a>.<br/>При этом yandex.ru, который у провайдера видимо локален, а также провайдерские сайты открываются, скайп работает (т.е. использует какие-то ноды, насколько мне известно).<br/></li><li> Недавно на место компьютера с win7 ради проверки поставил ноутбук с арчем. Тоже самое. Т.е. проблема либо в моем сервере, либо в оборудовании провайдера, либо магия.<br/></li><li> Прокси-серверов у меня нет.<br/></li></ul><br/>1. Что делать? Куда копать?<br/>2. Звонил в провайдера, спрашивал мб они что-то сделали со своим оборудованием и теперь такие домашние сети блокируют. Ответили что нет, таким не занимаются. И всё же, могли ли они как-то сделать это? Реально ли так блокировать nat?<br/><br/>p.s. пост вышел длинный, уж <em>извините</em>. Я постарался собрать нужную информацию, чтобы было нагляднее.
            
                
                    <div class="post-signature">
                        You will release your life<br />Joining with the god damned world of the dead and the lonely.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122256"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Natrio/">
                <span class="post-username">Natrio</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122256/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Natrio/topics/">
                    47
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Natrio/posts/">
                    4763
                </a>
            </div>
            <div>
                Участник с: 08 января 2011
            </div>
            
        </td>
        <td class="post-content">
            Попробуйте из локальной сети пинговать те же сайты, только с увеличенным размером пакета.<br/>Возможно, у вас проблемы с фрагментацией пакетов из-за не настроенного на вашем "сервере" согласования MTU локалки и L2TP.<br/><br/><em>P.S.</em><br/>Да, ваша сеть ужасна :)<br/>1) Почему нельзя подключить всё через роутер? В нём нет Ethernet-свича или он не понимает L2TP?<br/>2) Безотносительно роутера, зачем пропускать всё через ещё одну машину?! Тем более форточную... Тут у меня вообще не остаётся никаких рациональных объяснений.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122258"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zyamilon/">
                <span class="post-username">zyamilon</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122258/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/05/38/0538daba4df4f04651565001ab83f69b.png" alt="zyamilon avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zyamilon/topics/">
                    6
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zyamilon/posts/">
                    68
                </a>
            </div>
            <div>
                Участник с: 02 апреля 2012
            </div>
            
        </td>
        <td class="post-content">
            Спасибо за ответ, попробую и отпишусь.<br/>Т.е. мол пакет пакет внутри моей сети бъется, отправляется на vpn-сервер провайдера, тот не может его собрать/не понимает и отбрасывает?<br/><br/><blockquote>1) Почему нельзя подключить всё через роутер? В нём нет Ethernet-свича или он не понимает L2TP?<br/>2) Безотносительно роутера, зачем пропускать всё через ещё одну машину?! Тем более форточную... Тут у меня вообще не остаётся никаких рациональных объяснений.</blockquote><blockquote>Да, ваша сеть ужасна :)</blockquote>Ну, так получилось по историческим причинам, а сейчас что-то менять если, то нужно много времени. Здесь ведь и веб-сервер есть еще, самба, днс, мониторинг, торренты... В общем, уже нельзя "вот так вот просто взять и понять ip-адреса".<br/><blockquote>Почему нельзя подключить всё через роутер? В нём нет Ethernet-свича или он не понимает L2TP?</blockquote>1. не очень доверяю я ему, а перепрошивать с дефолтного на dd-wrt как-то опасно. Никогда этим не занимался. Насчет l2tp не знаю.<br/>2. он максимум на 100мб/с<br/>3. "вы - самое слабое звено. Прощайте!". Я опасаюсь, что его мощностей может не хватить на постоянную передачу кучи пакетов туда-сюда. Почти все файлы, включая аудио и видео на сервере хранятся же. +к тому вдруг он начнет тормозить, когда я, скажем, в mmo типа eve-online играю. Терять фан из-за слабенького роутера не хочется.<br/>4. в сетевом фильтре рядом с сервером нет свободного разъема...<br/>5. wifi-роутер появился сильно позже сервера<br/>В общем-то просто нужно будет много времени на то чтобы разобраться, перепрошить и потестировать.<br/><blockquote>зачем пропускать всё через ещё одну машину?! Тем более форточную... </blockquote>Свободных ethernet-портов на сервере не оказалось (их всего-то два), pci-слотов под сетевую карту тоже.<br/>А windows-машина работает 24/7, в основном из-за eve-online и лени, так что... Почему бы нет? :)<br/><br/>Кстати, почему "сервер" в кавычках? Домашний же.
            
                
                    <div class="post-signature">
                        You will release your life<br />Joining with the god damned world of the dead and the lonely.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122259"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/naszar/">
                <span class="post-username">naszar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122259/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/naszar/topics/">
                    21
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/naszar/posts/">
                    507
                </a>
            </div>
            <div>
                Участник с: 24 сентября 2012
            </div>
            
        </td>
        <td class="post-content">
            Нарыбачте на своем шлюзе пакетов со всех интерфейсов<br/><div class="code"><pre>tcpdump -i any -w full_dump.cap</pre></div>(во время ловли желательна бурная сетевая деятельность на подключенных машинах). И выкладывайте этот full_dump.cap.<br/>А может и не понадобится...<br/><blockquote>ppp0: flags=4305&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt;  mtu 1456</blockquote><blockquote>eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000</blockquote>Возможно спасет  правило:<br/><div class="code"><pre>iptables -o ppp0 -t mangle -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu</pre></div>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122264"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Natrio/">
                <span class="post-username">Natrio</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122264/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Natrio/topics/">
                    47
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Natrio/posts/">
                    4763
                </a>
            </div>
            <div>
                Участник с: 08 января 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>zyamilon</em><br/>пакет пакет внутри моей сети бъется, отправляется на vpn-сервер провайдера, тот не может его собрать/не понимает и отбрасывает?</blockquote>Примерно так. В этом случае вам поможет правило из предыдущего поста.<br/><br/><blockquote>он максимум на 100мб/с</blockquote>Неужели провайдер даёт вам скорость БОЛЬШЕ 100 мегабит/с?<br/><blockquote>Я опасаюсь, что его мощностей может не хватить на постоянную передачу кучи пакетов туда-сюда. Почти все файлы, включая аудио и видео на сервере хранятся же. +к тому вдруг он начнет тормозить, когда я, скажем, в mmo типа eve-online играю. Терять фан из-за слабенького роутера не хочется.</blockquote>Если у роутера много Ethernet-портов, значит в него встроен СВИЧ. А пропускная способность свича никак не зависит от "слабенького" процессора роутера – пакеты LAN-LAN будут проходит ТОЛЬКО через свич, мимо процессора.<br/><br/>Через процессор роутера идут пакеты из локалки к провайдеру, а скорость этого канала ограничена со стороны провайдера, и она заведомо ниже, чем внутри локалки.<br/><br/>По-моему единственное, чего вам НЕ может дать этот роутер – ГИГАБИТНОГО канала ВНУТРИ локалки. Если таковой вам ДЕЙСТВИТЕЛЬНО нужен – обзаведитесь гигабитным свичем. В принципе, даже если вы не доверяете роутеру <em>(тогда зачем было покупать, если не доверяете?)</em>, достаточно включить провайдера через ваш сервер (линуксовый), а остальное подключить к нему через отдельный свич, по желанию гигабитный.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122265"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zyamilon/">
                <span class="post-username">zyamilon</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122265/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/05/38/0538daba4df4f04651565001ab83f69b.png" alt="zyamilon avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zyamilon/topics/">
                    6
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zyamilon/posts/">
                    68
                </a>
            </div>
            <div>
                Участник с: 02 апреля 2012
            </div>
            
        </td>
        <td class="post-content">
            Пинги с сервера:<br/><div class="code"><pre>┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="99e3e0f8f4f8d9f8ebfcea">[email&#160;protected]</a>:ppp (13:41) !516]
└─$ ping -s 1300 -c 10 linux.org.ru
PING linux.org.ru (217.76.32.61) 1300(1328) bytes of data.
1308 bytes from linux.org.ru (217.76.32.61): icmp_seq=1 ttl=53 time=78.0 ms
1308 bytes from linux.org.ru (217.76.32.61): icmp_seq=2 ttl=53 time=77.9 ms
--- linux.org.ru ping statistics ---
10 packets transmitted, 10 received, 0% packet loss, time 9006ms
rtt min/avg/max/mdev = 77.856/78.222/79.190/0.479 ms
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a8d2d1c9c5c9e8c9dacddb">[email&#160;protected]</a>:ppp (13:42) !517]
└─$ ping -s 1500 -c 10 linux.org.ru
PING linux.org.ru (217.76.32.61) 1500(1528) bytes of data.
1508 bytes from linux.org.ru (217.76.32.61): icmp_seq=1 ttl=53 time=78.2 ms
1508 bytes from linux.org.ru (217.76.32.61): icmp_seq=2 ttl=53 time=79.0 ms
--- linux.org.ru ping statistics ---
10 packets transmitted, 10 received, 0% packet loss, time 8999ms
rtt min/avg/max/mdev = 77.927/78.269/79.018/0.448 ms
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="413b38202c200120332432">[email&#160;protected]</a>:ppp (13:42) !518]
└─$ ping -s 2000 -c 10 linux.org.ru
PING linux.org.ru (217.76.32.61) 2000(2028) bytes of data.
2008 bytes from linux.org.ru (217.76.32.61): icmp_seq=1 ttl=53 time=78.0 ms
2008 bytes from linux.org.ru (217.76.32.61): icmp_seq=2 ttl=53 time=78.4 ms
--- linux.org.ru ping statistics ---
10 packets transmitted, 10 received, 0% packet loss, time 9006ms
rtt min/avg/max/mdev = 78.087/78.976/82.075/1.245 ms
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3a40435b575b7a5b485f49">[email&#160;protected]</a>:ppp (13:47) !520]
└─$ ping -s 1500 -c 2 -M do linux.org.ru
PING linux.org.ru (217.76.32.61) 1500(1528) bytes of data.
From ares (109.198.250.47) icmp_seq=1 Frag needed and DF set (mtu = 1456)
From ares (109.198.250.47) icmp_seq=1 Frag needed and DF set (mtu = 1456)
--- linux.org.ru ping statistics ---
0 packets transmitted, 0 received, +2 errors</pre></div>В винде:<br/><a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_135121_ping-01.png">1</a>, <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_135121_ping-02.png">2</a>. Т.е. большие пакеты тоже проходят. Но может быть icmp как-то иначе обрабатываются и потому пропускаются?<br/>Ну в смысле вдруг некий человек настроил маршрутизатор провайдера так, что все пакеты свыше определнного (1456) будут дропаться, а icmp, т.к. они для отладки, будут пропускаться?<br/><br/>Так, попробую, пожалуй, установить mtu в 1300. Между сервером и виндовой машиной.
            
                
                    <div class="post-signature">
                        You will release your life<br />Joining with the god damned world of the dead and the lonely.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122266"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zyamilon/">
                <span class="post-username">zyamilon</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122266/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/05/38/0538daba4df4f04651565001ab83f69b.png" alt="zyamilon avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zyamilon/topics/">
                    6
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zyamilon/posts/">
                    68
                </a>
            </div>
            <div>
                Участник с: 02 апреля 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>Неужели провайдер даёт вам скорость БОЛЬШЕ 100 мегабит/с?</blockquote>Нет. У меня просто между сервером и вин-машиной гигабит. Ну для фильмов, музыки и прочего.<br/><br/><blockquote>тогда зачем было покупать, если не доверяете?</blockquote>Ну как, wifi же.
            
                
                    <div class="post-signature">
                        You will release your life<br />Joining with the god damned world of the dead and the lonely.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122268"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/domov0y/">
                <span class="post-username">domov0y</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122268/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/domov0y/topics/">
                    5
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/domov0y/posts/">
                    819
                </a>
            </div>
            <div>
                Участник с: 09 июля 2011
            </div>
            
        </td>
        <td class="post-content">
            Всего лишь?! "На что только русские не  пойдут лишь бы дороги не делать"(из анекдота)<br/> Вроде бы превращение машины в точку доступа это давно не секрет.  И усилий надо совсем немного.<br/><br/><a href="https://wiki.archlinux.org/index.php/Software_Access_Point">https://wiki.archlinux.org/index.php/Software_Access_Point</a>
            
                
                    <div class="post-signature">
                        Да пребудет с вами знание ip адреса
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122269"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Natrio/">
                <span class="post-username">Natrio</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122269/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Natrio/topics/">
                    47
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Natrio/posts/">
                    4763
                </a>
            </div>
            <div>
                Участник с: 08 января 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>zyamilon</em><br/>пинги с сервера</blockquote>С сервера у вас и так всё работает.<br/>Проверять надо НЕ с сервера <em>(его собственные исходящие в туннель изначально имеют MTU туннеля и не фрагментируются в принципе)</em>, а из локалки, с других машин ЧЕРЕЗ него – именно в этом случае происходят ошибки фрагментации.<br/><br/><blockquote>попробую, пожалуй, установить mtu в 1300</blockquote>Вам уже объяснили, что нужно сделать, правило готовое написали для согласования фрагментации пакетов. Но вы почему-то решили занизить MTU локалки, пропускной способностью которой вы так дорожите, причём НЕ ВСЕЙ, а только одной линии.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-122270"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/zyamilon/">
                <span class="post-username">zyamilon</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/122270/">#</a>
            8 лет, 10 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/05/38/0538daba4df4f04651565001ab83f69b.png" alt="zyamilon avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/zyamilon/topics/">
                    6
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/zyamilon/posts/">
                    68
                </a>
            </div>
            <div>
                Участник с: 02 апреля 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>Всего лишь?! "На что только русские не пойдут лишь бы дороги не делать"(из анекдота)</blockquote>Ну да, плюс в познавательных целях. Я раньше никогда с такими устройствами дела не имел. Даже свитча небыло никогда.<br/>И оно ведь pci-слот требует, а их (свободных) нет. Вообще все эти wifi мне казались очень-очень сложными, потому был куплен простенький роутер. Благо, не корова ведь по цене.<br/>Мама довольна и хорошо же.<br/>За ссылку спасибо, ознакомлюсь непременно.<br/><blockquote>его собственные исходящие в туннель изначально имеют MTU туннеля и не фрагментируются в принципе</blockquote>Хм, не знал.<br/><br/><blockquote>Вам уже объяснили, что нужно сделать, правило готовое написали для согласования фрагментации пакетов. Но вы почему-то решили занизить MTU локалки, пропускной способностью которой вы так дорожите, причём НЕ ВСЕЙ, а только одной линии. </blockquote>Ну а как иначе? Я перед операцией использовал правило, перезагрузил iptables, но не помогло. К тому же, оно сложное, для цепочки forward и я пока не понимаю его. Нужно почитать мануал. И, возможно, мне нужно было создать доп. правило для eth0. Разберемся...<br/><blockquote>iptables -o eth0 -t mangle -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu</blockquote>А тем временем...<br/><div class="code"><pre>┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e69c9f878b87a687948395">[email&#160;protected]</a>:network.d (14:35) !534]
└─$ ip link set dev eth0 mtu 1300
RTNETLINK answers: Operation not permitted
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f88281999599b8998a9d8b">[email&#160;protected]</a>:network.d (14:36) !535]
└─$ sudo ip link set dev eth0 mtu 1300
[sudo] password for zyama:
┌─[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f3898a929e92b392819680">[email&#160;protected]</a>:network.d (14:36) !536]
└─$ ip link
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1300 qdisc pfifo_fast state UP mode DEFAULT qlen 1000
    link/ether b0:48:7a:80:06:90 brd ff:ff:ff:ff:ff:ff
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT qlen 1000
    link/ether 00:17:31:93:43:63 brd ff:ff:ff:ff:ff:ff
12: ppp0: &lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt; mtu 1456 qdisc pfifo_fast state UNKNOWN mode DEFAULT qlen 3
    link/ppp </pre></div>, вот <a href="https://dl.dropboxusercontent.com/u/4360324/http-problem/scr_samantha_20131029_144648_mtu_bingo.png">так</a> и бинго!<br/><br/>Да, это костыль и так жить нельзя, будем адаптировать правило. Но хоть что-то! Теперь <em><strong>магия</strong></em> развеяна. Это еще не конец, но ОГРОМНОЕ спасибо, ребята! ^__^<br/>Зачем кому-то нужно было mtu - не ясно. Оптимизация нагрузок?<br/><br/><blockquote>Если у роутера много Ethernet-портов, значит в него встроен СВИЧ. А пропускная способность свича никак не зависит от "слабенького" процессора роутера – пакеты LAN-LAN будут проходит ТОЛЬКО через свич, мимо процессора.</blockquote>Спасибо, успокоили.<br/><blockquote>а остальное подключить к нему через отдельный свич, по желанию гигабитный</blockquote>Ну это минус розетка же и доп. устройство -&gt; пыль.<br/>Тем не менее, привести сеть в порядок нужно будет.<br/>А как быть, если роутер не осилит l2tp? Можно будет бридж сделать или как так его?
            
                
                    <div class="post-signature">
                        You will release your life<br />Joining with the god damned world of the dead and the lonely.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/12560/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747abb847d9b9d46',m:'ZHO3YmM6sZuBE6XezwmfkaeyZAqnq8ggDec.hjmIN7k-1662672079-0-AY7aRd5M2xY0/8hcSPU3mrkWb1bOieudCNYLh3jbOr5ud9IBxNcZl5jVunyOi7BfwqAtpqAvuwxD0EpwYLwJl+tZH/n5injNbWQLiIXEuuW0AhaZjHcS9BXnulO2gTEZ2gkK0w8s39uQr+DrbiruOLg=',s:[0x2c25f6d34a,0xe9e2133e04],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
