


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Отключение PowerMizer на картах NVIDIA
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/9/">Новичкам в Arch Linux</a> <span class="divider">/</span></li>
            
        
        
            <li>Отключение PowerMizer на картах NVIDIA</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Отключение PowerMizer на картах NVIDIA</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69435"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/serg/">
                <span class="post-username">serg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69435/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/serg/topics/">
                    12
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/serg/posts/">
                    302
                </a>
            </div>
            <div>
                Участник с: 18 декабря 2009
            </div>
            
        </td>
        <td class="post-content">
            В винде сделать это не так сложно через спецпрогу, но как вырубить нафик это в линуксе? А то бывает как - работает работает все норм, а потом композит начинает тормозить, хром начинает тормозить &#8230; В нвидиа сеттингс поставишь максимум перфоманс - все норм, но только до след. перезагрузки.<br/><br/>Погуглил немного и понял что 100% метода нет, везде одни костыли, привожу их здесь может кто откоментирует или добавит свой вариант, посерьезнее<br/><br/>1) для отключения PowerMizer во время питания от сети необходимо в файл /etc/modprobe.d/nvidia-kernel-nkc в строчку, начинающуюся с<br/>options nvidia<br/>добавить через пробел следующую настройку:<br/>NVreg_RegistryDwords=&ldquo;PerfLevelSrc=0x3322&rdquo;<br/>Т.е. строчка будет выглядеть примерно так:<br/>options nvidia NVreg_DeviceFileUID=0 NVreg_DeviceFileGID=44 NVreg_DeviceFileMode=0660 NVreg_RegistryDwords=&ldquo;PerfLevelSrc=0x3322&rdquo;<br/><br/>2) использую параметры powermizer в xorg.conf:<br/>Option &ldquo;RegistryDwords&rdquo; &ldquo;PowerMizerEnable=0x0; PerfLevelSrc=0x2222; PowerMizerDefault=0x1; PowerMizerDefaultAC=0x1&rdquo;<br/><br/>3) Для решения этой проблемы я использую следующий скрипт:<br/><br/>while true; do<br/>if on_ac_power; then<br/>nvidia-settings -q all &gt; /dev/null<br/>fi<br/>sleep 20;<br/>done<br/>Он не дает драйверу снижать частоты ядра и памяти видеокарты во время питания от сети. Если компьютер питается от батареи, придется потерпеть подтормаживания. Данный скрипт я сохранил в /usr/bin/powermizer-off , задал ему права на исполнение и добавил в автозапуск для своей сессии<br/>===========================================================<br/><br/>что думаете?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69436"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/mypucm/">
                <span class="post-username">mypucm</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69436/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/mypucm/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/mypucm/posts/">
                    13
                </a>
            </div>
            <div>
                Участник с: 25 июня 2009
            </div>
            
        </td>
        <td class="post-content">
            Не знаю поможет Вам это или нет, но для восстановления настроек драйвера при загрузке нужно добавить в автозагрузку <div class="code"><pre>nvidia-settings -l</pre></div> -l, &ndash;load-config-only<br/>              Load  the  configuration file, send the values specified therein<br/>              to the X server, and exit.  This mode of operation is useful  to<br/>              place in your .xinitrc file, for example.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69437"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/werlock/">
                <span class="post-username">werlock</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69437/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/werlock/topics/">
                    7
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/werlock/posts/">
                    29
                </a>
            </div>
            <div>
                Участник с: 03 января 2010
            </div>
            
        </td>
        <td class="post-content">
            Section &ldquo;Device&rdquo;<br/>Option &ldquo;RegistryDwords&rdquo; &ldquo;PowerMizerLevel=0x3&rdquo;<br/><br/>Выставляет powermizer на максимум
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69438"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nikisch/">
                <span class="post-username">nikisch</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69438/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nikisch/topics/">
                    7
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nikisch/posts/">
                    224
                </a>
            </div>
            <div>
                Участник с: 24 ноября 2009
            </div>
            
        </td>
        <td class="post-content">
            В настройках драйвера от нвидии есть галочки если что.<br/>Лично мне бы хотелось немного поднять обороты кулера на видеокарте. Уж больно она горячая в простое.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69439"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/serg/">
                <span class="post-username">serg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69439/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/serg/topics/">
                    12
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/serg/posts/">
                    302
                </a>
            </div>
            <div>
                Участник с: 18 декабря 2009
            </div>
            
        </td>
        <td class="post-content">
            <strong>mypucm</strong> не катит, повермизер не сохраняется на максимум перфоманс<br/><strong> Nikisch</strong> галочки такой НЕТ, если что. В противном случае приведи скрин где ставится и не слетает после ребута<br/><strong> werlock </strong> говорят на дрова от 190 и выше такой метод не работает. Проверял норм все?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69440"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nikisch/">
                <span class="post-username">nikisch</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69440/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nikisch/topics/">
                    7
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nikisch/posts/">
                    224
                </a>
            </div>
            <div>
                Участник с: 24 ноября 2009
            </div>
            
        </td>
        <td class="post-content">
            Это не то?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69441"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/serg/">
                <span class="post-username">serg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69441/">#</a>
            12 лет, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/serg/topics/">
                    12
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/serg/posts/">
                    302
                </a>
            </div>
            <div>
                Участник с: 18 декабря 2009
            </div>
            
        </td>
        <td class="post-content">
            жаль но все равно частота меняется исходя из инфы повермизера, то одно показывает, потом другое, та галочка лишь снимает его опрос на обновление каждые 10 секунд, тормоза также появляются спустя какое то время, приходится вручную ставить максимум перфоманс
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69442"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nikotin/">
                <span class="post-username">nikotin</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69442/">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nikotin/topics/">
                    7
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nikotin/posts/">
                    98
                </a>
            </div>
            <div>
                Участник с: 14 марта 2008
            </div>
            
        </td>
        <td class="post-content">
            Та же ситуация. Конфига xorg у меня вообще нет и без него все ок, единственное это powermizer задолбал. На вики есть<br/><div class="code"><pre>nvidia-settings --load-config-only</pre></div>Можно это добавить в автозагрузку, но я в самом .nvidia-settings-rc никаких настроек powermizer'a не увидел (кроме таймеров). Надеюсь в следующих версиях драйвера это как то вылечат.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69443"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/golan/">
                <span class="post-username">golan</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69443/">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/golan/topics/">
                    8
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/golan/posts/">
                    107
                </a>
            </div>
            <div>
                Участник с: 06 октября 2011
            </div>
            
        </td>
        <td class="post-content">
            Блин, дома ноут&#8230;<br/>Решение есть буквально одна строчка в скрипт и в автозапуск его. Вечером отпишусь. Если раньше не помогут.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-69444"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/golan/">
                <span class="post-username">golan</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/69444/">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/golan/topics/">
                    8
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/golan/posts/">
                    107
                </a>
            </div>
            <div>
                Участник с: 06 октября 2011
            </div>
            
        </td>
        <td class="post-content">
            Добавь такой скрипт в автозагрузку:<br/><div class="code"><pre>#!/bin/sh
# Загружаем настройки
nvidia-settings -l
# меняем с Adaptive на Maximum Performance
nvidia-settings -a [gpu:0]/GPUPowerMizerMode=1
exit 0</pre></div>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/7188/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747aaef8583100b8',m:'oRzGbgGMuTFkRZ34CrSZaNdh4w51XrZIp2fDG1GE9gs-1662671558-0-AfZk/nXYf4SXKcKhF8hLbb9jebLctlQfGf2R81Q01UXwcmNJU9qdrzt3+AOGd1sAymDfumXpCfEoaXClN4YeWfR8ZHVGTzJiJopt3NCIyrzcOg4Gk3lJw5r9f2n0M3aBCfPFTUAlWcvEizSLwdTm13U=',s:[0x5ef53f6e30,0x8f147bd738],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
