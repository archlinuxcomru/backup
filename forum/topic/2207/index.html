


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/2207/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 08:05:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Как приспособить скрипты от Nautilus к Thunar?
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/2/index.html">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/9/index.html">Новичкам в Arch Linux</a> <span class="divider">/</span></li>
            
        
        
            <li>Как приспособить скрипты от Nautilus к Thunar?</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Как приспособить скрипты от Nautilus к Thunar?</h1>
        
            <div class="text-center">
    



</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23238"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/zalexi/index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23238/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/zalexi/topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/zalexi/posts/index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            Как можно приспособить скрипты от Nautilus к Thunar?<br/>Пробовал просто копировать скрипты в папку <em>~/.config/Thunar/scripts</em><br/>Потом прописал в &ldquo;Особых действиях&rdquo; (<em>к примеру, вычисление и запись MD5 в файл вида &ldquo;старый_файл.md5&rdquo;)</em>:<br/><blockquote>Команда: /home/z/.config/Thunar/scripts/Security/Mkmd5 %N</blockquote>Но скрипт не сработал.<br/>Вот код скрипта:<br/><div class="code"><pre>#!/bin/bash
#########################################################
#							#
# This are NScripts v3.5				#
#							#
# Licensed under the GNU GENERAL PUBLIC LICENSE 3	#
#							#
# Copyright 2007 - 2008 Christopher Bratusek		#
#							#
#########################################################
echo $NAUTILUS_SCRIPT_SELECTED_URIS &gt; ~/.config/Thunar/temp_mkmd5_list
filesamount=$(wc -l ~/.config/Thunar/temp_mkmd5_list | awk '{print $1}')
step=$(($((100))/$(($filesamount))))
for file in $(cat ~/.config/Thunar/temp_mkmd5_list); do
if [[ -d "$file" ]]; then
exit
fi
percent=$(($(($percent))+$(($step))))
file_name=$(echo $file | sed -e 's/file:\/\///g' -e 's/\%20/\ /g')
filename=$(echo $file | sed -e 's/.*\///g' -e 's/\%20/\ /g')
(md5sum "$file_name" &gt; "$filename.md5") | zenity --progress --percentage $percent --auto-close
if [[ -a $filename.md5 ]]; then
	echo -e "\n========================================================" &gt;&gt; ~/.config/Thunar/mkmd5_result
	echo "MD5-Sum for $filename successfully created" &gt;&gt; ~/.config/Thunar/mkmd5_result;
else	echo -e "\n========================================================" &gt;&gt; ~/.config/Thunar/mkmd5_result
	echo "MD5-Sum for $filename not created" &gt;&gt; ~/.config/Thunar/mkmd5_result;
fi
done
zenity --text-info --title "Result" --width640 --height=480 --filename=$HOME/.config/Thunar/mkmd5_result
rm -f ~/.config/Thunar/temp_mkmd5_list ~/.config/Thunar/mkmd5_result</pre></div>При чём в Наутилусе скрипт работет!
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23239"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/leonardo19/index.html">
                <span class="post-username">leonardo19</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23239/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/a9/6a/a96a10f640be017dcd017364aa690659.png" alt="leonardo19 avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/leonardo19/topics/index.html">
                    40
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/leonardo19/posts/index.html">
                    848
                </a>
            </div>
            <div>
                Участник с: 25 ноября 2008
            </div>
            
        </td>
        <td class="post-content">
            Может быть, это поможет: <a href="http://www.salixos.org/forum/viewtopic.php?f=24&amp;t=1274">http://www.salixos.org/forum/viewtopic.php?f=24&amp;t=1274</a><br/>Сам не пробовал.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23240"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/zalexi/index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23240/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/zalexi/topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/zalexi/posts/index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <strong>2 Leonardo19</strong><br/>Благодарю, но не помогло. Похожий вариант у меня есть<br/><div class="code"><pre>zenity --info --title="Check md5 for %n" --text="$(md5sum %f)" | zenity --progress --percentage="40" --auto-kill --auto-close --title="Checksum utility" --text="Calculating md5sum for %n"</pre></div>Скрипт от Наутилуса записывает суммы в текстовый файл, и даже есть возможность выбирать файл или папку считать. Потом другим скриптом можно проверить на совпадение. Это актуально, так как много копирую на разные жесткие диски, были случаи, когда по размеру вроде как сходится файл, но оказывался поврежденным.<br/>Нашел еще интересный вариант, но только в командной строке:<br/><div class="code"><pre>find . -type f -exec md5sum '{}' \; &gt; ~/md5sums </pre></div>а эта команда для проверки:<br/><div class="code"><pre>md5sum -c ~/md5sums</pre></div>Вот прикрутить бы эти две команды к Тунару.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23241"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/konstantinov-ms/index.html">
                <span class="post-username">konstantinov-ms</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23241/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/konstantinov-ms/topics/index.html">
                    15
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/konstantinov-ms/posts/index.html">
                    636
                </a>
            </div>
            <div>
                Участник с: 29 ноября 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Zalexi</em><br/><blockquote>Команда: /home/z/.config/Thunar/scripts/Security/Mkmd5 %N</blockquote>Но скрипт не сработал.</blockquote><br/><div class="code"><pre>sh /home/z/.config/Thunar/scripts/Security/Mkmd5 %N</pre></div><br/>пробовали?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23242"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/zalexi/index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23242/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/zalexi/topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/zalexi/posts/index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            Пробовал. Не работает.
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23243"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/leonardo19/index.html">
                <span class="post-username">leonardo19</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23243/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/a9/6a/a96a10f640be017dcd017364aa690659.png" alt="leonardo19 avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/leonardo19/topics/index.html">
                    40
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/leonardo19/posts/index.html">
                    848
                </a>
            </div>
            <div>
                Участник с: 25 ноября 2008
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Zalexi</em><br/>Вот прикрутить бы эти две команды к Тунару.</blockquote>Я, к сожалению, не силен в скриптах. <strong>find . -type f -exec md5sum &lsquo;{}&rsquo; \; &gt; ~/md5sums</strong> работает в особых действиях, вторую команду видимо надо дополнить выводом информации через zenity.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-23244"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/zalexi/index.html">
                <span class="post-username">zalexi</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/23244/index.html">#</a>
            10 лет, 5 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/1d/25/1d250d53b460000058a6ec9526ad4076.png" alt="zalexi avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/zalexi/topics/index.html">
                    17
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/zalexi/posts/index.html">
                    185
                </a>
            </div>
            <div>
                Участник с: 16 марта 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote>работает в особых действиях</blockquote>Работает, я знаю. Вот как сделать, чтобы имя создаваемого файла md5 было &ldquo;старый_файл.md5&rdquo; и файл создавался в той же директории, где и проверяемый?
            
                
                    <div class="post-signature">
                        Нужно умереть молодым и сделать это как можно позже.
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    



</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/indexa29a.html?next=/forum/topic/2207/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/2207/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 08:05:57 GMT -->
</html>
