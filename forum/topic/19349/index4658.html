


<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from archlinux.org.ru/forum/topic/19349/?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:15:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [ПРОЙДЕН] pacman: квест (драконий уровень)
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="../../feeds/posts/index.html" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="../../feeds/topics/index.html" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="../../../index.html">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="../../../news/index.html">Новости</a></li>
    <li class="active"><a href="../../index.html">Форум</a></li>
    <li class=""><a href="../../../blogs/index.html">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_(Русский)">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="../../../irc/index.html#chat">IRC</a></li>
      <li class="dropdown">
        <a href="../../../accounts/login/index.html" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="../../../accounts/login/index.html">Вход</a></li>
          <li><a href="../../../accounts/register/index.html">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="../../../messages/inbox/index.html" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="../../../index.html">ArchLinux.org.ru</a></li>


    <li><a href="../../index.html">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="../../category/3/index.html">Пакетная система</a> <span class="divider">/</span></li>
            
                <li><a href="../../forum/7/index.html">Pacman и обновления</a> <span class="divider">/</span></li>
            
        
        
            <li>[ПРОЙДЕН] pacman: квест (драконий уровень)</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[ПРОЙДЕН] pacman: квест (драконий уровень)</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index2679.html?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index4658.html?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index9ba9.html?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218769"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vall/index.html">
                <span class="post-username">vall</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218769/index.html">#</a>
            3 года, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/75/16/7516abe53f0b63051ad4cbbbc3b45af7.png" alt="vall avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/vall/topics/index.html">
                    45
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vall/posts/index.html">
                    1786
                </a>
            </div>
            <div>
                Участник с: 28 марта 2017
            </div>
            
        </td>
        <td class="post-content">
            Лирика, но на будущее -- хотя бы раз в месяц<br /><pre><code>comm -13 &lt;(pacman -Qmq | sort) &lt;(pacman -Qqe | sort) &gt; pkglist</code></pre>Ну и бэкап никто не запрещает. Очень выручает - как видно - в таких случаях. Тот же <strong>fsarchiver</strong>, либо другое по вкусу.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218770"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/indeviral/index.html">
                <span class="post-username">indeviral</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218770/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/indeviral/topics/index.html">
                    38
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/indeviral/posts/index.html">
                    3165
                </a>
            </div>
            <div>
                Участник с: 10 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            Ну если вы уверены что в .log  есть все пакеты то парсер написать в принципе не проблема.<br /><br />А иначе, надо получить список всех файлов со всех пакетов и сравнить с вашими /usr/lib/*. В целом тоже решаемая задача.
            
                
                    <div class="post-signature">
                        Ошибки в тексте-неповторимый стиль автора©
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218771"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/nafanja/index.html">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218771/index.html">#</a>
            3 года, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/nafanja/topics/index.html">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/nafanja/posts/index.html">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            <blockquote><em>red</em><br>сильно муторно ( проще уж расковырять pacman.log</blockquote>это был вариант.<br />кстати рабочий, если уж все удалено в том числе и лог.
            
                
                    <div class="post-signature">
                        <a href="../10992/index.html">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218774"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218774/index.html">#</a>
            3 года, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Пользуясь случаем, провел ликбез внуку - провел эксперимент на своем HDD: удалил /var/lib/pacman/local<br /><strong>ls /var/lib/pacman/local</strong><br /><pre><code>ls: невозможно получить доступ к &#39;/var/lib/pacman/local&#39;: Нет такого файла или каталога</code></pre>Но беследно ничего из системы не удаляется - в файлах пакетов, находящихся в /var/lib/pacman/local, имеется файлик <strong>desc</strong>, в котором в самом начале прописано<br /><pre><code>%NAME%
aalib</code></pre>Потратив некоторое время на определение смещения получил следующее (привожу часть вывода)<br /><strong>sudo hexdump -C -s 169083185600 -n 10000K /dev/sda | grep &quot;%NAME%&quot;</strong><br /><pre><code>275e24aa00  25 4e 41 4d 45 25 0a 61  61 6c 69 62 0a 0a 25 56  |%NAME%.aalib..%V|
275e24fa00  25 4e 41 4d 45 25 0a 64  6d 69 64 65 63 6f 64 65  |%NAME%.dmidecode|
275e255a00  25 4e 41 4d 45 25 0a 6f  63 6c 2d 69 63 64 0a 0a  |%NAME%.ocl-icd..|
275e268a00  25 4e 41 4d 45 25 0a 66  61 61 63 0a 0a 25 56 45  |%NAME%.faac..%VE|
275e26ea00  25 4e 41 4d 45 25 0a 6c  69 62 66 66 69 0a 0a 25  |%NAME%.libffi..%|
275e270a00  25 4e 41 4d 45 25 0a 6d  65 73 61 0a 0a 25 56 45  |%NAME%.mesa..%VE|
275e274a00  25 4e 41 4d 45 25 0a 6c  69 62 78 38 36 65 6d 75  |%NAME%.libx86emu|
275e277a00  25 4e 41 4d 45 25 0a 79  61 6f 75 72 74 0a 0a 25  |%NAME%.yaourt..%|
275e27ba00  25 4e 41 4d 45 25 0a 6c  69 62 63 61 70 2d 6e 67  |%NAME%.libcap-ng|
275e28da00  25 4e 41 4d 45 25 0a 6d  65 6e 75 2d 63 61 63 68  |%NAME%.menu-cach|
275e294a00  25 4e 41 4d 45 25 0a 6e  74 70 0a 0a 25 56 45 52  |%NAME%.ntp..%VER|
275e297a00  25 4e 41 4d 45 25 0a 68  61 72 66 62 75 7a 7a 2d  |%NAME%.harfbuzz-|
275e298a00  25 4e 41 4d 45 25 0a 6c  69 62 6c 71 72 0a 0a 25  |%NAME%.liblqr..%|
275e29ca00  25 4e 41 4d 45 25 0a 67  72 61 70 68 69 74 65 0a  |%NAME%.graphite.|
275e2a1a00  25 4e 41 4d 45 25 0a 6e  61 75 74 69 6c 75 73 0a  |%NAME%.nautilus.|
275e2a8a00  25 4e 41 4d 45 25 0a 6c  69 62 6d 6f 64 70 6c 75  |%NAME%.libmodplu|
275e2ada00  25 4e 41 4d 45 25 0a 6c  69 62 67 73 66 0a 0a 25  |%NAME%.libgsf..%|
275e2afa00  25 4e 41 4d 45 25 0a 66  6c 61 73 68 70 6c 75 67  |%NAME%.flashplug|
275e2b4a00  25 4e 41 4d 45 25 0a 6c  69 62 65 76 64 65 76 0a  |%NAME%.libevdev.|
275e2c1a00  25 4e 41 4d 45 25 0a 63  75 70 73 2d 70 6b 2d 68  |%NAME%.cups-pk-h|
275e2c4a00  25 4e 41 4d 45 25 0a 6c  69 62 63 64 69 6f 2d 70  |%NAME%.libcdio-p|
275e2cba00  25 4e 41 4d 45 25 0a 6c  69 62 71 75 76 69 0a 0a  |%NAME%.libquvi..|
275e2f1a00  25 4e 41 4d 45 25 0a 78  6f 72 67 2d 78 70 72 6f  |%NAME%.xorg-xpro|
275e2f5a00  25 4e 41 4d 45 25 0a 6c  69 62 78 64 61 6d 61 67  |%NAME%.libxdamag|
275e2f7a00  25 4e 41 4d 45 25 0a 78  63 62 2d 75 74 69 6c 2d  |%NAME%.xcb-util-|
275e305a00  25 4e 41 4d 45 25 0a 6c  69 62 67 6c 76 6e 64 0a  |%NAME%.libglvnd.|
275e306a00  25 4e 41 4d 45 25 0a 70  6f 70 70 6c 65 72 0a 0a  |%NAME%.poppler..|
275e30da00  25 4e 41 4d 45 25 0a 64  76 64 2b 72 77 2d 74 6f  |%NAME%.dvd+rw-to|
275e317a00  25 4e 41 4d 45 25 0a 63  75 70 73 0a 0a 25 56 45  |%NAME%.cups..%VE|</code></pre>Некоторые имена не полные, но это мелочь, зная точное смещение не проблема получить полное имя.<br /><br /><strong>PS</strong> - это на случай, если нет файла pacman.log, а при наличии его все намного проще.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218776"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/red/index.html">
                <span class="post-username">red</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218776/index.html">#</a>
            3 года, 1 месяц назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/fd/eb/fdeb672af87b7c02419e9c58404908a5.png" alt="red avatar" />
    
</div>

            <div>
                Темы:
                <a href="../../users/red/topics/index.html">
                    30
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/red/posts/index.html">
                    1517
                </a>
            </div>
            <div>
                Участник с: 31 августа 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br>Можно, без всякого восстановления, загрузить DMDE for Linux и просто посмотреть будут ли показаны эти разделы, если будут, то зайти в них и посмотреть файлы. Надежды, конечно, мало, но посмотреть то можно, да даже и интересно.</blockquote>загрузил, попробовал<br />консольная версия не запускается, так как только для 32bit<br />графическая версия файлы не обнаружила, а только пустые папки по названиям которых в принципе наверное можно было бы восстановить имена пакетов, но из за ограничений самой программы(в бесплатной версии можно восстановить только файлы?) не удается восстановить пустые папки или как то получить сам их список<br />в принципе это повод задействовать другие программы для восстановления и попробовать добыть список имен каталогов, но уже нет желания этим заморачиваться так как уже почти добил pacman.log<br /><br /><blockquote><em>vasek</em><br>Пользуясь случаем, провел ликбез внуку &#8230;</blockquote>повезло внуку )
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218778"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vasek/index.html">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218778/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vasek/topics/index.html">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vasek/posts/index.html">
                    11320
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>red</em><br>консольная версия не запускается, так как только для 32bit</blockquote>У меня все работает, система 64-bit. Прога для Linux консольная (Version 3.4.4.740 (2018-08-03), запускаю командой<br /><pre><code>sudo ~/Документы/Редакторы/Дисковые_редакторы/DMDE/DMDE_linux/dmde</code></pre><a href="https://dmde.com/">сайт dmde</a>, качать Console for Linux, там же и описание и инструкции по использованию.<br />В основном использую в информационных целях, для анализа.<br /><br /><strong>PS</strong> - да, свободная версия видит не всегда, но для этого есть другой дисковый редактор (лучший, но коммерческий, правда можно нати keygen) <strong>WinHex</strong>, один минус - виндовая. Хотя, как уже писал, всегда можно вытащить все в ручную, мне это больше нравится - видишь и понимаешь что делаешь.<br /><br /><strong>EDIT 1</strong> - Привожу снимок запущенной DMDE - папка local уже на месте, открыл файл desc для пакета aalib<br /><a href="https://postimg.cc/zVy6yxsT"><img src="https://i.postimg.cc/zVy6yxsT/dmde-2.png"></a>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218784"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/indeviral/index.html">
                <span class="post-username">indeviral</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218784/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/indeviral/topics/index.html">
                    38
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/indeviral/posts/index.html">
                    3165
                </a>
            </div>
            <div>
                Участник с: 10 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            <pre><code>$ find /usr/ -type f -exec pacman -Fo {}  &gt;&gt; /tmp/pack \;
$ cat /tmp/pack |  awk &#39;{print $3}&#39; | sort | uniq -u
</code></pre>но это очень долго...<br /><br />p.s. нужно написать скрипт который возьмёт массив с именами файлов и при первом вхождение будет выкидывать из этого массива все файлы найденного пакета<br /><br />p.p.s. с массивами как-то не срослось...<br /><pre><code>find /usr -type f &gt; /tmp/list
touch  /tmp/notfound
while true; do
[ -s /tmp/list ] || exit
for f in $(cat /tmp/list); do
  name=`pacman -Foq &quot;$f&quot; | head -1`
  if [[ -z &quot;$name&quot; ]]; then
    echo &quot;$f&quot; &gt;&gt; /tmp/notfound
    del=$(echo $f | sed &#39;s/\//\\\//g&#39;)
    sed -i &quot;/${del}/d&quot; /tmp/list
    break
  fi
  echo $name &gt;&gt; /tmp/result
  delete=(`pacman -Flq $name`)
  for del in ${delete[@]}; do
    if [[ -f &quot;/$del&quot; ]]; then
      del=$(echo $del | sed &#39;s/\//\\\//g&#39;)
      sed -i &quot;/${del}/d&quot; /tmp/list
    fi
  done
  echo &quot;find $(cat /tmp/result | wc -l) pack, left $(cat /tmp/list | wc -l) file&quot;
  echo &quot;not found pack for $(cat /tmp/notfound | wc -l) file&quot;
  break
done
done
</code></pre>
            
                
                    <div class="post-signature">
                        Ошибки в тексте-неповторимый стиль автора©
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218787"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vs220/index.html">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218787/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vs220/topics/index.html">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vs220/posts/index.html">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>indeviral</em><br>find /usr/ очень долго</blockquote>Можно же не весь /usr шерстить а для начала переставить пакеты из списка<br /><br /><pre><code> pacman -Fo $(find /etc /opt /usr/bin  -type f)</code></pre><br />оставшиеся файлы (их на много меньше должно остаться) не принадлежащие пакетам смотреть lostfiles<br /><pre><code># pacman -Fo $(lostfiles)</code></pre><br />Но все равно будет показано много одинаковых пакетов содержащих один и тот же файл так что вручную разбираться придется<br /><br />Если лог пакмана сохранился то по вики восстановить базу
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218788"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/indeviral/index.html">
                <span class="post-username">indeviral</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218788/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/indeviral/topics/index.html">
                    38
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/indeviral/posts/index.html">
                    3165
                </a>
            </div>
            <div>
                Участник с: 10 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vs220</em><br>Можно же не весь /usr</blockquote>можно, достаточно /usr/bin /usr/lib /usr/share<br />в opt из офф репозитория всего 35 пакетов ложат файлы, тем более файлы этих пакетов присутствуют в /usr/lib и /usr/share<br />а /etc/ сканировать вообще бесполезно.<br /><br /><blockquote><em>vs220</em><br>Но все равно будет показано много одинаковых пакетов содержащих один и тот же файл так что вручную разбираться придется</blockquote>не будет если<br /><blockquote><em>indeviral</em><br>скрипт который возьмёт массив с именами файлов и при первом вхождение будет выкидывать из этого массива все файлы найденного пакета</blockquote>скрипт выше если есть желание можете проверить, на 1000 пакетов уходит ~5 часов(если уберёте лишнее будет ещё быстрее)<br />p.s.<br />правда на счёт точности пока ничего не скажу.
            
                
                    <div class="post-signature">
                        Ошибки в тексте-неповторимый стиль автора©
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-218789"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="../../users/vs220/index.html">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="../../post/218789/index.html">#</a>
            3 года, 1 месяц назад
            
                (отредактировано
                
                    3 года, 1 месяц назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="../../users/vs220/topics/index.html">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="../../users/vs220/posts/index.html">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>indeviral</em><br>не будет</blockquote>Я про подобное<br /><pre><code>usr/bin/nvidia-xconfig принадлежит extra/nvidia-390xx-utils 390.116-1
usr/bin/nvidia-xconfig принадлежит extra/nvidia-utils 430.26-1
usr/bin/nvidia-xconfig принадлежит archlinuxcn/nvidia-utils-beta 430.26-2
</code></pre><br /><blockquote><em>indeviral</em><br>/etc/ сканировать вообще бесполезно</blockquote>Не уверен но вроде есть пакеты только с конфигами
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="index2679.html?page=1" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="index2679.html?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="index4658.html?page=2">2 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="index9ba9.html?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexfdb0.html?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="indexaf4d.html?page=5">5</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="index9ba9.html?page=3" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="../../../accounts/register/index.html">Зарегистрироваться</a> или <a href="../../../accounts/login/index7a38.html?next=/forum/topic/19349/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

</body>

<!-- Mirrored from archlinux.org.ru/forum/topic/19349/?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Sep 2022 04:15:44 GMT -->
</html>
