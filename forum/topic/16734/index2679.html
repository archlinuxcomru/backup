


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        intel_pstate vs acpi-cpufreq
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/12/">Ядро и Железо</a> <span class="divider">/</span></li>
            
        
        
            <li>intel_pstate vs acpi-cpufreq</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>intel_pstate vs acpi-cpufreq</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176914"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Eva_Berg/">
                <span class="post-username">Eva_Berg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176914/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8d/04/8d04e9119ff01e488e9798a09050a20a.png" alt="Eva_Berg avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Eva_Berg/topics/">
                    35
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Eva_Berg/posts/">
                    424
                </a>
            </div>
            <div>
                Участник с: 08 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            Имеется ноут на i3, intel_pstate грузится по дефолту. У intel_pstate governor ondemand отсутствует как данность, cpupower frequency-info выдает что дескать intel_pstate пашет в режиме powersave, но только это какой то странный powersave, ибо частота ВСЕГДА 1.7 ггц (максимум), я наверное 1 раз только видела что было 1.68 ггц, 800 мгц (минимум) не видела отродясь.<br />Попробовала сделать в строку ядра intel_pstate=disable, стал грузиться acpi-cpufreq, ondemand работает (правда со стойким стремлением чуть что - моментально опрокинуть частоту к минимуму), вроде все нормально, но смущает солидное количество блогов да прочих &quot;мнений гуру&quot;, которые прям-таки всячески и наперебой советуют не пользоваться acpi-cpufreq при малейшей возможности, дескать &quot;intel_pstate весь из себя волшебный и крутой, все-все знает о процессоре, да дескать его powersave умней ondemand-а ацпи-шного, да ваще ацпи устарел&quot;, бла-бла-бла...<br />Я б возможно и поверила бы в &quot;умность&quot; powersave от intel_pstate, если бы хоть раз увидела проц на частоте ну хотя бы не 800 мгц, но хотя бы 1ггц или около того, но постоянная работа на максимуме в режиме powersave меня как то смущает.<br />Кто что может пояснить-посоветовать на эту тему?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176915"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Eva_Berg/">
                <span class="post-username">Eva_Berg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176915/">#</a>
            5 лет, 9 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8d/04/8d04e9119ff01e488e9798a09050a20a.png" alt="Eva_Berg avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Eva_Berg/topics/">
                    35
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Eva_Berg/posts/">
                    424
                </a>
            </div>
            <div>
                Участник с: 08 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            [<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="432126312403212631246e2d2c3726212c2c28">[email&#160;protected]</a> ~]$ cpupower frequency-info<br />analyzing CPU 0:<br />  driver: acpi-cpufreq<br />  CPUs which run at the same hardware frequency: 0<br />  CPUs which need to have their frequency coordinated by software: 0<br />  maximum transition latency: 10.0 us<br />  hardware limits: 782 MHz - 1.70 GHz<br />  available frequency steps:  1.70 GHz, 1.70 GHz, 1.60 GHz, 1.50 GHz, 1.40 GHz, 1.30 GHz, 1.20 GHz, 1.10 GHz, 1000 MHz, 900 MHz, 800 MHz, 782 MHz<br />  available cpufreq governors: ondemand performance<br />  current policy: frequency should be within 800 MHz and 1.70 GHz.<br />                  The governor &quot;ondemand&quot; may decide which speed to use<br />                  within this range.<br />  current CPU frequency: Unable to call hardware<br />  current CPU frequency: 800 MHz (asserted by call to kernel)<br />  boost state support:<br />    Supported: yes<br />    Active: yes<br />Вот на acpi-cpufreq вроде все как надо
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176916"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Aivar/">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176916/">#</a>
            5 лет, 9 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Aivar/topics/">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Aivar/posts/">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Eva_Berg</em><br>постоянная работа на максимуме в режиме powersave меня как то смущает.</blockquote>Понятное дело, ведь это определенно похоже на performance.<br /><br /><blockquote><em>Eva_Berg</em><br>ondemand работает (правда со стойким стремлением чуть что - моментально опрокинуть частоту к минимуму)</blockquote>Это нормальная работа ondemand: минимум-максимум-минимум. Плавную регулировку обеспечивает говернер conservative, но возможность его использования зависит от количества множителей процессора, т.е. если их больше двух. Покажите:<br /><pre><code>$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors
$ cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176919"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176919/">#</a>
            5 лет, 9 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <strong>Теория</strong> - INTEL_PSTATE позволяет лучше управлять частотой процессоров на Sandy Bridge (и более новых), чем стандартный планировщик ondemand.<br /><strong>Практика</strong> - в большей части признается лучше . …. но не все так однозначно - известны результаты ее применения когда и греется проц и выше частота ….. а потому лучше поэкспериментировать/помонитоить  на конкретном железе и выбрать наиболее подходящий вариант в зависимости от назначения/использования железа<br /><u>У меня  Sandy Bridge много тестил и для меня это очень хороший вариант.</u><br />Привожу некоторые результаты - от простоя до максимальной нагрузки (частота: min - 800, max - 2100)<br /><strong>1. При простое</strong> …...  температура 52 град.<br /><pre><code>$ grep MHz /proc/cpuinfo
cpu MHz		: 799.932
cpu MHz		: 828.515
cpu MHz		: 799.932
cpu MHz		: 799.932</code></pre><strong>2. При просмотре видео с жесткого диска</strong> ….. температура 55 град.<br /><pre><code>$ grep MHz /proc/cpuinfo
cpu MHz		: 974.633
cpu MHz		: 889.910
cpu MHz		: 960.021
cpu MHz		: 829.925</code></pre><strong>3.  При просмотре видео с yutub</strong> ….. температура 60 град.<br /><pre><code>$ grep MHz /proc/cpuinfo
cpu MHz		: 1452.593
cpu MHz		: 1464.770
cpu MHz		: 1430.548
cpu MHz		: 1586.535</code></pre><strong>4. 10 секундный stress-test</strong> (stress --cpu 4 --timeout 10s) ….. температура 70 град.<br /><pre><code>grep MHz /proc/cpuinfo
cpu MHz		: 2099.871
cpu MHz		: 2100.000
cpu MHz		: 2099.871
cpu MHz		: 2100.000</code></pre>
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176920"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Eva_Berg/">
                <span class="post-username">Eva_Berg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176920/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8d/04/8d04e9119ff01e488e9798a09050a20a.png" alt="Eva_Berg avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Eva_Berg/topics/">
                    35
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Eva_Berg/posts/">
                    424
                </a>
            </div>
            <div>
                Участник с: 08 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            $lscpu<br />Архитектура:x86_64<br />CPU op-mode(s):        32-bit, 64-bit<br />Порядок байт:Little Endian<br />CPU(s):                4<br />On-line CPU(s) list:   0-3<br />Thread(s) per core:    2<br />Ядер на сокет:2<br />Сокетов:        1<br />NUMA node(s):          1<br />ID прроизводителя:GenuineIntel<br />Семейство ЦПУ:6<br />Модель:          69<br />Имя модели:   Intel(R) Core(TM) i3-4010U CPU @ 1.70GHz<br />Степпинг:      1<br />CPU MHz:               800.000<br />CPU max MHz:           1701,0000<br />CPU min MHz:           782,0000<br />BogoMIPS:              3393.41<br />Виртуализация:VT-x<br />L1d cache:             32K<br />L1i cache:             32K<br />L2 cache:              256K<br />L3 cache:              3072K<br />NUMA node0 CPU(s):     0-3<br />Флаги:            fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm epb tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid xsaveopt dtherm ida arat pln pts<br /><br />говернора conservative у него нету, есть ток поверсейв и ондеманд для acpi-cpufreq и поверсейв и перфоманс для intel_pstate<br /><br />то есть если я правильно поняла,<br />$cpupower frequency-info<br /><br />показывает реально существующее положение дел и если intel_pstate упорно гоняет процессор на максимуме даже в режиме powersave, а acpi-cpufreq с ondemand таки меняет частоту от минимума до максимума, то рекомендуете поставить acpi-cpufreq и пофиг что разные гуры пишут про &quot;волшебный intel_pstate&quot;?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176925"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176925/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            powersave близок к ondemand — основное существенное отличие в том, что один управляет статически другой динамически.<br /><strong>Powersave</strong> - The CPUfreq governor &quot;powersave&quot; sets the CPU statically to the lowest frequency within the borders of scaling_min_freq and scaling_max_freq.<br /><strong>Ondemand</strong> - The CPUfreq governor &quot;ondemand&quot; sets the CPU depending on the current usage. To do this the CPU must have the capability to switch the frequency very quickly.<br />Насчет всяких мнений в интернете — пишут много, но это не значит, что это правильно …. например, наша Wiki пишет, что по умолчанию (в ArchLinux), в зависимости от модуля (<strike>на усмотрение юзера</strike> это уже от себя), по дефолту будет использоваться или  ondemand или powersave<br /><pre><code>Depending on the scaling driver, one of these governors will be loaded by default:
- ondemand for AMD and older Intel CPU.
- powersave for Intel CPUs using the intel_pstate driver (Sandy Bridge and newer).</code></pre>А вот выбор, что использовать, это уже каждый выбирает сам, в зависимости от железа и решаемых на нем задач....... Как правило, при решении больших вычислительных задач рекомендуется использовать intel_pstate<br />UPD ….  не понятно, почему у тебя при powersave все время установлена максимальная частота …. возможно слабоват ноутбук, мало памяти и др.....
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176947"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sirocco/">
                <span class="post-username">sirocco</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176947/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sirocco/topics/">
                    29
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sirocco/posts/">
                    2501
                </a>
            </div>
            <div>
                Участник с: 25 июля 2007
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Eva_Berg</em><br>то есть если я правильно поняла,<br />$cpupower frequency-info<br /><br />показывает реально существующее положение дел</blockquote>Для pstate не факт.<br />Попробуйте лучше pstate-frequency (из AUR)<br /><br />И почитайте описание<br /><br /><a href="https://github.com/pyamsoft/pstate-frequency">https://github.com/pyamsoft/pstate-frequency</a><br /><br />Сейчас пишу с такого же CPU<br /><pre><code>$ lscpu
Архитектура:x86_64
CPU op-mode(s):        32-bit, 64-bit
Порядок байт:Little Endian
CPU(s):                4
On-line CPU(s) list:   0-3
Thread(s) per core:    2
Ядер на сокет:2
Сокетов:        1
NUMA node(s):          1
ID прроизводителя:GenuineIntel
Семейство ЦПУ:6
Модель:          69
Имя модели:   Intel(R) Core(TM) i3-4010U CPU @ 1.70GHz
Степпинг:      1
</code></pre>В случае pstate powersave (на аккумуляторе) частота всегда 800.<br /><br />Может у Вас версия BIOS бажная?  
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-176969"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Medar/">
                <span class="post-username">Medar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/176969/">#</a>
            5 лет, 9 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Medar/topics/">
                    12
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Medar/posts/">
                    402
                </a>
            </div>
            <div>
                Участник с: 08 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Ты не смотри на частоту, ты смотри на то, сколько ноутбук проживет от батареи. По субъективным наблюдениям с pstate ноутбук от батареи работает дольше <strong>и шустрее</strong>, чем с acpi-cpufreq.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-177096"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Eva_Berg/">
                <span class="post-username">Eva_Berg</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/177096/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8d/04/8d04e9119ff01e488e9798a09050a20a.png" alt="Eva_Berg avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Eva_Berg/topics/">
                    35
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Eva_Berg/posts/">
                    424
                </a>
            </div>
            <div>
                Участник с: 08 августа 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vasek</em><br>UPD …. не понятно, почему у тебя при powersave все время установлена максимальная частота …. возможно слабоват ноутбук, мало памяти и др.....</blockquote>Самой непонятно, а ноут вряд ли можно к &quot;слабоватым&quot; отнести:<br /><br /><a href="https://www.citilink.ru/catalog/mobile/notebooks/944134/">http://www.citilink.ru/catalog/mobile/notebooks/944134/</a><br /><br />Спс за наводку на pstate-frequency, кажется начинаю понимать в чем дело. С intel_pstate проц пашет нонстоп в режиме Turbo Boost, стоит турбобуст отключить - сразу ну не до 800 конечно, но начинают появляться цифирки, отличные от 1.7ггц. Вот как бы сделать чтоб этот турбобуст включался только по необходимости.<br />И еще - intel_pstate сам резко швыряет частоту до 800 при питании от батареи, и так же резко поднимает до 1700 при питании от сети. Мб так конечно и &quot;по умному&quot;, но мне надо чтоб он это делал в зависимости от нагрузки, а не просто экономя батарею на свое усмотрение от того включен провод или нет. Я от батареи то его почти и не гоняю, но лишний грев мне ни к чему.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-177102"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/177102/">#</a>
            5 лет, 9 месяцев назад
            
                (отредактировано
                
                    5 лет, 9 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Eva_Berg</em><br>Вот как бы сделать чтоб этот турбобуст включался только по необходимости.<br />И еще - intel_pstate сам резко швыряет частоту до 800 при питании от батареи, и так же резко поднимает до 1700 при питании от сети. Мб так конечно и &quot;по умному&quot;, но мне надо чтоб он это делал в зависимости от нагрузки,</blockquote>Все стало понятно ........ совсем вышибло из головы этот <u>турбо</u> ….так как его у меня нет, то и забываю о нем. ….<br />Предлагаю поиграться со следующими параметрами<br />1. <strong>no_turbo</strong> ….  =1 - режим turbo отключен, =0 режим turbo включен<br />PSS ... <u>забыл по необходимости</u>  - встречались только срипты, менящие этот параметр в зависимости работы от сети или батареи ...<br />2.  <strong>max_perf_pct</strong> - максимальная производительность в процентах от максимальной частоты, <u>по дефолту = 100</u>.<br />Я как то игрался с этим параметром и устанавливал его = 50 , при этом значении у меня частота при проведении stress test (stress --cpu 4 --timeout 10s) не поднималась выше половины максимально частоты …... попробуй найти оптимальные для себя значение<br /><br />PS ... как всегда, забыл главное ....<br /># echo 50 &gt; /sys/devices/system/cpu/intel_pstate/max_perf_pct      <em>## 50 , конечно, мало .... может где то 70 -80 ...</em><br /># echo 1 &gt; /sys/devices/system/cpu/intel_pstate/no_turbo
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/16734/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747b50651b339daa',m:'tgNipi5W8wUnvnXYmuYR3Tm41NFfKoD1sIIIvJK3Lzs-1662678172-0-AeRdBG0JdY+lGvvh9Xk5zbZ39m4Y8PO8dU46F7WSi95QJ8I02EjzuRWvbv1ip+CIHThkvjLN0WwBj6Tfhdo/fPBRfF//uA1MfLK74OOAWB9TFjOxDtRCI7SVbbyXwOJ2oR83A9pfnHZ5vjE4jbhtW5M=',s:[0x8b254be8ee,0x2060567608],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
