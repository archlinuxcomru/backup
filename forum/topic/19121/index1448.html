


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        [РЕШЕНО] МФУ Kyocera Color M5521cdw сканирование через сеть
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/2/">Поддержка пользователей</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/9/">Новичкам в Arch Linux</a> <span class="divider">/</span></li>
            
        
        
            <li>[РЕШЕНО] МФУ Kyocera Color M5521cdw сканирование через сеть</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>[РЕШЕНО] МФУ Kyocera Color M5521cdw сканирование через сеть</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=9" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=7">7</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=8">8</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=9">9</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=10">10 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=11">11</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=11" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226200"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226200/">#</a>
            2 года, 7 месяцев назад
            
                (отредактировано
                
                    2 года, 7 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            Да, в невидящем только 2 обращения (против 4 в видящем) и коннект вообще нет.<br />Еще надо бы куда-то отписать, что необходимо добавить в зависимости sane openssl-1.0 (в дополнение к устанавливаемому по умлолчанию актуальному openssl) - без этого сетевые сканеры отваливаются (могут отваливаться, если их бэкэнды завязаны на версию 1.0).
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226202"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226202/">#</a>
            2 года, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>wau</em><br>No scanners were identified. If you were expecting something different, check that the scanner is plugged in, turned on and detected by the sane-find-scanner tool (if appropriate). Please read the documentation which came with this software (README, FAQ, manpages).</blockquote>Попробуй <u>для начала</u> создать правило udev, как описано <a href="https://help.ubuntu.ru/wiki/%D1%81%D0%BA%D0%B0%D0%BD%D0%B5%D1%80%D1%8B_%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1%D1%89%D0%B8%D1%85_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC_%D1%81_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC">здесь</a> - ... начинать с чего то нужно. А уж потом, если не поможет, можно использовать и другие способы ...
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226203"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226203/">#</a>
            2 года, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            удав создано и оно применяется для присоединяемых по юсб (ведь не для сетевых?) устройств. В давние убунтовские времена я с этим сталкивался и для выявления проблемы именно в этой плоскости запускали скаинмадж от рута (если от рута = ок. а от юзера фэйл =&gt; копаем удава).
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226204"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226204/">#</a>
            2 года, 7 месяцев назад
            
                (отредактировано
                
                    2 года, 7 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            Не понятно одно - если использовал strace, то там обязательно что то быть должно ... ошибка то серъезная - <strong>No scanners were identified</strong> - поищи - чтобы не тонуть в логах можно фильтровать лишнее, используя что то типа strace -e trace=file ...  strace -e trace=openat ... strace -e trace=network ... strace -e select,connect,recvfrom ... и др.<br /><br /><strong>PS</strong> - плохо знаю сетевые принтеры, но можно же использовать ping, сетевую трассировку, послушать порты и др. ...
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226205"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226205/">#</a>
            2 года, 7 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            Спасибо за дополнение с strace.<br />По file и openat - видно, что открывает файлы конфигов, пытается открыть по пути ./имя  (=нету) и там, где положено - /etc/sane (обстановка одинаковая на видящем и не видящем). Вывод огромен (думаю, для сокращения оставить только нужные конфиги и попробовать по новой). По netw лаконичнее, -<br /><pre><code>74813 socket(AF_NETLINK, SOCK_RAW|SOCK_CLOEXEC|SOCK_NONBLOCK, NETLINK_KOBJECT_UEVENT) = 3
74813 setsockopt(3, SOL_SOCKET, SO_ATTACH_FILTER, {len=10, filter=0x7ffdc1a81710}, 16) = 0
74813 setsockopt(3, SOL_SOCKET, SO_PASSCRED, [1], 4) = 0
74813 bind(3, {sa_family=AF_NETLINK, nl_pid=0, nl_groups=0x000002}, 12) = 0
74813 getsockname(3, {sa_family=AF_NETLINK, nl_pid=74813, nl_groups=0x000002}, [12]) = 0
74813 recvmsg(3, {msg_namelen=128}, 0)  = -1 EAGAIN (Ресурс временно недоступен)
74813 socket(AF_NETLINK, SOCK_RAW|SOCK_CLOEXEC, NETLINK_ROUTE) = 10
74813 bind(10, {sa_family=AF_NETLINK, nl_pid=0, nl_groups=00000000}, 12) = 0
74813 getsockname(10, {sa_family=AF_NETLINK, nl_pid=74813, nl_groups=00000000}, [12]) = 0
74813 sendto(10, {{len=20, type=RTM_GETLINK, flags=NLM_F_REQUEST|NLM_F_DUMP, seq=1581323089, pid=0}, {ifi_family=AF_UNSPEC, ...}}, 20, 0, {sa_family=AF_NETLINK, nl_pid=0, nl_groups=00000000}, 12) = 20

</code></pre><br />Про ресурс недоступен пишет про всякий из поименованных в числе конфигов отсутствующий сканер. Про имеющийся пишет так -<br /><br /><pre><code>
74964 openat(AT_FDCWD, &quot;/usr/lib/sane/libsane-kyocera_wc3.so.1&quot;, O_RDONLY) = 10
74964 close(10)                         = 0
74964 openat(AT_FDCWD, &quot;/usr/lib/sane/libsane-kyocera_wc3.so.1&quot;, O_RDONLY|O_CLOEXEC) = 10
74964 read(10, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0000-\0\0\0\0\0\0&quot;..., 832) = 832
74964 fstat(10, {st_mode=S_IFREG|0755, st_size=184454, ...}) = 0
74964 mmap(NULL, 2152504, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 10, 0) = 0x7f11540c1000
74964 mprotect(0x7f11540ce000, 2093056, PROT_NONE) = 0
74964 mmap(0x7f11542cd000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 10, 0xc000) = 0x7f11542cd000
74964 close(10)
....
74964 openat(AT_FDCWD, &quot;./kyocera_devices.conf&quot;, O_RDONLY) = -1 ENOENT (Нет такого файла или каталога)
74964 openat(AT_FDCWD, &quot;/etc/sane.d/kyocera_devices.conf&quot;, O_RDONLY) = 10
74964 fstat(10, {st_mode=S_IFREG|0644, st_size=4320, ...}) = 0
74964 read(10, &quot;# To add a network device, input&quot;..., 4096) = 4096
74964 openat(AT_FDCWD, &quot;./kyocera_wc3.conf&quot;, O_RDONLY) = -1 ENOENT (Нет такого файла или каталога)
74964 openat(AT_FDCWD, &quot;/etc/sane.d/kyocera_wc3.conf&quot;, O_RDONLY) = 11
74964 fstat(11, {st_mode=S_IFREG|0644, st_size=6279, ...}) = 0
74964 read(11, &quot;# Kyocera WC3 supported device\r\n&quot;..., 4096) = 4096
74964 read(11, &quot; d-Copia 5500MF\r\nA3 d-Copia 6500&quot;..., 4096) = 2183
74964 read(11, &quot;&quot;, 4096)                = 0
74964 close(11)                         = 0
74964 read(10, &quot;2552\n# d-COPIA253MF plus\n# d-COP&quot;..., 4096) = 224
74964 read(10, &quot;&quot;, 4096)                = 0
74964 close(10)                         = 0
74964 openat(AT_FDCWD, &quot;/usr/lib/sane/libsane-kyocera_gdi_a3.so.1&quot;, O_RDONLY) = 10
74964 close(10)                         = 0
74964 openat(AT_FDCWD, &quot;/usr/lib/sane/libsane-kyocera_gdi_a3.so.1&quot;, O_RDONLY|O_CLOEXEC) = 10
74964 read(10, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\0k\0\0\0\0\0\0&quot;..., 832) = 832
74964 fstat(10, {st_mode=S_IFREG|0755, st_size=511543, ...}) = 0
74964 mmap(NULL, 2276528, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 10, 0) = 0x7f1152d59000
74964 mprotect(0x7f1152d80000, 2093056, PROT_NONE) = 0
74964 mmap(0x7f1152f7f000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 10, 0x26000) = 0x7f1152f7f000
74964 mmap(0x7f1152f81000, 15536, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f1152f81000
74964 close(10)                         = 0

.....

4964 read(18, &quot;1\n&quot;, 5)                = 2
74964 close(18)                         = 0
74964 close(17)                         = 0
74964 openat(AT_FDCWD, &quot;./kyocera.conf&quot;, O_RDONLY) = -1 ENOENT (Нет такого файла или каталога)
74964 openat(AT_FDCWD, &quot;/etc/sane.d/kyocera.conf&quot;, O_RDONLY) = 17
74964 fstat(17, {st_mode=S_IFREG|0644, st_size=334, ...}) = 0
74964 read(17, &quot;#Kyocera MFP supported device\n\n#&quot;..., 4096) = 334
74964 read(17, &quot;&quot;, 4096)                = 0
74964 openat(AT_FDCWD, &quot;/usr/lib/sane/libsane-xerox_mfp.so.1&quot;, O_RDONLY) = 18
74964 close(18)
</code></pre><br />Т.е. вроде ОК.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226206"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226206/">#</a>
            2 года, 7 месяцев назад
            
                (отредактировано
                
                    2 года, 7 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            connect на<br /><br />видящем-<pre><code>175735 connect(12, {sa_family=AF_INET, sin_port=htons(9090), sin_addr=inet_addr(&quot;192.168.1.100&quot;)}, 16) = -1 EINPROGRESS (Операция выполняется в данный момент)
175735 connect(81, {sa_family=AF_UNIX, sun_path=&quot;/run/dbus/system_bus_socket&quot;}, 29) = 0
175735 connect(137, {sa_family=AF_UNIX, sun_path=&quot;/run/dbus/system_bus_socket&quot;}, 29) = 0
175737 +++ exited with 0 +++
175736 +++ exited with 0 +++
175735 +++ exited with 0 +++
~
</code></pre>не видящем <pre><code>
74848 select(23, [21 22], NULL, NULL, {tv_sec=0, tv_usec=500000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 1 (in [22], left {tv_sec=0, tv_usec=65989})
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=61406}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 1 (in [22], left {tv_sec=0, tv_usec=119476})
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)
74848 connect(24, {sa_family=AF_UNIX, sun_path=&quot;/run/dbus/system_bus_socket&quot;}, 29) = 0
74848 select(23, [22], NULL, NULL, {tv_sec=1, tv_usec=0}) = 0 (Timeout)
74848 select(23, [22], NULL, NULL, {tv_sec=1, tv_usec=0}) = 0 (Timeout)
74848 select(22, [21], NULL, NULL, {tv_sec=0, tv_usec=300000}) = 0 (Timeout)
74848 connect(23, {sa_family=AF_UNIX, sun_path=&quot;/run/dbus/system_bus_socket&quot;}, 29) = 0
74850 +++ exited with 0 +++
74849 +++ exited with 0 +++
74848 +++ exited with 0 +++

</code></pre><br />Т.е. вроде как даже и не пытается, но пытается -<br /><br /><pre><code>
grep sin_addr log2
74964 bind(21, {sa_family=AF_INET, sin_port=htons(8612), sin_addr=inet_addr(&quot;192.168.1.4&quot;)}, 16) = 0
74964 sendto(21, &quot;BJNP\2\1\0\0\0\0\0\0\0\0\0\0&quot;, 16, 0, {sa_family=AF_INET, sin_port=htons(8612), sin_addr=inet_addr(&quot;192.168.1.255&quot;)}, 16) = 16
74964 sendto(21, &quot;MFNP\2\1\0\0\0\0\0\0\0\0\0\0&quot;, 16, 0, {sa_family=AF_INET, sin_port=htons(8610), sin_addr=inet_addr(&quot;192.168.1.255&quot;)}, 16) = 16
74964 sendto(21, &quot;BJNP\2\1\0\0\0\0\0\0\0\0\0\0&quot;, 16, 0, {sa_family=AF_INET, sin_port=htons(8612), sin_addr=inet_addr(&quot;192.168.1.255&quot;)}, 16) = 16
74964 sendto(21, &quot;MFNP\2\1\0\0\0\0\0\0\0\0\0\0&quot;, 16, 0, {sa_family=AF_INET, sin_port=htons(8610), sin_addr=inet_addr(&quot;192.168.1.255&quot;)}, 16) = 16
74964 sendmsg(22, {msg_name={sa_family=AF_INET, sin_port=htons(161), sin_addr=inet_addr(&quot;255.255.255.255&quot;)}, msg_namelen=16, msg_iov=[{iov_base=&quot;0G\2\1\1\4\6public\240:\2\4\177\344\4\232\2\1\0\2\1\0000,0\f\6&quot;..., iov_len=73}], msg_iovlen=1, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT|MSG_NOSIGNAL) = 73
74964 recvmsg(22, {msg_name={sa_family=AF_INET, sin_port=htons(161), sin_addr=inet_addr(&quot;192.168.1.100&quot;)}, msg_namelen=28-&gt;16, msg_iov=[{iov_base=&quot;0y\2\1\1\4\6public\242l\2\4\177\344\4\232\2\1\0\2\1\0000^06\6&quot;..., iov_len=65536}], msg_iovlen=1, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT) = 123
74964 getsockname(22, {sa_family=AF_INET, sin_port=htons(51264), sin_addr=inet_addr(&quot;0.0.0.0&quot;)}, [28-&gt;16]) = 0
74964 sendmsg(22, {msg_name={sa_family=AF_INET, sin_port=htons(161), sin_addr=inet_addr(&quot;255.255.255.255&quot;)}, msg_namelen=16, msg_iov=[{iov_base=&quot;0G\2\1\1\4\6public\240:\2\4\177\344\4\232\2\1\0\2\1\0000,0\f\6&quot;..., iov_len=73}], msg_iovlen=1, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT|MSG_NOSIGNAL) = 73
74964 recvmsg(22, {msg_name={sa_family=AF_INET, sin_port=htons(161), sin_addr=inet_addr(&quot;192.168.1.100&quot;)}, msg_namelen=28-&gt;16, msg_iov=[{iov_base=&quot;0y\2\1\1\4\6public\242l\2\4\177\344\4\232\2\1\0\2\1\0000^06\6&quot;..., iov_len=65536}], msg_iovlen=1, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT) = 123
74964 getsockname(22, {sa_family=AF_INET, sin_port=htons(51264), sin_addr=inet_addr(&quot;0.0.0.0&quot;)}, [28-&gt;16]) = 0
74964 sendto(22, &quot;EPSONP\0\377\0\0\0\0\0\0\0&quot;, 15, 0, {sa_family=AF_INET, sin_port=htons(3289), sin_addr=inet_addr(&quot;255.255.255.255&quot;)}, 16) = 15
74964 sendto(22, &quot;EPSONP\0\377\0\0\0\0\0\0\0&quot;, 15, 0, {sa_family=AF_INET, sin_port=htons(3289), sin_addr=inet_addr(&quot;255.255.255.255&quot;)}, 16) = 15
74964 sendto(21, &quot;\2\0\1\2\0\0\0\35%\0\26std-scan-discovery-al&quot;..., 37, 0, {sa_family=AF_INET, sin_port=htons(1124), sin_addr=inet_addr(&quot;255.255.255.255&quot;)}, 16) = 37

</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226209"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226209/">#</a>
            2 года, 7 месяцев назад
            
                (отредактировано
                
                    2 года, 7 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>wau</em><br>74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)<br />74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)<br />74848 select(23, [22], NULL, NULL, {tv_sec=0, tv_usec=125000}) = 0 (Timeout)</blockquote>В части системного вызова select - я представляю его как то так -  этот вызов предназначен для обработки очереди сообщений, то есть ожидается прибытие каких то считанных данных … и  если хотя бы один сокет готов к выполнению заданной операции, select возвращает ненулевое значение (файловый дескриптор, соответствующий очереди сообщений), но если сработал таймаут, как в приведенных логах, select возвращает ноль ... как таковой ошибки нет (в случае ошибки возвращается значение -1) - ожидаем вечно, если не было указано время ожидания.<br />То есть можно предположить (с большой степенью вероятности), что данные были прочитаны, поставлены для пересылки в очередь, но по какой то причине не могут быть получены/обработаны (сокет не готов к их обработке). А вот почему - хрен его знает, нужно копать глубже.<br />… хотя как то встречалось в описании и такое<br /><pre><code>… select() или poll(), могут возвращать фиктивные уведомления о готовности - они могут ложно информировать нас что некий файловый дескриптор готов. Это может быть вызвано некой ошибкой ядра или быть ожидаемым поведением в некотором необычном сценарии …</code></pre>Но похоже, что новому принтеру чего то не хватает, а вот чего??? - возможно это связано с драйверами или с ядром или с сетью … одни гадания, нужно инфа более полная.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-226317"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/belial2/">
                <span class="post-username">belial2</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/226317/">#</a>
            2 года, 6 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/belial2/topics/">
                    1
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/belial2/posts/">
                    29
                </a>
            </div>
            <div>
                Участник с: 10 февраля 2020
            </div>
            
        </td>
        <td class="post-content">
            Сорри, что вмешиваюсь, но не проще ли на этом японце в адресную книгу добавить путь к шаре, или уже обсуждалось?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-238625"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/238625/">#</a>
            1 год, 8 месяцев назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            Блин. Отвалилось. Проверил - авахи на месте, в логах ошибок нет,<br />SANE_DEBUG_DLL=128 scanimage -L конфиги читает без ошибок, но ничего не находит. Посмторел, чем богат репозиторий - доставил sane-airscan, сканер нашелся -<br /><br />et_avahi_browse_callback: ALL_FOR_NOW<br />device `airscan:e1:Kyocera ECOSYS M5521cdw&#39; is a eSCL Kyocera ECOSYS M5521cdw ip=192.168.1.100<br /><br />Но вот незадача - работает только от рута. Добавил себя в группу scanner - пофиг. Помню, в бубунтовские времена читал про это, все крутилось вокруг прав на /dev/usb,  соответственно прописывалось в правилах udev, но у нас-то сканер сетевой. Причем вместо  kyocera_wc3:192.168.1.100 он его обнаруживает как airscan:e1:Kyocera ECOSYS M5521cdw.<br /><br />Куда копать?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-238628"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/wau/">
                <span class="post-username">wau</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/238628/">#</a>
            1 год, 8 месяцев назад
            
                (отредактировано
                
                    1 год, 8 месяцев назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/wau/topics/">
                    132
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/wau/posts/">
                    960
                </a>
            </div>
            <div>
                Участник с: 11 октября 2013
            </div>
            
        </td>
        <td class="post-content">
            Снес sane-airscan, в ответ на SANE_DEBUG_DLL=128 scanimage -L ошибок нет, но и сканера нет -<br /><br /><pre><code>
[19:19:32.390152] [dll] add_backend: adding backend `xerox_mfp&#39;
[19:19:32.390157] [dll] add_backend: adding backend `kyocera&#39;
[19:19:32.390161] [dll] add_backend: adding backend `kyocera_gdi_a3&#39;
[19:19:32.390166] [dll] add_backend: adding backend `kyocera_wc3&#39;
[19:19:32.390171] [dll] add_backend: adding backend `kyocera_wc3_usb&#39;
[19:19:32.390181] [dll] sane_get_devices
[19:19:32.390187] [dll] load: searching backend `kyocera_wc3_usb&#39; in `/usr/lib/sane&#39;
[19:19:32.390191] [dll] load: trying to load `/usr/lib/sane/libsane-kyocera_wc3_usb.so.1&#39;
[19:19:32.390199] [dll] load: dlopen()ing `/usr/lib/sane/libsane-kyocera_wc3_usb.so.1&#39;
[19:19:32.390500] [dll] init: initializing backend `kyocera_wc3_usb&#39;
[19:19:32.621814] [dll] init: backend `kyocera_wc3_usb&#39; is version 1.0.1
[19:19:32.622048] [dll] load: searching backend `kyocera_wc3&#39; in `/usr/lib/sane&#39;
[19:19:32.622066] [dll] load: trying to load `/usr/lib/sane/libsane-kyocera_wc3.so.1&#39;
[19:19:32.622086] [dll] load: dlopen()ing `/usr/lib/sane/libsane-kyocera_wc3.so.1&#39;
[19:19:32.624006] [dll] init: initializing backend `kyocera_wc3&#39;
[19:19:32.624040] [dll] init: backend `kyocera_wc3&#39; is version 1.0.1
[19:19:32.624355] [dll] load: searching backend `kyocera_gdi_a3&#39; in `/usr/lib/sane&#39;
[19:19:32.624374] [dll] load: trying to load `/usr/lib/sane/libsane-kyocera_gdi_a3.so.1&#39;
[19:19:32.624390] [dll] load: dlopen()ing `/usr/lib/sane/libsane-kyocera_gdi_a3.so.1&#39;
[19:19:32.624508] [dll] init: initializing backend `kyocera_gdi_a3&#39;
[19:19:32.627048] [dll] init: backend `kyocera_gdi_a3&#39; is version 1.0.1
[19:19:32.627162] [dll] load: searching backend `kyocera&#39; in `/usr/lib/sane&#39;
[19:19:32.627182] [dll] load: trying to load `/usr/lib/sane/libsane-kyocera.so.1&#39;
[19:19:32.627201] [dll] load: dlopen()ing `/usr/lib/sane/libsane-kyocera.so.1&#39;
[19:19:32.627356] [dll] init: initializing backend `kyocera&#39;
[19:19:32.636667] [dll] init: backend `kyocera&#39; is version 1.0.1
[19:19:32.636841] [dll] load: searching backend `xerox_mfp&#39; in `/usr/lib/sane&#39;
[19:19:32.636873] [dll] load: trying to load `/usr/lib/sane/libsane-xerox_mfp.so.1&#39;
[19:19:32.636915] [dll] load: dlopen()ing `/usr/lib/sane/libsane-xerox_mfp.so.1&#39;
[19:19:32.637341] [dll] init: initializing backend `xerox_mfp&#39;
[19:19:32.640864] [dll] init: backend `xerox_mfp&#39; is version 1.0.13

[19:19:38.272712] [dll] init: backend `epkowa&#39; is version 1.0.213
[19:19:38.272895] [dll] sane_get_devices: found 0 devices
[19:19:38.272937] [dll] sane_exit: exiting
</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous">
                    <a href="?page=9" aria-label="предыдущая страница">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </a>
                </li>
            

            
                
                    
                        <li>
                            <a href="?page=1">1</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=4">4</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=5">5</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=6">6</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=7">7</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=8">8</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=9">9</a>
                        </li>
                    
                
            
                
                    
                        <li class="active">
                            <a href="?page=10">10 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=11">11</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=11" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/19121/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747b602abb191672',m:'3U5wBYmeVVurU4H79b8YGHHSjbJkFvIo305jfBii.Ug-1662678817-0-Ac7UiqKubaQSiCL8wFqZSSD6nJxmI5gp8/BXk5ke3uIZoC+sz0P4R52loR5Sh2bozWFMK4rbYpZk8r9r4e6Ec1RBzH4+irs86awJM/1kRW4Wh2FhAXPLfHS2ZbbcRVCE9aCt4lwioXQy3jW2ePCesxc=',s:[0x442a6edaba,0x31326aad38],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
