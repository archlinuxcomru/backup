


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Нестандартный файл MPEG2-PS: как спасти видео ?
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://storage.yandexcloud.net/aor-static/static/css/default.css">
    
    
    

    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/5/">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/4/">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>Нестандартный файл MPEG2-PS: как спасти видео ?</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>Нестандартный файл MPEG2-PS: как спасти видео ?</h1>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112450"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kotnaton/">
                <span class="post-username">kotnaton</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112450/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kotnaton/topics/">
                    52
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kotnaton/posts/">
                    208
                </a>
            </div>
            <div>
                Участник с: 28 июня 2012
            </div>
            
        </td>
        <td class="post-content">
            Попробую повторить свой вопрос <a href="http://forum.ubuntu.ru/index.php?topic=166202.msg1221282#msg1221282">впервые заданный на форуме Убунту</a>.<br/><br/>Несколько лет назад оцифровывал видео, к сожалению, какой-то очень хитрой проприетарной софтиной, прилагавшейся к тюнеру, и тот выдал какой-то очень хитрый результат...<br/><br/>Пример такого файла тут: <a href="https://yadi.sk/d/3Iokaa7g5gHlg">(45Мб)</a><br/><br/>На Убунте до сих пор показывает "серый квадрат", здесь, в Арче, картинка вроде есть, но прерывистая, mplayer отбрыкивается так:<br/><div class="code"><pre>$ mplayer 'RCA-IN 100215-015655.mpg'
MPlayer2 UNKNOWN (C) 2000-2012 MPlayer Team
[ass] FcFreeTypeQueryFace failed
Cannot open file '/home/mylogin/.mplayer/input.conf': No such file or directory
Failed to open /home/mylogin/.mplayer/input.conf.
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
Playing /run/media/mylogin/15 фев 2010/RCA-IN 100215-015655.mpg.
Detected file format: MPEG-PS (MPEG-2 Program Stream) (libavformat)
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
[mpeg @ 0x7f3b6607a380]max_analyze_duration 5000000 reached at 5016000 microseconds
[lavf] stream 0: video (mpeg2video), -vid 0
[lavf] stream 1: audio (mp2), -aid 0
Load subtitles in /run/media/mylogin/15 фев 2010/
[gl] using extended formats. Use -vo gl:nomanyfmts if playback fails.
Selected video codec: MPEG-2 video [libavcodec]
Selected audio codec: MPEG 1.0/2.0/2.5 layers I, II, III [mpg123]
AUDIO: 48000 Hz, 2 ch, s16le, 128.0 kbit/8.33% (ratio: 16000-&gt;192000)
AO: [pulse] 48000Hz 2ch s16le (2 bytes per sample)
Starting playback...
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
VIDEO:  704x576  50.000 fps    0.0 kbps ( 0.0 kB/s)
Aspect ratio is 1.33:1 - scaling to correct movie aspect.
VO: [gl] 704x576 =&gt; 768x576 Planar YV12
A:  -0.0 V:   0.0 A-V: -0.043 ct:  0.000   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.0 V:   0.0 A-V: -0.019 ct: -0.003   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.1 V:   0.1 A-V: -0.025 ct: -0.005   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.1 V:   0.1 A-V: -0.015 ct: -0.007   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.1 V:   0.2 A-V: -0.022 ct: -0.009   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.2 V:   0.2 A-V: -0.012 ct: -0.011   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.2 V:   0.2 A-V: -0.018 ct: -0.012   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.3 V:   0.3 A-V: -0.008 ct: -0.014   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.3 V:   0.3 A-V: -0.014 ct: -0.015   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.4 V:   0.4 A-V: -0.004 ct: -0.016   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.4 V:   0.4 A-V: -0.011 ct: -0.017   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.4 V:   0.4 A-V: -0.017 ct: -0.018   0/  0 ??% ??% ??,?% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.5 V:   0.5 A-V: -0.015 ct: -0.020   0/  0 17% 29%  2.1% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
Decreasing video pts: 0.040000 &lt; 0.520889
A:   0.5 V:   0.5 A-V: -0.000 ct: -0.020   0/  0 18% 30%  2.7% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
Decreasing video pts: 0.080000 &lt; 0.520889
A:   0.5 V:   0.5 A-V:  0.022 ct: -0.020   0/  0 18% 34%  2.7% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.6 V:   0.5 A-V:  0.032 ct: -0.020   0/  0 19% 35%  2.7% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.6 V:   0.6 A-V:  0.014 ct: -0.021   0/  0 18% 36%  2.5% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.6 V:   0.6 A-V: -0.014 ct: -0.022   0/  0 17% 34%  2.4% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct
A:   0.6 V:   0.6 A-V: -0.005 ct: -0.023   0/  0 16% 35%  2.2% 0 0
[mpeg2video @ 0x7f3b66947e20]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0x7f3b66947e20]invalid frame_pred_frame_dct</pre></div><br/>Попытка, конвертнуть отбрыкиваются бесконечными...<br/><div class="code"><pre>    Last message repeated 1 times
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=50998 size=72925
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=53039 size=72925
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=55080 size=72925
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=57121 size=72925
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=59162 size=72925
[mpeg @ 0x2224ca0] buffer underflow i=0 bufi=61203 size=72925</pre></div> Винда недоступна, видео, чтобы оцифровать уже открытыми средстави линукса, тоже нет... Можно-ли такое видео спасти средствами линукса ?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112456"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/sirocco/">
                <span class="post-username">sirocco</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112456/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/sirocco/topics/">
                    29
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/sirocco/posts/">
                    2501
                </a>
            </div>
            <div>
                Участник с: 25 июля 2007
            </div>
            
        </td>
        <td class="post-content">
            avidemux
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112458"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kurych/">
                <span class="post-username">kurych</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112458/">#</a>
            9 лет, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kurych/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kurych/posts/">
                    1394
                </a>
            </div>
            <div>
                Участник с: 06 ноября 2011
            </div>
            
        </td>
        <td class="post-content">
            Я в видео-форматах не большой знаток, поэтому, не вдаваясь в подробности, сообщу, что<br/>1. Да, в ffplay и mplayer без дополнительных параметров наблюдаются дергания и прерывани, однако<br/>2. в smplayer (фронтенде для mplayer) все ровно и проигрывается с помощью ffmpeg2<br/><blockquote><strong>RCA-IN 100215-015655.mpg</strong><br/>Основная информация<br/>Файл /home/user/video/RCA-IN 100215-015655.mpg<br/>Размер 44206 КБ (43 МБ)<br/>Продолжительность 00:00:54<br/>Демультиплексор mpegps<br/><br/><strong>Видео</strong><br/>Разрешение экрана 704 x 576<br/>Соотношение сторон 1.3333<br/>Формат 0x10000002<br/>Битрейт 7000 кб/с<br/>Кадров в секунду 25.000<br/><strong>Выбранный кодек ffmpeg2</strong><br/></blockquote><br/>3. Обычно я все неудобоваримое видео перекодирую с помощью этой штуки (GUI или консольная версия)<br/>community/handbrake 0.9.9-1<br/>    Multithreaded video transcoder<br/>community/handbrake-cli 0.9.9-1<br/>    Multithreaded video transcoder (CLI)<br/>До сих пор отрицательных результатов не получал.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112578"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Aivar/">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112578/">#</a>
            9 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Aivar/topics/">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Aivar/posts/">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            У меня mplayer ругается, но воспроизводит это видео плавно. Smplayer - также, только вся ругань находится в логе mplayer'а. Другое дело, что в видео неверно указан флаг чересстрочности:<br/><div class="code"><pre>$ mediainfo RCA-IN\ 100215-015655.mpg |grep "Scan type"
Scan type                                : Progressive</pre></div>Там невооруженным взглядом видно чересстрочную развертку, поэтому смотреть видео нужно с фильтром деинтерлейсинга.<br/><br/>По результатам конвертирования ffmpeg не справился с задачей (есть прерывания), а вот mencoder со включенной индексацией при той же ругани создал видео, практически не отличающееся по качеству от входного:<br/><div class="code"><pre>$ mencoder RCA-IN\ 100215-015655.mpg -forceidx -vf pp=lb,dsize=704:528,scale=704:528 -ofps 25 -ovc xvid -xvidencopts quant_type=h263:fixed_quant=4:aspect=4/3:threads=2 -oac mp3lame -lameopts cbr:br=128 -o movie_out.avi</pre></div>Так же с аналогичными фильтрами нормально отработал Avidemux.<br/><br/>А вот VLC, действительно, дергает исходное видео...
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112586"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/ghost/">
                <span class="post-username">ghost</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112586/">#</a>
            9 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/ghost/topics/">
                    26
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/ghost/posts/">
                    632
                </a>
            </div>
            <div>
                Участник с: 07 мая 2013
            </div>
            
        </td>
        <td class="post-content">
            У меня в VLC воспроизводится, еще и со звуком... (может я не понял вопроса???)
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112596"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/killer1804/">
                <span class="post-username">killer1804</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112596/">#</a>
            9 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/killer1804/topics/">
                    54
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/killer1804/posts/">
                    515
                </a>
            </div>
            <div>
                Участник с: 13 марта 2007
            </div>
            
        </td>
        <td class="post-content">
            У меня кажет прекрасно, если чем-то это поможет то вот вывод консоли:<br/><br/><div class="code"><pre>[<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="770204120547371f181a121b1e19020f">[email&#160;protected]</a> ~]$ mplayer ~/Downloads/RCA-IN\ 100215-015655.mpg
MPlayer SVN-r36285-4.8.0 (C) 2000-2013 MPlayer Team
Cannot test OS support for SSE, disabling to be safe.
205 audio &amp; 424 video codecs
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote control.
Playing /home/user0/Downloads/RCA-IN 100215-015655.mpg.
libavformat version 55.7.100 (internal)
MPEG-PS file format detected.
VIDEO:  MPEG2  704x576  (aspect 2)  25.000 fps  7000.0 kbps (875.0 kbyte/s)
Load subtitles in /home/user0/Downloads/
[vdpau] Error when calling vdp_device_create_x11: 1
==========================================================================
Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family
libavcodec version 55.12.100 (internal)
Selected video codec: [ffmpeg2] vfm: ffmpeg (FFmpeg MPEG-2)
==========================================================================
==========================================================================
Opening audio decoder: [mpg123] MPEG 1.0/2.0/2.5 layers I, II, III
AUDIO: 48000 Hz, 2 ch, s16le, 128.0 kbit/8.33% (ratio: 16000-&gt;192000)
Selected audio codec: [mpg123] afm: mpg123 (MPEG 1.0/2.0/2.5 layers I, II, III)
==========================================================================
[AO OSS] audio_setup: Can't open audio device /dev/dsp: No such file or directory
AO: [alsa] 48000Hz 2ch s16le (2 bytes per sample)
Starting playback...
[VD_FFMPEG] Trying pixfmt=0.
[VD_FFMPEG] XVMC-accelerated MPEG-2.
The selected video_out device is incompatible with this codec.
Try appending the scale filter to your filter list,
e.g. -vf spp,scale instead of -vf spp.
[VD_FFMPEG] Trying pixfmt=1.
[VD_FFMPEG] XVMC-accelerated MPEG-2.
The selected video_out device is incompatible with this codec.
Try appending the scale filter to your filter list,
e.g. -vf spp,scale instead of -vf spp.
[VD_FFMPEG] Trying pixfmt=2.
[VD_FFMPEG] XVMC-accelerated MPEG-2.
The selected video_out device is incompatible with this codec.
Try appending the scale filter to your filter list,
e.g. -vf spp,scale instead of -vf spp.
[mpeg2video @ 0xb75bbc00]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xb75bbc00]invalid frame_pred_frame_dct
Movie-Aspect is 1.33:1 - prescaling to correct movie aspect.
VO: [xv] 704x576 =&gt; 768x576 Planar YV12
[mpeg2video @ 0xb75bbc00]interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xb75bbc00]invalid frame_pred_frame_dct</pre></div>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-112603"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Aivar/">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/112603/">#</a>
            9 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Aivar/topics/">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Aivar/posts/">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            Оказывается, если подойти к вопросу с утра, всё банально просто: mplayer сыплет ошибку на уровне декодирования, а именно - не справляется выбранный декодер: <strong>ffmpeg2 (FFmpeg MPEG-2 [mpeg2video])</strong>.<br/>Если форсированно указать <strong>mpeg12 (MPEG-1 or 2 [libmpeg2])</strong>, всё работает без шума и пыли:<br/><br/><div class="code"><pre>$ mplayer RCA-IN\ 100215-015655.mpg -vf pp=lb -vc mpeg12
MPlayer SVN-r36285-4.8.0 (C) 2000-2013 MPlayer Team
205 audio &amp; 424 video codecs
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote control.
Playing RCA-IN 100215-015655.mpg.
libavformat version 55.7.100 (internal)
MPEG-PS file format detected.
VIDEO:  MPEG2  704x576  (aspect 2)  25.000 fps  7000.0 kbps (875.0 kbyte/s)
Load subtitles in ./
Could not find a UTF-8 locale, some keys will not be handled.
Opening video filter: [pp=lb]
==========================================================================
Forced video codec: mpeg12
Opening video decoder: [libmpeg2] libmpeg2 MPEG 1/2 Video decoder
Selected video codec: [mpeg12] vfm: libmpeg2 (MPEG-1 or 2 (libmpeg2))
==========================================================================
==========================================================================
Opening audio decoder: [mpg123] MPEG 1.0/2.0/2.5 layers I, II, III
AUDIO: 48000 Hz, 2 ch, s16le, 128.0 kbit/8.33% (ratio: 16000-&gt;192000)
Selected audio codec: [mpg123] afm: mpg123 (MPEG 1.0/2.0/2.5 layers I, II, III)
==========================================================================
AO: [alsa] 48000Hz 2ch s16le (2 bytes per sample)
Starting playback...
[PP] Using external postprocessing filter, max q = 6.
Movie-Aspect is 1.33:1 - prescaling to correct movie aspect.
VO: [vdpau] 704x576 =&gt; 768x576 Planar YV12
A:   4.4 V:   4.4 A-V: -0.001 ct: -0.022 111/111  6%  2%  0.3% 0 0 </pre></div><br/>То же касается и mencoder'а:<br/><div class="code"><pre>$ mencoder RCA-IN\ 100215-015655.mpg -forceidx -vf pp=lb,dsize=704:528,scale=704:528 -ofps 25 -vc mpeg12 -ovc xvid -xvidencopts quant_type=h263:fixed_quant=4:aspect=4/3:threads=2 -oac mp3lame -lameopts cbr:br=128 -o movie_out.avi</pre></div>отрабатывает на ура!<br/>Тип матрицы квантизации можно не указывать, она и по дефолту h263. Всё остальное, как то выходные кодеки и их параметры при необходимости можете указывать свои, только не нарушайте пропорции кадра.<br/>Так же, если нужно сохранять видео в mpeg2, необходимо придерживаться стандарта, в данном случае - DVD PAL.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-138889"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kotnaton/">
                <span class="post-username">kotnaton</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/138889/">#</a>
            8 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kotnaton/topics/">
                    52
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kotnaton/posts/">
                    208
                </a>
            </div>
            <div>
                Участник с: 28 июня 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>Aivar</em><br>всё работает без шума и пыли:</blockquote><pre><code>==========================================================================
Forced video codec: mpeg12
Requested video codec family [mpeg12] (vfm=libmpeg2) not available.
Enable it at compilation.
Cannot find codec matching selected -vo and video format 0x10000002.
==========================================================================</code></pre>Все так-же скачет, и явно в контейнере mpg излишняя информация. Вообщем, вопрос до сих пор актуален :(<br /><br /><blockquote><em>ghost</em><br>У меня в VLC воспроизводится, еще и со звуком... (может я не понял вопроса???)</blockquote>в mplayer действительно нормально воспроизводит, а вот в vlc,mpv - &quot;скачет&quot;. до сих пор.<br /><br />Теперь ffmpeg &quot;отбрехается&quot; так:<br /><pre><code>[mpeg2video @ 0xe13d60] interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xe13d60] invalid frame_pred_frame_dct
[mpeg2video @ 0xe13d60] interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xe13d60] invalid frame_pred_frame_dct
[mpeg2video @ 0xe13d60] interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xe13d60] invalid frame_pred_frame_dct
[mpeg2video @ 0xe13d60] interlaced frame in progressive sequence, ignoring
[mpeg2video @ 0xe13d60] invalid frame_pred_frame_dct</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-138898"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/z-vladimir/">
                <span class="post-username">z-vladimir</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/138898/">#</a>
            8 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/z-vladimir/topics/">
                    0
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/z-vladimir/posts/">
                    33
                </a>
            </div>
            <div>
                Участник с: 15 октября 2012
            </div>
            
        </td>
        <td class="post-content">
            Проблемы с дерганием возможны как из-за неправильного определения порядка полей черезстрочного видео, так и неудачной попытке синхронизации звука с видео во время проигрывания. На первый взгляд в приведенном фрагменте черезстрочное видео было закодировано как прогрессивное. Стоит ли с этим бороться - ну не знаю, в выложенном фрагменте это не напрягает. А вот дергания из-за рассинхрона звука и видео можно побороть.<br />Не нужно ничего перекодировать. Проще всего пересобрать видео без перекодирования в другой контейнер, например avi или mkv. Тогда все будет нормально. С помощью того же avidemux это займет несколько минут на двухчасовой фильм. И это без потери качества, если этот термин, конечно, применим для данного фрагмента. Единственное нужно посмотреть итоговый файл, будет ли там рассинхрон ближе к концу. По маленькому фрагменту это тоже не ясно. Если будет, то нужно будет разложить фрагмент отдельно на видео и звук, скорректировать в звуковом редакторе частоту дескритезации аудиодорожки, подогнав под длину видео, а потом снова загнать в один контейнер. Любая же попытка работы с видео, на мой взгляд, только ухудшит его качество.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-138949"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/Aivar/">
                <span class="post-username">Aivar</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/138949/">#</a>
            8 лет, 2 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/Aivar/topics/">
                    4
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/Aivar/posts/">
                    6897
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2011
            </div>
            
        </td>
        <td class="post-content">
            <strong>kotnaton</strong>, долго же вы отвечали...<br /><br /><blockquote><em>kotnaton</em><br><pre><code>Requested video codec family [mpeg12] (vfm=libmpeg2) not available.</code></pre></blockquote>На момент написания поста (год назад) изменение декодера работало, а сейчас и автоопределяемый ffmpeg2 нормально воспроизводит ваше видео.<br /><br /><blockquote><br>в mplayer действительно нормально воспроизводит</blockquote>Другим не пользуюсь.<br />С содержимым контейнера действительно не все в норме, потому что mplayer на этапе декодирования сыплет ошибками. Отключить их можно, добавив опцию <strong>-msglevel decvideo=0</strong>, но это ошибки кодирования вашего видео, а не плеера.<br /><br /><blockquote><em>z-vladimir</em><br>На первый взгляд в приведенном фрагменте черезстрочное видео было закодировано как прогрессивное.</blockquote>См. мой первый пост в этой теме.<br /><br /><blockquote><em>z-vladimir</em><br>Проще всего пересобрать видео без перекодирования в другой контейнер, например avi или mkv.</blockquote>mpeg2 в матрешку упаковать нельзя. В avi можно, но это нестандартный подход, с которым это видео не возьмет ни один &quot;железный&quot; плеер. К тому же, в авишке видео снова начинает подтормаживать. Попытка же перепаковать аудио-, видео- потоки в стандартные для mpeg2 контейнеры (mpg, vob, dvd) не устраняет ошибок при воспроизведении. Более того, перепаковка только видео без звука также не меняет ситуацию, что подтверждает, что дело только в ошибках кодирования <strong>оригинального видео</strong>, а не звука, контейнера и т.д.
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    


    <nav>
        <ul class="pagination">
            
                <li class="previous disabled">
                    <span>
                        <span aria-hidden="true">&laquo;</span>
                        <span class="hidden-xs">предыдущая страница</span>
                    </span>
                </li>
            

            
                
                    
                        <li class="active">
                            <a href="?page=1">1 <span class="sr-only">(текущая страница)</span></a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=2">2</a>
                        </li>
                    
                
            
                
                    
                        <li>
                            <a href="?page=3">3</a>
                        </li>
                    
                
            

            
                <li class="next">
                    <a href="?page=2" aria-label="следующая страница">
                        <span class="hidden-xs">следующая страница</span>
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            
        </ul>
    </nav>


</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/11801/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){var js = "window['__CF$cv$params']={r:'747b74f32b157a71',m:'GmHJAu2E.h2mbinj_8x2tOvovYBCL.6d.wqPbls3.78-1662679668-0-AXf//qwgsSJWu2izYySYp+/+CKxDWpq+kSg1dQKytd5yMLWutoZsGkDqTnrAU5/2W4wtS603mAcX91Z69VtKrS7O+PgeEEY9ptgdoP+VYbSSMcEXunWeXVwNaqJivH6CcIUkHTUo3NCwRvzmTFz7f+k=',s:[0x7cad38cb57,0xd099e14357],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
