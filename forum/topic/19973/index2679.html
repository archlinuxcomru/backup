


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        i686 из AppImage
    </title>
    <link rel="shortcut icon" href="https://storage.yandexcloud.net/aor-static/static/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="https://archlinuxcomru.github.io/backup/src/css/bootstrap.css">
    
    
    

    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/bootstrap.js"></script>
    <script type="text/javascript" src="https://archlinuxcomru.github.io/backup/src/js/pybbjs.js"></script>
    
    
    
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/posts/" title="Последние сообщения на форуме" >
    <link rel="alternate" type="application/atom+xml" href="/forum/feeds/topics/" title="Последние темы на форуме" >

    
    
    
    <script type="text/javascript" src="https://storage.yandexcloud.net/aor-static/static/pybb/js/jquery.formset.min.js"></script>

</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid wrapper">
        
    
<ul class="nav navbar-nav">
    <li>
      <a class="navbar-brand" href="/">
        <img src="https://storage.yandexcloud.net/aor-static/static/logo.png" alt="" style="opacity: .7; vertical-align: top">
      </a>
    </li>
    <li class=""><a href="/news/">Новости</a></li>
    <li class="active"><a href="/forum/">Форум</a></li>
    <li class=""><a href="/blogs/">Блоги</a></li>
    <li><a href="https://archlinux.org/">Eng</a></li>
    <li><a href="https://wiki.archlinux.org/index.php/Main_page_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29">Wiki</a></li>
    <li class="dropdown">
      <a href="https://www.archlinux.org/packages/" class="dropdown-toggle" data-toggle="dropdown">
        Пакеты
        <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li><a href="https://www.archlinux.org/packages/">Официальные репозитории</a></li></li>
        <li><a href="https://aur.archlinux.org/?setlang=ru">AUR</a></li>
      </ul>
    <li><a href="https://archlinux.org/download/">Скачать</a></li>
</ul>

<form class="navbar-form navbar-left" role="search" action="https://www.google.ru/cse">
    <input type="hidden" name="cx" value="018428664132160064944:ntsma9ch2ug"/>
    <input type="hidden" name="ie" value="UTF-8"/>
    <div class="input-group">
      <input type="text" name="q" class="form-control" placeholder="Что ищем?">
      <span class="input-group-btn">
        <button type="submit" name="sa" class="btn btn-default">Найти</button>
      </span>
    </div>
</form>

<ul class="nav navbar-nav navbar-right">


    
      <li><a href="/irc/#chat">IRC</a></li>
      <li class="dropdown">
        <a href="/accounts/login/" class="dropdown-toggle" data-toggle="dropdown">
          Профиль
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/accounts/login/">Вход</a></li>
          <li><a href="/accounts/register/">Регистрация</a></li>
        </ul>
      </li>
    
</ul>


    </div>
</nav>



<div class="modal fade" id='new_pm_notify' role="dialog" aria-labelledby="gridSystemModalLabel">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content navbar-default">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="gridSystemModalLabel">Новые личные сообщения</h4>
      </div>
      <div class="modal-body">
        <a href="/messages/inbox/" class="center-block btn btn-primary">Перейти в папку Входящие <span class="badge"></span></a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid wrapper">
    <div class="row">
        <div class="col-md-12">
            
    
        
<ul class="breadcrumb">
    

    <li><a href="/">ArchLinux.org.ru</a></li>


    <li><a href="/forum/">Начало</a> <span class="divider">/</span></li>
    
        
            
                <li><a href="/forum/category/5/">Разное</a> <span class="divider">/</span></li>
            
                <li><a href="/forum/forum/4/">/dev/null</a> <span class="divider">/</span></li>
            
        
        
            <li>i686 из AppImage</li>
        
    
    
</ul>

    

        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            
    <div class="row">
        <div class="col-md-12 forum">
            
    
    <div class="topic">
        <h1>i686 из AppImage</h1>
        
            <div class="text-center">
    



</div>

        

        

        <div class="posts">
            
            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230623"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kotnaton/">
                <span class="post-username">kotnaton</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230623/">#</a>
            2 года, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kotnaton/topics/">
                    52
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kotnaton/posts/">
                    208
                </a>
            </div>
            <div>
                Участник с: 28 июня 2012
            </div>
            
        </td>
        <td class="post-content">
            Собственно, вопрос: как запустить ?<br /><br />lib32 стоит весь, но... Пробую 32-разрядный софт из контейнера:<br /><br /><pre><code>$ LD_PRELOAD=/usr/lib32/ ./fbreader.appimage
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
/tmp/.mount_JZRJna/usr/bin/fbreader.wrapper
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
ERROR: ld.so: object &#39;/usr/lib32/ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
/home/mylogin/.cache/thumbnails/normal/c99a7c86800bd96d3c863b2b87be006c.png is missing. Please run ./bin//fbreader.wrapper from within an AppImage.
ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.
/tmp/.mount_JZRJna/usr/bin/fbreader: symbol lookup error: /usr/lib/libfontconfig.so.1: undefined symbol: FT_Done_MM_Var</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230629"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vs220/">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230629/">#</a>
            2 года, 3 месяца назад
            
                (отредактировано
                
                    2 года, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vs220/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vs220/posts/">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>kotnaton</em><br>usr/lib/libfontconfig.so.1: undefined symbol</blockquote>Fontconfig старый в образ закинуть,возможно с полным комплектом freetype2 pango harfbuzz<br />А с реп fbreader не устраивает?
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230630"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230630/">#</a>
            2 года, 3 месяца назад
            
                (отредактировано
                
                    2 года, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>kotnaton</em><br>$ LD_PRELOAD=/usr/lib32/ ./fbreader.appimage</blockquote>Пробовал запустить обычной командой <strong>fbreader.appimage</strong> ? -  в большинстве случаев это работает и посмотреть на что будет ругаться, но скорее всего останется ошибка, связанная с  <strong>error: /usr/lib/libfontconfig.so.1</strong> ... а ошибки типа <u>ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD &#8230;</u>  должны исчезнуть.<br /><br /><strike><strong>PS</strong> - насколько я понимаю, использование LD_PRELOAD вряд ли можно использовать с AppImage - все что нужно должно находится внутри &#8230; хотя могу и ошибаться - плотно с этой штукой не работал.</strike><br /><br /><strong>EDIT 1</strong> - был не прав в части использования с AppImage LD_PRELOAD - почитал DOC - использовать можно.<br />Кстати, наткнулся <a href="https://www.linuxquestions.org/questions/slackware-14/debug-appimage-4175649087/">на это</a> - подробно не читал, но там тоже решается проблема libfontconfig.so при использовании  AppImage
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230633"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/kotnaton/">
                <span class="post-username">kotnaton</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230633/">#</a>
            2 года, 3 месяца назад
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/kotnaton/topics/">
                    52
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/kotnaton/posts/">
                    208
                </a>
            </div>
            <div>
                Участник с: 28 июня 2012
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vs220</em><br>А с реп fbreader не устраивает?</blockquote>fbreader взят наугад, для примера - мне важно понять что не так делается :)<br /><br />Ну, ладно, другой пример попытки запуска 32 разрядного application, игра dukenukem:<br /><pre><code>./dn.appimage
/tmp/.mount_c8MHLz/mupen64plus: symbol lookup error: /tmp/.mount_c8MHLz/librt.so.1: undefined symbol: __clock_nanosleep, version GLIBC_PRIVATE</code></pre><br />Мне кажется, что проблема в том, что не грузятся библиотеки /usr/lib32, о чём, собственно, и указывает вывод на прямое указание директории с либами:<br /><pre><code>ERROR: ld.so: object &#39;/usr/lib32/ERROR: ld.so: object &#39;/usr/lib32/&#39; from LD_PRELOAD cannot be preloaded (cannot read file data): ignored.</code></pre>
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230634"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/nafanja/">
                <span class="post-username">nafanja</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230634/">#</a>
            2 года, 3 месяца назад
            
                (отредактировано
                
                    2 года, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
        <img src="https://storage.yandexcloud.net/aor-static/media/cache/8b/bf/8bbfdb897f0c37710a7d8b4dc072bea1.png" alt="nafanja avatar" />
    
</div>

            <div>
                Темы:
                <a href="/forum/users/nafanja/topics/">
                    94
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/nafanja/posts/">
                    9252
                </a>
            </div>
            <div>
                Участник с: 02 июня 2012
            </div>
            
                <div class="label label-warning">заблокирован</div>
            
        </td>
        <td class="post-content">
            AppImage в топку! особенно если в нем не хватает запчастей, что бы извращаться с LD_PRELOAD!<br />смысл в AppImage в том что <u>все свое ношу с собой</u>.<br />тогда нафига переопределять содержащиеся в AppImage библиотеки????
            
                
                    <div class="post-signature">
                        <a href="https://archlinux.org.ru/forum/topic/10992/">Псевдографический инсталлятор Arch Linux ver. 3.8.2</a><br />Благодарности принимаются на ЯД <strong>410012815723874</strong>
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230639"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vs220/">
                <span class="post-username">vs220</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230639/">#</a>
            2 года, 3 месяца назад
            
                (отредактировано
                
                    2 года, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vs220/topics/">
                    22
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vs220/posts/">
                    8070
                </a>
            </div>
            <div>
                Участник с: 16 августа 2009
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>kotnaton</em><br>понять что не так делается :)</blockquote><br /><pre><code>man ld.so</code></pre><blockquote>LD_LIBRARY_PATH<br />Список разделённых двоеточием <strong>каталогов</strong>, в которых производится поиск ELF библиотек в момент выполнения. Похоже на переменную окружения PATH .<br />LD_PRELOAD<br />Заданный пользователем список дополнительных динамических ELF <strong>библиотек</strong>, разделённых пробелами, которые будут загружены перед всеми другими. Это можно использовать для выборочного перекрытия функций в других динамических библиотеках. Для бинарных файлов setuid/setgid, будут загружены только библиотеки в стандартных каталогах поиска и которые также имеют setuid.</blockquote><br />по моему нельзя  LD_PRELOAD=<strong>каталог</strong> ( LD_PRELOAD=/usr/lib32 если это не опечатка с сокращением у вас)<br /><br />А по AppImage надо разбираться конкретно с каждым<br /><blockquote><em>kotnaton</em><br>symbol lookup error: /tmp/.mount_c8MHLz/librt.so.1: undefined symbol: __clock_nanosleep, version GLIBC_PRIVATE</blockquote>скорее всего версия glibc<br /><br /><blockquote><em>kotnaton</em><br>/tmp/.mount_JZRJna/usr/bin/fbreader: symbol lookup error: /usr/lib/libfontconfig.so.1: undefined symbol: FT_Done_MM_Var</blockquote>версии fontconfig и freetype2 pango harfbuzz
            
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
                
                




<table class="table table-bordered post post-row
       "
       id="post-230641"
       >
    <thead>
    <tr>
        <td class="post-author">
            <a href="/forum/users/vasek/">
                <span class="post-username">vasek</span>
            </a>
        </td>
        <td class="post-date">
            <div class="post-control">
                
                    
                
            </div>
            <a class="permalink" href="/forum/post/230641/">#</a>
            2 года, 3 месяца назад
            
                (отредактировано
                
                    2 года, 3 месяца назад)
                
            
            
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="post-info">
            

<div class="avatar">
    
</div>

            <div>
                Темы:
                <a href="/forum/users/vasek/topics/">
                    48
                </a>
            </div>
            <div>
                Сообщения:
                <a href="/forum/users/vasek/posts/">
                    11340
                </a>
            </div>
            <div>
                Участник с: 17 февраля 2013
            </div>
            
        </td>
        <td class="post-content">
            <blockquote><em>vs220</em><br>по моему нельзя LD_PRELOAD=каталог ( LD_PRELOAD=/usr/lib32 если это не опечатка с сокращением у вас)</blockquote>А я это и не заметил, <u>зоркий сокол</u> - конечно, должны быть указаны конкретные библиотеки … и даже загружаются они в определенном порядке<br /><pre><code>The items of the list can be separated by spaces or colons, and there is no support for escaping either separator.  The objects are searched for using the rules given under DESCRIPTION.  Objects are searched for and added to the link map in the left-to-right order specified in the list.</code></pre><br /><blockquote><em>vs220</em><br>скорее всего версия glibc</blockquote>fbreader AppImage старый и собран с версией <strong>glibc 2.14</strong> (fbreader - ver: 0.99.4.glibc2.14) - и если что то будет добавляться из нового, имеющего отношение к glibc, то могут быть проблемы.<br />И вообще не плохо бы потрейсить и посмотреть в какие файлы лезет и что не нравится.<br /><br />И соглашусь с <strong>nafanja</strong><br /><blockquote><em>nafanja</em><br>смысл в AppImage в том что все свое ношу с собой.</blockquote>И, наверное, проще собрать новый образ, чем шаманить старый.
            
                
                    <div class="post-signature">
                        Ошибки не исчезают с опытом - они просто умнеют
                    </div>
                
            

            <div class="post-related">
                <div class='attachments'>
                    
                </div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

            
        </div>
        <div>&nbsp;</div>
        
            <div class="text-center">
    



</div>

        

        

        
            
<a href="/accounts/register/">Зарегистрироваться</a> или <a href="/accounts/login/?next=/forum/topic/19973/">войдите</a> чтобы оставить сообщение.

        

        
    </div>

        </div>
    </div>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6 footer">
            
                <p class="copyright">&copy; 2006-2022, Русскоязычное сообщество
                    Arch Linux.<br>Название и логотип Arch Linux &trade;
                    являются признанными торговыми
                    марками.<br>Linux &reg; &mdash; зарегистрированная торговая
                    марка Linus Torvalds и LMI.</p>
            
        </div>
    </div>
</div>

<script>(function(){var js = "window['__CF$cv$params']={r:'747a932f6fc59d86',m:'PQBhuDNusd7G70x9KGEeO0c5DjUq0UaA_99fp4PLPyA-1662670420-0-AcEvDElwoUaU0DSozqtM+zSDEChoHb2+DoJr1+xlskQpDC5isangz0hzg39bzXlAhGUlSB0NCpyvvTxFHpfw0yUvwuDezYCrBcPLCuCYyxBjHpH4ARGiyNUrEmjEeiN9rJoJgxAWIC9w0HlPYObYqs8=',s:[0x10afab5f19,0xdad0df6730],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
</html>
